import{A as ym,B as mr,C as Oe,D as Bt,E as rs,F as Rc,G as wm,H as pi,I as fr,J as Em,K as Cm,L as os,M as ss,N as Le,O as At,P as as,Q as Mc,a as v,b as fi,c as ts,d as dm,e as um,f as Ce,g as hm,h as Dc,i as mm,j as It,k as fm,l as pm,m as ns,n as ge,o as gm,p as bm,q as st,r as tn,s as is,t as hr,u as vm,v as _m,w as R,x as Ge,y as ye,z as kc}from"./chunk-B7GWWRMM.js";import{$ as _c,$a as Zh,$b as om,A as Dn,Aa as Me,Ab as Vt,B as fc,Ba as We,Bb as Ut,C as pc,Ca as cr,Cb as tm,D as Fe,Da as ri,Db as _,E as Mh,Ea as oi,Eb as bt,F as $o,Fa as zh,Fb as zt,G as Qt,Ga as Bh,Gb as xc,H as Et,Ha as $h,Hb as nm,I as gc,Ia as Wh,Ib as ai,J as Nh,Ja as Hh,Jb as ci,K as or,Ka as Gh,Kb as li,L as Wo,La as qh,Lb as Ee,M as bc,Ma as qe,Mb as W,N as Ho,Na as Kh,Nb as di,O as Ph,Oa as lr,Ob as Ic,P as ni,Pa as T,Pb as Qo,Q as he,Qa as f,Qb as Zo,R as vc,Ra as dr,Rb as Ac,S as ii,Sa as yc,Sb as ui,T as le,Ta as Yh,Tb as Sc,U as Fh,Ua as Qh,Ub as Tc,V as Z,Va as qo,Vb as Ke,W as ft,Wa as Jt,Wb as im,X as E,Xa as wc,Xb as ee,Y as K,Ya as si,Yb as ur,Z as Oh,Za as ve,Zb as rm,_ as x,_a as Ne,_b as hi,a as Ot,aa as g,ab as Xh,ac as sm,b as Vo,ba as C,bb as Ko,bc as H,c as Be,ca as pt,cb as fe,cc as Xo,d as uc,da as sr,db as U,dc as Jo,e as hc,ea as k,eb as De,ec as am,f as Ae,fa as B,fb as pe,fc as cm,g as $e,ga as Y,gb as Jh,gc as lm,h as Uo,ha as F,hb as ce,hc as mi,i as Dh,ia as kn,ib as en,ic as es,j as wt,ja as Lh,jb as _e,k as Kt,ka as jh,kb as jt,l as An,la as Zt,lb as em,lc as Nc,m as be,ma as Lt,mb as Ct,mc as Pc,n as I,na as rt,nb as xt,o as Sn,oa as Se,ob as m,oc as pr,p as kh,pa as Te,pb as b,pc as gr,q as Rh,qa as Go,qb as V,qc as Fc,r as S,ra as gt,rb as ot,s as rr,sa as Rn,sb as Ec,t as it,ta as Xt,tb as $,u as zo,ua as Mn,ub as ie,v as mc,va as ae,vb as He,w as Bo,wa as J,wb as me,x as Tn,xa as Vh,xb as Yo,y as Re,ya as ar,yb as Cc,z as Yt,za as Uh,zb as Nn}from"./chunk-UVB3L2TN.js";import{a as y,b as se,f as nt}from"./chunk-CQCHLVVT.js";var vr=class{},ls=class{},Pn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Lc=class{encodeKey(e){return xm(e)}encodeValue(e){return xm(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function g_(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=i.get(s)||[];c.push(a),i.set(s,c)}),i}var b_=/%(\d[a-f0-9])/gi,v_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xm(t){return encodeURIComponent(t).replace(b_,(e,i)=>v_[i]??e)}function cs(t){return`${t}`}var nn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lc,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=g_(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(cs):[cs(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(cs(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(cs(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var jc=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function __(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Im(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Am(t){return typeof Blob<"u"&&t instanceof Blob}function Sm(t){return typeof FormData<"u"&&t instanceof FormData}function y_(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var br=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(__(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Pn,this.context??=new jc,!this.params)this.params=new nn,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),c=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Im(this.body)||Am(this.body)||Sm(this.body)||y_(this.body)?this.body:this.body instanceof nn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Sm(this.body)?null:Am(this.body)?this.body.type||null:Im(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof nn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),d)),new t(i,n,s,{params:d,headers:l,context:u,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},gi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(gi||{}),_r=class{constructor(e,i=hs.Ok,n="OK"){this.headers=e.headers||new Pn,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Vc=class t extends _r{constructor(e={}){super(e),this.type=gi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ds=class t extends _r{constructor(e={}){super(e),this.type=gi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},us=class extends _r{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},hs=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(hs||{});function Oc(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Uc=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof br)s=n;else{let l;o.headers instanceof Pn?l=o.headers:l=new Pn(o.headers);let d;o.params&&(o.params instanceof nn?d=o.params:d=new nn({fromObject:o.params})),s=new br(n,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=I(s).pipe(Dn(l=>this.handler.handle(l)));if(n instanceof br||o.observe==="events")return a;let c=a.pipe(Re(l=>l instanceof ds));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(S(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(S(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new nn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Oc(o,r))}post(n,r,o={}){return this.request("POST",n,Oc(o,r))}put(n,r,o={}){return this.request("PUT",n,Oc(o,r))}};e.\u0275fac=function(r){return new(r||e)(g(vr))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function w_(t,e){return e(t)}function E_(t,e,i){return(n,r)=>Lt(i,()=>e(n,o=>t(o,r)))}var km=new x(""),C_=new x(""),x_=new x("");var Tm=(()=>{let e=class e extends vr{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=C(Ko);let o=C(x_,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(km),...this.injector.get(C_,[])]));this.chain=o.reduceRight((s,a)=>E_(s,a,this.injector),w_)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Qt(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(g(ls),g(Zt))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var I_=/^\)\]\}',?\n/;function A_(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Dm=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?be(r.\u0275loadImpl()):I(null)).pipe(he(()=>new Be(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((A,M)=>a.setRequestHeader(A,M.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let A=n.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(n.responseType){let A=n.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let c=n.serializeBody(),l=null,d=()=>{if(l!==null)return l;let A=a.statusText||"OK",M=new Pn(a.getAllResponseHeaders()),oe=A_(a)||n.url;return l=new Vc({headers:M,status:a.status,statusText:A,url:oe}),l},u=()=>{let{headers:A,status:M,statusText:oe,url:X}=d(),ne=null;M!==hs.NoContent&&(ne=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=ne?hs.Ok:0);let mt=M>=200&&M<300;if(n.responseType==="json"&&typeof ne=="string"){let u_=ne;ne=ne.replace(I_,"");try{ne=ne!==""?JSON.parse(ne):null}catch(h_){ne=u_,mt&&(mt=!1,ne={error:h_,text:ne})}}mt?(s.next(new ds({body:ne,headers:A,status:M,statusText:oe,url:X||void 0})),s.complete()):s.error(new us({error:ne,headers:A,status:M,statusText:oe,url:X||void 0}))},h=A=>{let{url:M}=d(),oe=new us({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});s.error(oe)},p=!1,w=A=>{p||(s.next(d()),p=!0);let M={type:gi.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),n.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),s.next(M)},D=A=>{let M={type:gi.UploadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),s.next(M)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",w),c!==null&&a.upload&&a.upload.addEventListener("progress",D)),a.send(c),s.next({type:gi.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",w),c!==null&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(g(es))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Rm=new x(""),S_="XSRF-TOKEN",T_=new x("",{providedIn:"root",factory:()=>S_}),D_="X-XSRF-TOKEN",k_=new x("",{providedIn:"root",factory:()=>D_}),ms=class{},R_=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jo(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(g(H),g(Me),g(T_))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function M_(t,e){let i=t.url.toLowerCase();if(!C(Rm)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=C(ms).getToken(),r=C(k_);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function Mm(...t){let e=[Uc,Dm,Tm,{provide:vr,useExisting:Tm},{provide:ls,useExisting:Dm},{provide:km,useValue:M_,multi:!0},{provide:Rm,useValue:!0},{provide:ms,useClass:R_}];for(let i of t)e.push(...i.\u0275providers);return kn(e)}var $c=class extends sm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wc=class t extends $c{static makeCurrent(){om(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=F_();return i==null?null:O_(i)}resetBaseElement(){yr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jo(document.cookie,e)}},yr=null;function F_(){return yr=yr||document.querySelector("base"),yr?yr.getAttribute("href"):null}function O_(t){return new URL(t,document.baseURI).pathname}var L_=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Hc=new x(""),Fm=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(g(Hc),g(U))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),fs=class{constructor(e){this._doc=e}},zc="ng-app-id",Om=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mi(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${zc}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(zc),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(zc,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(g(H),g(ar),g(cr,8),g(Me))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qc=/%COMP%/g,Lm="%COMP%",j_=`_nghost-${Lm}`,V_=`_ngcontent-${Lm}`,U_=!0,z_=new x("",{providedIn:"root",factory:()=>U_});function B_(t){return V_.replace(qc,t)}function $_(t){return j_.replace(qc,t)}function jm(t,e){return e.map(i=>i.replace(qc,t))}var ps=(()=>{let e=class e{constructor(n,r,o,s,a,c,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=mi(c),this.defaultRenderer=new wr(n,a,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sr.ShadowDom&&(r=se(y({},r),{encapsulation:sr.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof gs?o.applyToHost(n):o instanceof Er&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case sr.Emulated:s=new gs(l,d,r,this.appId,u,a,c,h);break;case sr.ShadowDom:return new Gc(l,d,n,r,a,c,this.nonce,h);default:s=new Er(l,d,r,u,a,c,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(g(Fm),g(Om),g(ar),g(z_),g(H),g(Me),g(U),g(cr))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),wr=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Bc[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(Nm(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(Nm(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Z(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let o=Bc[r];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=Bc[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(lr.DashCase|lr.Important)?e.style.setProperty(i,n,r&lr.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&lr.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=hi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function Nm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gc=class extends wr{constructor(e,i,n,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=jm(r.id,r.styles);for(let d of l){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Er=class extends wr{constructor(e,i,n,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=c?jm(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gs=class extends Er{constructor(e,i,n,r,o,s,a,c){let l=r+"-"+n.id;super(e,i,n,o,s,a,c,l),this.contentAttr=B_(l),this.hostAttr=$_(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},W_=(()=>{let e=class e extends fs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(g(H))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Pm=["alt","control","meta","shift"],H_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},q_=(()=>{let e=class e extends fs{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),Pm.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(n,r){let o=H_[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Pm.forEach(a=>{if(a!==o){let c=G_[a];c(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(g(H))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Vm(t,e){return im(y({rootComponent:t},K_(e)))}function K_(t){return{appProviders:[...J_,...t?.providers??[]],platformProviders:X_}}function Y_(){Wc.makeCurrent()}function Q_(){return new Mn}function Z_(){return Vh(document),document}var X_=[{provide:Me,useValue:cm},{provide:Uh,useValue:Y_,multi:!0},{provide:H,useFactory:Z_,deps:[]}];var J_=[{provide:jh,useValue:"root"},{provide:Mn,useFactory:Q_,deps:[]},{provide:Hc,useClass:W_,multi:!0,deps:[H,U,Me]},{provide:Hc,useClass:q_,multi:!0,deps:[H]},ps,Om,Fm,{provide:qo,useExisting:ps},{provide:es,useClass:L_,deps:[]},[]];var Um=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(g(H))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=g(ey),o},providedIn:"root"});let t=e;return t})(),ey=(()=>{let e=class e extends Cr{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case qe.NONE:return r;case qe.HTML:return oi(r,"HTML")?ri(r):qh(this._doc,String(r)).toString();case qe.STYLE:return oi(r,"Style")?ri(r):r;case qe.SCRIPT:if(oi(r,"Script"))return ri(r);throw new Z(5200,!1);case qe.URL:return oi(r,"URL")?ri(r):Gh(String(r));case qe.RESOURCE_URL:if(oi(r,"ResourceURL"))return ri(r);throw new Z(5201,!1);default:throw new Z(5202,!1)}}bypassSecurityTrustHtml(n){return zh(n)}bypassSecurityTrustStyle(n){return Bh(n)}bypassSecurityTrustScript(n){return $h(n)}bypassSecurityTrustUrl(n){return Wh(n)}bypassSecurityTrustResourceUrl(n){return Hh(n)}};e.\u0275fac=function(r){return new(r||e)(g(H))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var P="primary",jr=Symbol("RouteTitle"),Jc=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function wi(t){return new Jc(t)}function ny(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function iy(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!St(t[i],e[i]))return!1;return!0}function St(t,e){let i=t?el(t):void 0,n=e?el(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!Gm(t[r],e[r]))return!1;return!0}function el(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Gm(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,o)=>n[o]===r)}else return t===e}function qm(t){return t.length>0?t[t.length-1]:null}function sn(t){return kh(t)?t:Zo(t)?be(Promise.resolve(t)):I(t)}var ry={exact:Ym,subset:Qm},Km={exact:oy,subset:sy,ignored:()=>!0};function zm(t,e,i){return ry[i.paths](t.root,e.root,i.matrixParams)&&Km[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function oy(t,e){return St(t,e)}function Ym(t,e,i){if(!On(t.segments,e.segments)||!_s(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!Ym(t.children[n],e.children[n],i))return!1;return!0}function sy(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Gm(t[i],e[i]))}function Qm(t,e,i){return Zm(t,e,e.segments,i)}function Zm(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!On(r,i)||e.hasChildren()||!_s(r,i,n))}else if(t.segments.length===i.length){if(!On(t.segments,i)||!_s(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!Qm(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!On(t.segments,r)||!_s(t.segments,r,n)||!t.children[P]?!1:Zm(t.children[P],e,o,n)}}function _s(t,e,i){return e.every((n,r)=>Km[i](t[r].parameters,n.parameters))}var rn=class{constructor(e=new Q([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return ly.serialize(this)}},Q=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ys(this)}},Fn=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return Jm(this)}};function ay(t,e){return On(t,e)&&t.every((i,n)=>St(i.parameters,e[n].parameters))}function On(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function cy(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===P&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==P&&(i=i.concat(e(r,n)))}),i}var Al=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>new Es,providedIn:"root"});let t=e;return t})(),Es=class{parse(e){let i=new nl(e);return new rn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${xr(e.root,!0)}`,n=hy(e.queryParams),r=typeof e.fragment=="string"?`#${dy(e.fragment)}`:"";return`${i}${n}${r}`}},ly=new Es;function ys(t){return t.segments.map(e=>Jm(e)).join("/")}function xr(t,e){if(!t.hasChildren())return ys(t);if(e){let i=t.children[P]?xr(t.children[P],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==P&&n.push(`${r}:${xr(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=cy(t,(n,r)=>r===P?[xr(t.children[P],!1)]:[`${r}:${xr(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${ys(t)}/${i[0]}`:`${ys(t)}/(${i.join("//")})`}}function Xm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(t){return Xm(t).replace(/%3B/gi,";")}function dy(t){return encodeURI(t)}function tl(t){return Xm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ws(t){return decodeURIComponent(t)}function Bm(t){return ws(t.replace(/\+/g,"%20"))}function Jm(t){return`${tl(t.path)}${uy(t.parameters)}`}function uy(t){return Object.entries(t).map(([e,i])=>`;${tl(e)}=${tl(i)}`).join("")}function hy(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${bs(i)}=${bs(r)}`).join("&"):`${bs(i)}=${bs(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var my=/^[^\/()?;#]+/;function Yc(t){let e=t.match(my);return e?e[0]:""}var fy=/^[^\/()?;=#]+/;function py(t){let e=t.match(fy);return e?e[0]:""}var gy=/^[^=?&#]+/;function by(t){let e=t.match(gy);return e?e[0]:""}var vy=/^[^&#]+/;function _y(t){let e=t.match(vy);return e?e[0]:""}var nl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[P]=new Q(e,i)),n}parseSegment(){let e=Yc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new Fn(ws(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=py(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Yc(this.remaining);r&&(n=r,this.capture(n))}e[ws(i)]=ws(n)}parseQueryParam(e){let i=by(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=_y(this.remaining);s&&(n=s,this.capture(n))}let r=Bm(i),o=Bm(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Yc(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Z(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=P);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[P]:new Q([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function ef(t){return t.segments.length>0?new Q([],{[P]:t}):t}function tf(t){let e={};for(let[n,r]of Object.entries(t.children)){let o=tf(r);if(n===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let i=new Q(t.segments,e);return yy(i)}function yy(t){if(t.numberOfChildren===1&&t.children[P]){let e=t.children[P];return new Q(t.segments.concat(e.segments),e.children)}return t}function Ei(t){return t instanceof rn}function wy(t,e,i=null,n=null){let r=nf(t);return rf(r,e,i,n)}function nf(t){let e;function i(o){let s={};for(let c of o.children){let l=i(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===t&&(e=a),a}let n=i(t.root),r=ef(n);return e??r}function rf(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Qc(r,r,r,i,n);let o=Ey(e);if(o.toRoot())return Qc(r,r,new Q([],{}),i,n);let s=Cy(o,r,t),a=s.processChildren?Sr(s.segmentGroup,s.index,o.commands):sf(s.segmentGroup,s.index,o.commands);return Qc(r,s.segmentGroup,a,i,n)}function Cs(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kr(t){return typeof t=="object"&&t!=null&&t.outlets}function Qc(t,e,i,n,r){let o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;t===e?s=i:s=of(t,e,i);let a=ef(tf(s));return new rn(a,o,r)}function of(t,e,i){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===e?n[r]=i:n[r]=of(o,e,i)}),new Q(t.segments,n)}var xs=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Cs(n[0]))throw new Z(4003,!1);let r=n.find(kr);if(r&&r!==qm(n))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ey(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xs(!0,0,t);let e=0,i=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new xs(i,e,n)}var _i=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function Cy(t,e,i){if(t.isAbsolute)return new _i(e,!0,0);if(!i)return new _i(e,!1,NaN);if(i.parent===null)return new _i(i,!0,0);let n=Cs(t.commands[0])?0:1,r=i.segments.length-1+n;return xy(i,r,t.numberOfDoubleDots)}function xy(t,e,i){let n=t,r=e,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Z(4005,!1);r=n.segments.length}return new _i(n,!1,r-o)}function Iy(t){return kr(t[0])?t[0].outlets:{[P]:t}}function sf(t,e,i){if(t??=new Q([],{}),t.segments.length===0&&t.hasChildren())return Sr(t,e,i);let n=Ay(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Q(t.segments.slice(0,n.pathIndex),{});return o.children[P]=new Q(t.segments.slice(n.pathIndex),t.children),Sr(o,0,r)}else return n.match&&r.length===0?new Q(t.segments,{}):n.match&&!t.hasChildren()?il(t,e,i):n.match?Sr(t,0,r):il(t,e,i)}function Sr(t,e,i){if(i.length===0)return new Q(t.segments,{});{let n=Iy(i),r={};if(Object.keys(n).some(o=>o!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let o=Sr(t.children[P],e,i);return new Q(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=sf(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Q(t.segments,r)}}function Ay(t,e,i){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return o;let s=t.segments[r],a=i[n];if(kr(a))break;let c=`${a}`,l=n<i.length-1?i[n+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Wm(c,l,s))return o;n+=2}else{if(!Wm(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function il(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(kr(o)){let c=Sy(o.outlets);return new Q(n,c)}if(r===0&&Cs(i[0])){let c=t.segments[e];n.push(new Fn(c.path,$m(i[0]))),r++;continue}let s=kr(o)?o.outlets[P]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Cs(a)?(n.push(new Fn(s,$m(a))),r+=2):(n.push(new Fn(s,{})),r++)}return new Q(n,{})}function Sy(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=il(new Q([],{}),0,n))}),e}function $m(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function Wm(t,e,i){return t==i.path&&St(e,i.parameters)}var Tr="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),at=class{constructor(e,i){this.id=e,this.url=i}},Rr=class extends at{constructor(e,i,n="imperative",r=null){super(e,i),this.type=ke.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ln=class extends at{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qe||{}),rl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rl||{}),on=class extends at{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jn=class extends at{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ke.NavigationSkipped}},Mr=class extends at{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Is=class extends at{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ol=class extends at{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sl=class extends at{constructor(e,i,n,r,o){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},al=class extends at{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cl=class extends at{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ll=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dl=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ul=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hl=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ml=class{constructor(e){this.snapshot=e,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{constructor(e){this.snapshot=e,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nr=class{},Pr=class{constructor(e){this.url=e}};var pl=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rs,this.attachRef=null}},Rs=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new pl,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),As=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=gl(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=gl(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=bl(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return bl(e,this._root).map(i=>i.value)}};function gl(t,e){if(t===e.value)return e;for(let i of e.children){let n=gl(t,i);if(n)return n}return null}function bl(t,e){if(t===e.value)return[e];for(let i of e.children){let n=bl(t,i);if(n.length)return n.unshift(e),n}return[]}var Ye=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function vi(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Ss=class extends As{constructor(e,i){super(e),this.snapshot=i,Tl(this,e)}toString(){return this.snapshot.toString()}};function af(t){let e=Ty(t),i=new $e([new Fn("",{})]),n=new $e({}),r=new $e({}),o=new $e({}),s=new $e(""),a=new Ci(i,n,o,s,r,P,t,e.root);return a.snapshot=e.root,new Ss(new Ye(a,[]),e)}function Ty(t){let e={},i={},n={},r="",o=new Fr([],e,n,r,i,P,t,null,{});return new Ts("",new Ye(o,[]))}var Ci=class{constructor(e,i,n,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(S(l=>l[jr]))??I(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(e=>wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(e=>wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sl(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),r?.data),t._resolvedData)}:n={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},r&&lf(r)&&(n.resolve[jr]=r.title),n}var Fr=class{get title(){return this.data?.[jr]}constructor(e,i,n,r,o,s,a,c,l){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Ts=class extends As{constructor(e,i){super(i),this.url=e,Tl(this,i)}toString(){return cf(this._root)}};function Tl(t,e){e.value._routerState=t,e.children.forEach(i=>Tl(t,i))}function cf(t){let e=t.children.length>0?` { ${t.children.map(cf).join(", ")} } `:"";return`${t.value}${e}`}function Zc(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,St(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),St(e.params,i.params)||t.paramsSubject.next(i.params),iy(e.url,i.url)||t.urlSubject.next(i.url),St(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vl(t,e){let i=St(t.params,e.params)&&ay(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||vl(t.parent,e.parent))}function lf(t){return typeof t.title=="string"||t.title===null}var Dl=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=P,this.activateEvents=new J,this.deactivateEvents=new J,this.attachEvents=new J,this.detachEvents=new J,this.parentContexts=C(Rs),this.location=C(si),this.changeDetector=C(Ke),this.environmentInjector=C(Zt),this.inputBinder=C(kl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new _l(n,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rt]});let t=e;return t})(),_l=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Ci?this.route:e===Rs?this.childContexts:this.parent.get(e,i)}},kl=new x("");function Dy(t,e,i){let n=Or(t,e._root,i?i._root:void 0);return new Ss(n,e)}function Or(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=ky(t,e,i);return new Ye(n,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Or(t,a)),s}}let n=Ry(e.value),r=e.children.map(o=>Or(t,o));return new Ye(n,r)}}function ky(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Or(t,n,r);return Or(t,n)})}function Ry(t){return new Ci(new $e(t.url),new $e(t.params),new $e(t.queryParams),new $e(t.fragment),new $e(t.data),t.outlet,t.component,t)}var df="ngNavigationCancelingError";function uf(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=Ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=hf(!1,Qe.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function hf(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[df]=!0,i.cancellationCode=e,i}function My(t){return mf(t)&&Ei(t.url)}function mf(t){return!!t&&t[df]}var Ny=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=B({type:e,selectors:[["ng-component"]],standalone:!0,features:[W],decls:1,vars:0,template:function(r,o){r&1&&V(0,"router-outlet")},dependencies:[Dl],encapsulation:2});let t=e;return t})();function Py(t,e){return t.providers&&!t._injector&&(t._injector=Xh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Rl(t){let e=t.children&&t.children.map(Rl),i=e?se(y({},t),{children:e}):y({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==P&&(i.component=Ny),i}function Tt(t){return t.outlet||P}function Fy(t,e){let i=t.filter(n=>Tt(n)===e);return i.push(...t.filter(n=>Tt(n)!==e)),i}function Vr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Oy=(t,e,i,n)=>S(r=>(new yl(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),yl=class{constructor(e,i,n,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),Zc(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=vi(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=vi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=vi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=vi(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new fl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hl(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(Zc(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zc(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Vr(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},Ds=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yi=class{constructor(e,i){this.component=e,this.route=i}};function Ly(t,e,i){let n=t._root,r=e?e._root:null;return Ir(n,r,i,[n.value])}function jy(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ii(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!Oh(t)?t:e.get(t):n}function Ir(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=vi(e);return t.children.forEach(s=>{Vy(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Dr(a,i.getContext(s),r)),r}function Vy(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Uy(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ds(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ir(t,e,a?a.children:null,n,r):Ir(t,e,i,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new yi(a.outlet.component,s))}else s&&Dr(e,a,r),r.canActivateChecks.push(new Ds(n)),o.component?Ir(t,null,a?a.children:null,n,r):Ir(t,null,i,n,r);return r}function Uy(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!On(t.url,e.url);case"pathParamsOrQueryParamsChange":return!On(t.url,e.url)||!St(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vl(t,e)||!St(t.queryParams,e.queryParams);case"paramsChange":default:return!vl(t,e)}}function Dr(t,e,i){let n=vi(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?e?Dr(s,e.children.getContext(o),i):Dr(s,null,i):Dr(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new yi(e.outlet.component,r)):i.canDeactivateChecks.push(new yi(null,r)):i.canDeactivateChecks.push(new yi(null,r))}function Ur(t){return typeof t=="function"}function zy(t){return typeof t=="boolean"}function By(t){return t&&Ur(t.canLoad)}function $y(t){return t&&Ur(t.canActivate)}function Wy(t){return t&&Ur(t.canActivateChild)}function Hy(t){return t&&Ur(t.canDeactivate)}function Gy(t){return t&&Ur(t.canMatch)}function ff(t){return t instanceof Rh||t?.name==="EmptyError"}var vs=Symbol("INITIAL_VALUE");function xi(){return he(t=>rr(t.map(e=>e.pipe(Fe(1),ni(vs)))).pipe(S(e=>{for(let i of e)if(i!==!0){if(i===vs)return vs;if(i===!1||i instanceof rn)return i}return!0}),Re(e=>e!==vs),Fe(1)))}function qy(t,e){return it(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?I(se(y({},i),{guardsResult:!0})):Ky(s,n,r,t).pipe(it(a=>a&&zy(a)?Yy(n,o,t,e):I(a)),S(a=>se(y({},i),{guardsResult:a})))})}function Ky(t,e,i,n){return be(t).pipe(it(r=>e0(r.component,r.route,i,e,n)),Et(r=>r!==!0,!0))}function Yy(t,e,i,n){return be(e).pipe(Dn(r=>zo(Zy(r.route.parent,n),Qy(r.route,n),Jy(t,r.path,i),Xy(t,r.route,i))),Et(r=>r!==!0,!0))}function Qy(t,e){return t!==null&&e&&e(new ml(t)),I(!0)}function Zy(t,e){return t!==null&&e&&e(new ul(t)),I(!0)}function Xy(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let r=n.map(o=>mc(()=>{let s=Vr(e)??i,a=Ii(o,s),c=$y(a)?a.canActivate(e,t):Lt(s,()=>a(e,t));return sn(c).pipe(Et())}));return I(r).pipe(xi())}function Jy(t,e,i){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>jy(s)).filter(s=>s!==null).map(s=>mc(()=>{let a=s.guards.map(c=>{let l=Vr(s.node)??i,d=Ii(c,l),u=Wy(d)?d.canActivateChild(n,t):Lt(l,()=>d(n,t));return sn(u).pipe(Et())});return I(a).pipe(xi())}));return I(o).pipe(xi())}function e0(t,e,i,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return I(!0);let s=o.map(a=>{let c=Vr(e)??r,l=Ii(a,c),d=Hy(l)?l.canDeactivate(t,e,i,n):Lt(c,()=>l(t,e,i,n));return sn(d).pipe(Et())});return I(s).pipe(xi())}function t0(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return I(!0);let o=r.map(s=>{let a=Ii(s,t),c=By(a)?a.canLoad(e,i):Lt(t,()=>a(e,i));return sn(c)});return I(o).pipe(xi(),pf(n))}function pf(t){return Vo(le(e=>{if(Ei(e))throw uf(t,e)}),S(e=>e===!0))}function n0(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return I(!0);let o=r.map(s=>{let a=Ii(s,t),c=Gy(a)?a.canMatch(e,i):Lt(t,()=>a(e,i));return sn(c)});return I(o).pipe(xi(),pf(n))}var Lr=class{constructor(e){this.segmentGroup=e||null}},ks=class extends Error{constructor(e){super(),this.urlTree=e}};function bi(t){return Sn(new Lr(t))}function i0(t){return Sn(new Z(4e3,!1))}function r0(t){return Sn(hf(!1,Qe.GuardRejected))}var wl=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return I(n);if(r.numberOfChildren>1||!r.children[P])return i0(e.redirectTo);r=r.children[P]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new ks(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let o=this.createSegmentGroup(e,i.root,n,r);return new rn(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(e,i,n,r){let o=this.createSegments(e,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,n,r)}),new Q(o,s)}createSegments(e,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new Z(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},El={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function o0(t,e,i,n,r){let o=Ml(t,e,i);return o.matched?(n=Py(e,n),n0(n,e,i,r).pipe(S(s=>s===!0?o:y({},El)))):I(o)}function Ml(t,e,i){if(e.path==="**")return s0(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?y({},El):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||ny)(i,t,e);if(!r)return y({},El);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function s0(t){return{matched:!0,parameters:t.length>0?qm(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Hm(t,e,i,n){return i.length>0&&l0(t,i,n)?{segmentGroup:new Q(e,c0(n,new Q(i,t.children))),slicedSegments:[]}:i.length===0&&d0(t,i,n)?{segmentGroup:new Q(t.segments,a0(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new Q(t.segments,t.children),slicedSegments:i}}function a0(t,e,i,n){let r={};for(let o of i)if(Ms(t,e,o)&&!n[Tt(o)]){let s=new Q([],{});r[Tt(o)]=s}return y(y({},n),r)}function c0(t,e){let i={};i[P]=e;for(let n of t)if(n.path===""&&Tt(n)!==P){let r=new Q([],{});i[Tt(n)]=r}return i}function l0(t,e,i){return i.some(n=>Ms(t,e,n)&&Tt(n)!==P)}function d0(t,e,i){return i.some(n=>Ms(t,e,n))}function Ms(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function u0(t,e,i,n){return Tt(t)!==n&&(n===P||!Ms(e,i,t))?!1:Ml(e,t,i).matched}function h0(t,e,i){return e.length===0&&!t.children[i]}var Cl=class{};function m0(t,e,i,n,r,o,s="emptyOnly"){return new xl(t,e,i,n,r,s,o).recognize()}var f0=31,xl=class{constructor(e,i,n,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=Hm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(S(i=>{let n=new Fr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,{},P,this.rootComponentType,null,{}),r=new Ye(n,i),o=new Ts("",r),s=wy(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,P).pipe(Yt(n=>{if(n instanceof ks)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Lr?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=Sl(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(S(o=>o instanceof Ye?[o]:[]))}processChildren(e,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return be(r).pipe(Dn(o=>{let s=n.children[o],a=Fy(i,o);return this.processSegmentGroup(e,a,s,o)}),or((o,s)=>(o.push(...s),o)),pc(null),Nh(),it(o=>{if(o===null)return bi(n);let s=gf(o);return p0(s),I(s)}))}processSegment(e,i,n,r,o,s){return be(i).pipe(Dn(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,o,s).pipe(Yt(c=>{if(c instanceof Lr)return I(null);throw c}))),Et(a=>!!a),Yt(a=>{if(ff(a))return h0(n,r,o)?I(new Cl):bi(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,o,s,a){return u0(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,o,s):bi(r):bi(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=Ml(i,r,o);if(!a)return bi(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>f0&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,u).pipe(it(h=>this.processSegment(e,n,i,h.concat(d),s,!1)))}matchSegmentAgainstRoute(e,i,n,r,o){let s=o0(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(he(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(he(({routes:c})=>{let l=n._loadedInjector??e,{consumedSegments:d,remainingSegments:u,parameters:h}=a,p=new Fr(d,h,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,b0(n),Tt(n),n.component??n._loadedComponent??null,n,v0(n)),{segmentGroup:w,slicedSegments:D}=Hm(i,d,u,c);if(D.length===0&&w.hasChildren())return this.processChildren(l,c,w).pipe(S(M=>M===null?null:new Ye(p,M)));if(c.length===0&&D.length===0)return I(new Ye(p,[]));let A=Tt(n)===o;return this.processSegment(l,c,w,D,A?P:o,!0).pipe(S(M=>new Ye(p,M instanceof Ye?[M]:[])))}))):bi(i)))}getChildConfig(e,i,n){return i.children?I({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?I({routes:i._loadedRoutes,injector:i._loadedInjector}):t0(e,i,n,this.urlSerializer).pipe(it(r=>r?this.configLoader.loadChildren(e,i).pipe(le(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):r0(i))):I({routes:[],injector:e})}};function p0(t){t.sort((e,i)=>e.value.outlet===P?-1:i.value.outlet===P?1:e.value.outlet.localeCompare(i.value.outlet))}function g0(t){let e=t.value.routeConfig;return e&&e.path===""}function gf(t){let e=[],i=new Set;for(let n of t){if(!g0(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=gf(n.children);e.push(new Ye(n.value,r))}return e.filter(n=>!i.has(n))}function b0(t){return t.data||{}}function v0(t){return t.resolve||{}}function _0(t,e,i,n,r,o){return it(s=>m0(t,e,i,n,s.extractedUrl,r,o).pipe(S(({state:a,tree:c})=>se(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function y0(t,e){return it(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return I(i);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of bf(c))s.add(l);let a=0;return be(s).pipe(Dn(c=>o.has(c)?w0(c,n,t,e):(c.data=Sl(c,c.parent,t).resolve,I(void 0))),le(()=>a++),gc(1),it(c=>a===s.size?I(i):wt))})}function bf(t){let e=t.children.map(i=>bf(i)).flat();return[t,...e]}function w0(t,e,i,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!lf(r)&&(o[jr]=r.title),E0(o,t,e,n).pipe(S(s=>(t._resolvedData=s,t.data=Sl(t,t.parent,i).resolve,null)))}function E0(t,e,i,n){let r=el(t);if(r.length===0)return I({});let o={};return be(r).pipe(it(s=>C0(t[s],e,i,n).pipe(Et(),le(a=>{o[s]=a}))),gc(1),Mh(o),Yt(s=>ff(s)?wt:Sn(s)))}function C0(t,e,i,n){let r=Vr(e)??n,o=Ii(t,r),s=o.resolve?o.resolve(e,i):Lt(r,()=>o(e,i));return sn(s)}function Xc(t){return he(e=>{let i=t(e);return i?be(i).pipe(S(()=>e)):I(e)})}var vf=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===P);return r}getResolvedTitleForRoute(n){return n.data[jr]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>C(x0),providedIn:"root"});let t=e;return t})(),x0=(()=>{let e=class e extends vf{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(g(Um))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nl=new x("",{providedIn:"root",factory:()=>({})}),Pl=new x(""),I0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(Sc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=sn(n.loadComponent()).pipe(S(_f),le(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Qt(()=>{this.componentLoaders.delete(n)})),o=new hc(r,()=>new Ae).pipe(uc());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=A0(r,this.compiler,n,this.onLoadEndListener).pipe(Qt(()=>{this.childrenLoaders.delete(r)})),a=new hc(s,()=>new Ae).pipe(uc());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A0(t,e,i,n){return sn(t.loadChildren()).pipe(S(_f),it(r=>r instanceof Zh||Array.isArray(r)?I(r):be(e.compileModuleAsync(r))),S(r=>{n&&n(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(Pl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Rl),injector:o}}))}function S0(t){return t&&typeof t=="object"&&"default"in t}function _f(t){return S0(t)?t.default:t}var Fl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>C(T0),providedIn:"root"});let t=e;return t})(),T0=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),D0=new x("");var k0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.transitionAbortSubject=new Ae,this.configLoader=C(I0),this.environmentInjector=C(Zt),this.urlSerializer=C(Al),this.rootContexts=C(Rs),this.location=C(Xo),this.inputBindingEnabled=C(kl,{optional:!0})!==null,this.titleStrategy=C(vf),this.options=C(Nl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(Fl),this.createViewTransition=C(D0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let n=o=>this.events.next(new ll(o)),r=o=>this.events.next(new dl(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(se(y(y({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new $e({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tr,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Re(s=>s.id!==0),S(s=>se(y({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),he(s=>{let a=!1,c=!1;return I(s).pipe(he(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Qe.SupersededByNewNavigation),wt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?se(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new jn(l.id,this.urlSerializer.serialize(l.rawUrl),h,rl.IgnoredSameUrlNavigation)),l.resolve(null),wt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return I(l).pipe(he(h=>{let p=this.transitions?.getValue();return this.events.next(new Rr(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?wt:Promise.resolve(h)}),_0(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),le(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=se(y({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Is(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:p,source:w,restoredState:D,extras:A}=l,M=new Rr(h,this.urlSerializer.serialize(p),w,D);this.events.next(M);let oe=af(this.rootComponentType).snapshot;return this.currentTransition=s=se(y({},l),{targetSnapshot:oe,urlAfterRedirects:p,extras:se(y({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,I(s)}else{let h="";return this.events.next(new jn(l.id,this.urlSerializer.serialize(l.extractedUrl),h,rl.IgnoredByUrlHandlingStrategy)),l.resolve(null),wt}}),le(l=>{let d=new ol(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),S(l=>(this.currentTransition=s=se(y({},l),{guards:Ly(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),qy(this.environmentInjector,l=>this.events.next(l)),le(l=>{if(s.guardsResult=l.guardsResult,Ei(l.guardsResult))throw uf(this.urlSerializer,l.guardsResult);let d=new sl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Re(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qe.GuardRejected),!1)),Xc(l=>{if(l.guards.canActivateChecks.length)return I(l).pipe(le(d=>{let u=new al(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),he(d=>{let u=!1;return I(d).pipe(y0(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",Qe.NoDataFromResolver)}}))}),le(d=>{let u=new cl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),Xc(l=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(le(p=>{u.component=p}),S(()=>{})));for(let p of u.children)h.push(...d(p));return h};return rr(d(l.targetSnapshot.root)).pipe(pc(null),Fe(1))}),Xc(()=>this.afterPreactivation()),he(()=>{let{currentSnapshot:l,targetSnapshot:d}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return u?be(u).pipe(S(()=>s)):I(s)}),S(l=>{let d=Dy(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=se(y({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),le(()=>{this.events.next(new Nr)}),Oy(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Fe(1),le({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ln(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),ii(this.transitionAbortSubject.pipe(le(l=>{throw l}))),Qt(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yt(l=>{if(c=!0,mf(l))this.events.next(new on(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),My(l)?this.events.next(new Pr(l.url)):s.resolve(!1);else{this.events.next(new Mr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return wt}))}))}cancelNavigationTransition(n,r,o){let s=new on(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R0(t){return t!==Tr}var M0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>C(N0),providedIn:"root"});let t=e;return t})(),Il=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},N0=(()=>{let e=class e extends Il{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=gt(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>C(P0),providedIn:"root"});let t=e;return t})(),P0=(()=>{let e=class e extends yf{constructor(){super(...arguments),this.location=C(Xo),this.urlSerializer=C(Al),this.options=C(Nl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(Fl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=af(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Rr)this.stateMemento=this.createStateMemento();else if(n instanceof jn)this.rawUrlTree=r.initialUrl;else if(n instanceof Is){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Nr?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof on&&(n.code===Qe.GuardRejected||n.code===Qe.NoDataFromResolver)?this.restoreHistory(r):n instanceof Mr?this.restoreHistory(r,!0):n instanceof Ln&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=y(y({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=y(y({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=gt(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ar=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ar||{});function F0(t,e){t.events.pipe(Re(i=>i instanceof Ln||i instanceof on||i instanceof Mr||i instanceof jn),S(i=>i instanceof Ln||i instanceof jn?Ar.COMPLETE:(i instanceof on?i.code===Qe.Redirect||i.code===Qe.SupersededByNewNavigation:!1)?Ar.REDIRECTING:Ar.FAILED),Re(i=>i!==Ar.REDIRECTING),Fe(1)).subscribe(()=>{e()})}function O0(t){throw t}var L0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ct=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Qo),this.stateManager=C(yf),this.options=C(Nl,{optional:!0})||{},this.pendingTasks=C(Ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(k0),this.urlSerializer=C(Al),this.location=C(Xo),this.urlHandlingStrategy=C(Fl),this._events=new Ae,this.errorHandler=this.options.errorHandler||O0,this.navigated=!1,this.routeReuseStrategy=C(M0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Pl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(kl,{optional:!0}),this.eventsSubscription=new Ot,this.isNgZoneEnabled=C(U)instanceof U&&U.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof on&&r.code!==Qe.Redirect&&r.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ln)this.navigated=!0;else if(r instanceof Pr){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||R0(o.source)};this.scheduleNavigation(a,Tr,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}U0(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=y({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Rl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:a,u=null;switch(c){case"merge":u=y(y({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=nf(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return rf(h,n,u,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Ei(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Tr,null,r)}navigate(n,r={skipLocationChange:!1}){return V0(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=y({},L0):r===!1?o=y({},j0):o=r,Ei(n))return zm(this.currentUrlTree,n,o);let s=this.parseUrl(n);return zm(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((h,p)=>{c=h,l=p});let u=this.pendingTasks.add();return F0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function V0(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Z(4008,!1)}function U0(t){return!(t instanceof Nr)&&!(t instanceof Pr)}var z0=new x("");function wf(t,...e){return kn([{provide:Pl,multi:!0,useValue:t},[],{provide:Ci,useFactory:B0,deps:[ct]},{provide:Ac,multi:!0,useFactory:$0},e.map(i=>i.\u0275providers)])}function B0(t){return t.routerState.root}function $0(){let t=C(Xt);return e=>{let i=t.get(ui);if(e!==i.components[0])return;let n=t.get(ct),r=t.get(W0);t.get(H0)===1&&n.initialNavigation(),t.get(G0,null,_c.Optional)?.setUpPreloading(),t.get(z0,null,_c.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var W0=new x("",{factory:()=>new Ae}),H0=new x("",{providedIn:"root",factory:()=>1});var G0=new x("");var Rf=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(f(Jt),f(ae))},e.\u0275dir=F({type:e});let t=e;return t})(),Us=(()=>{let e=class e extends Rf{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=gt(e)))(o||e)}})(),e.\u0275dir=F({type:e,features:[ve]});let t=e;return t})(),cn=new x("");var q0={provide:cn,useExisting:ft(()=>Dt),multi:!0};function K0(){let t=hi()?hi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Y0=new x(""),Dt=(()=>{let e=class e extends Rf{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!K0())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(f(Jt),f(ae),f(Y0,8))},e.\u0275dir=F({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&$("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ee([q0]),ve]});let t=e;return t})();function an(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Mf(t){return t!=null&&typeof t.length=="number"}var Di=new x(""),zs=new x(""),Q0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ze=class{static min(e){return Z0(e)}static max(e){return X0(e)}static required(e){return J0(e)}static requiredTrue(e){return ew(e)}static email(e){return tw(e)}static minLength(e){return nw(e)}static maxLength(e){return iw(e)}static pattern(e){return rw(e)}static nullValidator(e){return Nf(e)}static compose(e){return Vf(e)}static composeAsync(e){return Uf(e)}};function Z0(t){return e=>{if(an(e.value)||an(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function X0(t){return e=>{if(an(e.value)||an(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function J0(t){return an(t.value)?{required:!0}:null}function ew(t){return t.value===!0?null:{required:!0}}function tw(t){return an(t.value)||Q0.test(t.value)?null:{email:!0}}function nw(t){return e=>an(e.value)||!Mf(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function iw(t){return e=>Mf(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function rw(t){if(!t)return Nf;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(an(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Nf(t){return null}function Pf(t){return t!=null}function Ff(t){return Zo(t)?be(t):t}function Of(t){let e={};return t.forEach(i=>{e=i!=null?y(y({},e),i):e}),Object.keys(e).length===0?null:e}function Lf(t,e){return e.map(i=>i(t))}function ow(t){return!t.validate}function jf(t){return t.map(e=>ow(e)?e:i=>e.validate(i))}function Vf(t){if(!t)return null;let e=t.filter(Pf);return e.length==0?null:function(i){return Of(Lf(i,e))}}function Vl(t){return t!=null?Vf(jf(t)):null}function Uf(t){if(!t)return null;let e=t.filter(Pf);return e.length==0?null:function(i){let n=Lf(i,e).map(Ff);return Bo(n).pipe(S(Of))}}function Ul(t){return t!=null?Uf(jf(t)):null}function Ef(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zf(t){return t._rawValidators}function Bf(t){return t._rawAsyncValidators}function Ol(t){return t?Array.isArray(t)?t:[t]:[]}function Ps(t,e){return Array.isArray(t)?t.includes(e):t===e}function Cf(t,e){let i=Ol(e);return Ol(t).forEach(r=>{Ps(i,r)||i.push(r)}),i}function xf(t,e){return Ol(e).filter(i=>!Ps(t,i))}var Fs=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ul(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},$t=class extends Fs{get formDirective(){return null}get path(){return null}},Vn=class extends Fs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Os=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},sw={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ED=se(y({},sw),{"[class.ng-submitted]":"isSubmitted"}),ln=(()=>{let e=class e extends Os{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(f(Vn,2))},e.\u0275dir=F({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ve]});let t=e;return t})(),dn=(()=>{let e=class e extends Os{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(f($t,10))},e.\u0275dir=F({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ve]});let t=e;return t})();var Br="VALID",Ns="INVALID",Ai="PENDING",$r="DISABLED";function zl(t){return(Bs(t)?t.validators:t)||null}function aw(t){return Array.isArray(t)?Vl(t):t||null}function Bl(t,e){return(Bs(e)?e.asyncValidators:t)||null}function cw(t){return Array.isArray(t)?Ul(t):t||null}function Bs(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function $f(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new Z(1e3,"");if(!n[i])throw new Z(1001,"")}function Wf(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new Z(1002,"")})}var Si=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Br}get invalid(){return this.status===Ns}get pending(){return this.status==Ai}get disabled(){return this.status===$r}get enabled(){return this.status!==$r}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Cf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Cf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xf(e,this._rawAsyncValidators))}hasValidator(e){return Ps(this._rawValidators,e)}hasAsyncValidator(e){return Ps(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ai,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=$r,this.errors=null,this._forEachChild(n=>{n.disable(se(y({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(y({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Br,this._forEachChild(n=>{n.enable(se(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(y({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Br||this.status===Ai)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$r:Br}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ai,this._hasOwnPendingAsyncValidator=!0;let i=Ff(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?$r:this.errors?Ns:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ai)?Ai:this._anyControlsHaveStatus(Ns)?Ns:Br}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bs(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aw(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cw(this._rawAsyncValidators)}},Ti=class extends Si{constructor(e,i,n){super(zl(i),Bl(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){Wf(this,!0,e),Object.keys(e).forEach(n=>{$f(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ll=class extends Ti{};var Hr=new x("CallSetDisabledState",{providedIn:"root",factory:()=>$s}),$s="always";function Hf(t,e){return[...e.path,t]}function Ls(t,e,i=$s){$l(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),dw(t,e),hw(t,e),uw(t,e),lw(t,e)}function If(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Vs(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function js(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function lw(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function $l(t,e){let i=zf(t);e.validator!==null?t.setValidators(Ef(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=Bf(t);e.asyncValidator!==null?t.setAsyncValidators(Ef(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();js(e._rawValidators,r),js(e._rawAsyncValidators,r)}function Vs(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=zf(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(i=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=Bf(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(i=!0,t.setAsyncValidators(o))}}}let n=()=>{};return js(e._rawValidators,n),js(e._rawAsyncValidators,n),i}function dw(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Gf(t,e)})}function uw(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Gf(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Gf(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hw(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function qf(t,e){t==null,$l(t,e)}function mw(t,e){return Vs(t,e)}function Kf(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function fw(t){return Object.getPrototypeOf(t.constructor)===Us}function Yf(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Qf(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(o=>{o.constructor===Dt?i=o:fw(o)?n=o:r=o}),r||n||i||null}function pw(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}var gw={provide:$t,useExisting:ft(()=>Gr)},Wr=Promise.resolve(),Gr=(()=>{let e=class e extends $t{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new J,this.form=new Ti({},Vl(n),Ul(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Wr.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ls(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Wr.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Wr.then(()=>{let r=this._findContainer(n.path),o=new Ti({});qf(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Wr.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Wr.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,Yf(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(r){return new(r||e)(f(Di,10),f(zs,10),f(Hr,8))},e.\u0275dir=F({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&$("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[k.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ee([gw]),ve]});let t=e;return t})();function Af(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function Sf(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var we=class extends Si{constructor(e=null,i,n){super(zl(i),Bl(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bs(i)&&(i.nonNullable||i.initialValueIsDefault)&&(Sf(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Af(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Af(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Sf(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bw=t=>t instanceof we;var vw={provide:Vn,useExisting:ft(()=>qr)},Tf=Promise.resolve(),qr=(()=>{let e=class e extends Vn{constructor(n,r,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new we,this._registered=!1,this.name="",this.update=new J,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Qf(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Kf(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ls(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Tf.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&ee(r);Tf.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Hf(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(f($t,9),f(Di,10),f(zs,10),f(cn,10),f(Ke,8),f(Hr,8))},e.\u0275dir=F({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[k.None,"disabled","isDisabled"],model:[k.None,"ngModel","model"],options:[k.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ee([vw]),ve,rt]});let t=e;return t})(),un=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),_w={provide:cn,useExisting:ft(()=>Wl),multi:!0},Wl=(()=>{let e=class e extends Us{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=gt(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&$("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Ee([_w]),ve]});let t=e;return t})();var Zf=new x("");var yw={provide:$t,useExisting:ft(()=>Kr)},Kr=(()=>{let e=class e extends $t{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new J,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Ls(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){If(n.control||null,n,!1),pw(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,Yf(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(If(r||null,n),bw(o)&&(Ls(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);qf(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&mw(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$l(this.form,this),this._oldForm&&Vs(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(f(Di,10),f(zs,10),f(Hr,8))},e.\u0275dir=F({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&$("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[k.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ee([yw]),ve,rt]});let t=e;return t})();var ww={provide:Vn,useExisting:ft(()=>Yr)},Yr=(()=>{let e=class e extends Vn{set isDisabled(n){}constructor(n,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new J,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Qf(this,s)}ngOnChanges(n){this._added||this._setUpControl(),Kf(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Hf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(f($t,13),f(Di,10),f(zs,10),f(cn,10),f(Zf,8))},e.\u0275dir=F({type:e,selectors:[["","formControlName",""]],inputs:{name:[k.None,"formControlName","name"],isDisabled:[k.None,"disabled","isDisabled"],model:[k.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ee([ww]),ve,rt]});let t=e;return t})(),Ew={provide:cn,useExisting:ft(()=>ki),multi:!0};function Xf(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Cw(t){return t.split(":")[0]}var ki=(()=>{let e=class e extends Us{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),o=Xf(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Cw(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=gt(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&$("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ee([Ew]),ve]});let t=e;return t})(),Ws=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Xf(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(f(ae),f(Jt),f(ki,9))},e.\u0275dir=F({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),xw={provide:cn,useExisting:ft(()=>Jf),multi:!0};function Df(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Iw(t){return t.split(":")[0]}var Jf=(()=>{let e=class e extends Us{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],d=this._getOptionValue(l.value);o.push(d)}}else{let a=r.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let d=this._getOptionValue(l.value);o.push(d)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Iw(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=gt(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&$("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ee([xw]),ve]});let t=e;return t})(),Hs=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Df(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Df(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(f(ae),f(Jt),f(Jf,9))},e.\u0275dir=F({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var ep=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=K({});let t=e;return t})(),jl=class extends Si{constructor(e,i,n){super(zl(i),Bl(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,n={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,i={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){Wf(this,!1,e),e.forEach((n,r)=>{$f(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((i,n)=>{e(i,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function kf(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Ri=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return kf(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ti(o,s)}record(n,r=null){let o=this._reduceControls(n);return new Ll(o,r)}control(n,r,o){let s={};return this.useNonNullable?(kf(r)?s=r:(s.validators=r,s.asyncValidators=o),new we(n,se(y({},s),{nonNullable:!0}))):new we(n,r,o)}array(n,r,o){let s=n.map(a=>this._createControl(a));return new jl(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof we)return n;if(n instanceof Si)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mi=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Hr,useValue:n.callSetDisabledState??$s}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=K({imports:[ep]});let t=e;return t})(),Gs=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Zf,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Hr,useValue:n.callSetDisabledState??$s}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=K({imports:[ep]});let t=e;return t})();var Aw="firebase",Sw="10.11.1";Le(Aw,Sw,"app");var zn=new di("ANGULARFIRE2_VERSION");function tp(t,e,i){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===i);if(o.length===1)return o[0]}return i.container.getProvider(t).getImmediate({optional:!0})}var Gl=(t,e)=>{let i=e?[e]:ss(),n=[];return i.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Wt=class{constructor(){return Gl(Tw)}},Tw="app-check";function Ni(){}var qs=class{zone;delegate;constructor(e,i=Dh){this.zone=e,this.delegate=i}now(){return this.delegate.now()}schedule(e,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},Hl=class{zone;task=null;constructor(e){this.zone=e}call(e,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),i.pipe(le({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new qs(Zone.current)),this.insideAngular=i.run(()=>new qs(Zone.current,Uo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||t)(g(U))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ks(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Dw(t){return Ks().ngZone.runOutsideAngular(()=>t())}function Un(t){return Ks().ngZone.run(()=>t())}function kt(t){return kw(Ks())(t)}function kw(t){return function(i){return i=i.lift(new Hl(t.ngZone)),i.pipe(An(t.outsideAngular),Kt(t.insideAngular))}}var Rw=(t,e)=>function(){let n=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Un(()=>t.apply(void 0,n))},Zr=(t,e)=>function(){let i,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(e&&(i||=Un(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni))),n[o]=Rw(n[o],i));let r=Dw(()=>t.apply(this,n));if(!e)if(r instanceof Be){let o=Ks();return r.pipe(An(o.outsideAngular),Kt(o.insideAngular))}else return Un(()=>r);return r instanceof Be?r.pipe(kt):r instanceof Promise?Un(()=>new Promise((o,s)=>r.then(a=>Un(()=>o(a)),a=>Un(()=>s(a))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:Un(()=>r)};var Bn=class{constructor(e){return e}},Xr=class{constructor(){return ss()}};function Mw(t){return t&&t.length===1?t[0]:new Bn(os())}var ql=new x("angularfire2._apps"),Nw={provide:Bn,useFactory:Mw,deps:[[new pt,ql]]},Pw={provide:Xr,deps:[[new pt,ql]]};function Fw(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new Bn(n)}}var Ow=(()=>{class t{constructor(i){Le("angularfire",zn.full,"core"),Le("angularfire",zn.full,"app"),Le("angular",Ic.full,i.toString())}static \u0275fac=function(n){return new(n||t)(g(Me))};static \u0275mod=Y({type:t});static \u0275inj=K({providers:[Nw,Pw]})}return t})();function ip(t,...e){return{ngModule:Ow,providers:[{provide:ql,useFactory:Fw(t),multi:!0,deps:[U,Xt,hn,...e]}]}}var rp=Zr(Cm,!0);var jw=new Map,Vw={activated:!1,tokenObservers:[]},Uw={initialized:!1,enabled:!1};function vt(t){return jw.get(t)||Object.assign({},Vw)}function lp(){return Uw}var zw="https://content-firebaseappcheck.googleapis.com/v1";var Bw="exchangeDebugToken",op={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ZD=24*60*60*1e3;var Yl=class{constructor(e,i,n,r,o){if(this.operation=e,this.retryPolicy=i,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return nt(this,null,function*(){this.stop();try{this.pending=new Ce,this.pending.promise.catch(i=>{}),yield $w(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ce,this.pending.promise.catch(i=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}};function $w(t){return new Promise(e=>{setTimeout(e,t)})}var Ww={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},mn=new pm("appCheck","AppCheck",Ww);function dp(t){if(!vt(t).activated)throw mn.create("use-before-activation",{appName:t.name})}function up(n,r){return nt(this,arguments,function*({url:t,body:e},i){let o={"Content-Type":"application/json"},s=i.getImmediate({optional:!0});if(s){let p=yield s.getHeartbeatsHeader();p&&(o["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(p){throw mn.create("fetch-network-error",{originalErrorMessage:p?.message})}if(c.status!==200)throw mn.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(p){throw mn.create("fetch-parse-error",{originalErrorMessage:p?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let u=Number(d[1])*1e3,h=Date.now();return{token:l.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}})}function hp(t,e){let{projectId:i,appId:n,apiKey:r}=t.options;return{url:`${zw}/projects/${i}/apps/${n}:${Bw}?key=${r}`,body:{debug_token:e}}}var Hw="firebase-app-check-database",Gw=1,Ql="firebase-app-check-store";var Ys=null;function qw(){return Ys||(Ys=new Promise((t,e)=>{try{let i=indexedDB.open(Hw,Gw);i.onsuccess=n=>{t(n.target.result)},i.onerror=n=>{var r;e(mn.create("storage-open",{originalErrorMessage:(r=n.target.error)===null||r===void 0?void 0:r.message}))},i.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(Ql,{keyPath:"compositeKey"})}}}catch(i){e(mn.create("storage-open",{originalErrorMessage:i?.message}))}}),Ys)}function Kw(t,e){return Yw(Qw(t),e)}function Yw(t,e){return nt(this,null,function*(){let n=(yield qw()).transaction(Ql,"readwrite"),o=n.objectStore(Ql).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},n.onerror=c=>{var l;a(mn.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Qw(t){return`${t.options.appId}-${t.name}`}var Zl=new pi("@firebase/app-check");function Kl(t,e){return fm()?Kw(t,e).catch(i=>{Zl.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function mp(){return lp().enabled}function fp(){return nt(this,null,function*(){let t=lp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Zw={error:"UNKNOWN_ERROR"};function Xw(t){return ts.encodeString(JSON.stringify(t),!1)}function Xl(t,e=!1){return nt(this,null,function*(){let i=t.app;dp(i);let n=vt(i),r=n.token,o;if(r&&!Jr(r)&&(n.token=void 0,r=void 0),!r){let c=yield n.cachedTokenPromise;c&&(Jr(c)?r=c:yield Kl(i,void 0))}if(!e&&r&&Jr(r))return{token:r.token};let s=!1;if(mp()){n.exchangeTokenPromise||(n.exchangeTokenPromise=up(hp(i,yield fp()),t.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),s=!0);let c=yield n.exchangeTokenPromise;return yield Kl(i,c),n.token=c,{token:c.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),s=!0),r=yield vt(i).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Zl.warn(c.message):Zl.error(c),o=c}let a;return r?o?Jr(r)?a={token:r.token,internalError:o}:a=ap(o):(a={token:r.token},n.token=r,yield Kl(i,r)):a=ap(o),s&&nE(i,a),a})}function Jw(t){return nt(this,null,function*(){let e=t.app;dp(e);let{provider:i}=vt(e);if(mp()){let n=yield fp(),{token:r}=yield up(hp(e,n),t.heartbeatServiceProvider);return{token:r}}else{let{token:n}=yield i.getToken();return{token:n}}})}function eE(t,e,i,n){let{app:r}=t,o=vt(r),s={next:i,error:n,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Jr(o.token)){let a=o.token;Promise.resolve().then(()=>{i({token:a.token}),sp(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>sp(t))}function pp(t,e){let i=vt(t),n=i.tokenObservers.filter(r=>r.next!==e);n.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=n}function sp(t){let{app:e}=t,i=vt(e),n=i.tokenRefresher;n||(n=tE(t),i.tokenRefresher=n),!n.isRunning()&&i.isTokenAutoRefreshEnabled&&n.start()}function tE(t){let{app:e}=t;return new Yl(()=>nt(this,null,function*(){let i=vt(e),n;if(i.token?n=yield Xl(t,!0):n=yield Xl(t),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{let i=vt(e);if(i.token){let n=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5,r=i.token.expireTimeMillis-5*60*1e3;return n=Math.min(n,r),Math.max(0,n-Date.now())}else return 0},op.RETRIAL_MIN_WAIT,op.RETRIAL_MAX_WAIT)}function nE(t,e){let i=vt(t).tokenObservers;for(let n of i)try{n.type==="EXTERNAL"&&e.error!=null?n.error(e.error):n.next(e)}catch{}}function Jr(t){return t.expireTimeMillis-Date.now()>0}function ap(t){return{token:Xw(Zw),error:t}}var Jl=class{constructor(e,i){this.app=e,this.heartbeatServiceProvider=i}_delete(){let{tokenObservers:e}=vt(this.app);for(let i of e)pp(this.app,i.next);return Promise.resolve()}};function iE(t,e){return new Jl(t,e)}function rE(t){return{getToken:e=>Xl(t,e),getLimitedUseToken:()=>Jw(t),addTokenListener:e=>eE(t,"INTERNAL",e),removeTokenListener:e=>pp(t.app,e)}}var oE="@firebase/app-check",sE="0.8.3";var aE="app-check",cp="app-check-internal";function cE(){fr(new Bt(aE,t=>{let e=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat");return iE(e,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider(cp).initialize()})),fr(new Bt(cp,t=>{let e=t.getProvider("app-check").getImmediate();return rE(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Le(oE,sE)}cE();var lE=["localhost","0.0.0.0","127.0.0.1"],lk=typeof window<"u"&&lE.includes(window.location.hostname);var dE="firebase",uE="10.11.1";At.registerVersion(dE,uE,"app-compat");var hE=["ngOnDestroy"],vp=(t,e,i,n={})=>new Proxy(t,{get:(r,o)=>i.runOutsideAngular(()=>{if(t[o])return n?.spy?.get&&n.spy.get(o,t[o]),t[o];if(hE.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>i.run(()=>l)):i.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{let u=d?.(...l);return n?.spy?.apply&&n.spy.apply(o,l,u),u})})})});var ed=class{constructor(e){return e}},Pi=new x("angularfire2.app.options"),Qs=new x("angularfire2.app.name");function Zs(t,e,i){let n=typeof i=="string"&&i||"[DEFAULT]",r=typeof i=="object"&&i||{};r.name=r.name||n;let s=At.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>At.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;mE("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ed(s)}var mE=(t,...e)=>{Tc()&&typeof console<"u"&&console[t](...e)};function Xs(t,e,i,n,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return fE(r,s)||(bp("error",`${e} was already initialized on the ${i} Firebase App with different settings.${pE?" You may need to reload as Firebase is not HMR aware.":""}`),bp("warn",{is:r,was:s})),o;{let a=n();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function fE(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var pE=typeof module<"u"&&!!module.hot,bp=(t,...e)=>{Tc()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var td=new x("angularfire2.auth.use-emulator"),nd=new x("angularfire2.auth.settings"),id=new x("angularfire2.auth.tenant-id"),rd=new x("angularfire2.auth.langugage-code"),od=new x("angularfire2.auth.use-device-language"),sd=new x("angularfire.auth.persistence"),ad=(t,e,i,n,r,o,s,a)=>Xs(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(i&&c.useEmulator(...i),n&&(c.tenantId=n),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[i,n,r,o,s,a]),Js=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(i,n,r,o,s,a,c,l,d,u,h,p){let w=new Ae,D=I(void 0).pipe(Kt(s.outsideAngular),he(()=>o.runOutsideAngular(()=>import("./chunk-SI2WXWYM.js"))),S(()=>Zs(i,o,n)),S(A=>ad(A,o,a,l,d,u,c,h)),bc({bufferSize:1,refCount:!1}));if(mi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=I(null);else{D.pipe(Et()).subscribe();let A=D.pipe(he(X=>X.getRedirectResult().then(ne=>ne,()=>null)),kt,bc({bufferSize:1,refCount:!1})),M=D.pipe(he(X=>new Be(ne=>({unsubscribe:o.runOutsideAngular(()=>X.onAuthStateChanged(mt=>ne.next(mt),mt=>ne.error(mt),()=>ne.complete()))})))),oe=D.pipe(he(X=>new Be(ne=>({unsubscribe:o.runOutsideAngular(()=>X.onIdTokenChanged(mt=>ne.next(mt),mt=>ne.error(mt),()=>ne.complete()))}))));this.authState=A.pipe(vc(M),An(s.outsideAngular),Kt(s.insideAngular)),this.user=A.pipe(vc(oe),An(s.outsideAngular),Kt(s.insideAngular)),this.idToken=this.user.pipe(he(X=>X?be(X.getIdToken()):I(null))),this.idTokenResult=this.user.pipe(he(X=>X?be(X.getIdTokenResult()):I(null))),this.credential=Tn(A,w,this.authState.pipe(Re(X=>!X))).pipe(S(X=>X?.user?X:null),An(s.outsideAngular),Kt(s.insideAngular))}return vp(this,D,o,{spy:{apply:(A,M,oe)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&oe.then(X=>w.next(X))}}})}static \u0275fac=function(n){return new(n||t)(g(Pi),g(Qs,8),g(Me),g(U),g(hn),g(td,8),g(nd,8),g(id,8),g(rd,8),g(od,8),g(sd,8),g(Wt,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Fi=(()=>{let e=class e{constructor(n,r){this.firebaseAuth=n,this.router=r}login(n,r){this.firebaseAuth.signInWithEmailAndPassword(n,r).then(()=>{localStorage.setItem("token","true"),localStorage.setItem("user",n),this.router.navigate(["/exercise-logger"])},o=>{alert(o.message),this.router.navigate(["/login"])})}register(n,r){this.firebaseAuth.createUserWithEmailAndPassword(n,r).then(()=>{alert("Sikeres regisztr\xE1ci\xF3!"),this.router.navigate(["/login"])},o=>{alert(o.message),this.router.navigate(["/register"])})}logout(){this.firebaseAuth.signOut().then(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),this.router.navigate(["/login"])},n=>{alert(n.message),this.router.navigate(["/dashboard"])})}};e.\u0275fac=function(r){return new(r||e)(g(Js),g(ct))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yp=(()=>{let e=class e{constructor(n,r){this.authService=n,this.router=r,this.email="",this.password="",localStorage.getItem("user")!=""&&r.navigate(["/dashboard"])}ngOnInit(){}login(){if(this.email==""){alert("Please enter a valid email");return}if(this.password==""){alert("Please enter a valid password");return}this.authService.login(this.email,this.password),this.email="",this.password=""}};e.\u0275fac=function(r){return new(r||e)(f(Fi),f(ct))},e.\u0275cmp=B({type:e,selectors:[["app-login"]],standalone:!0,features:[W],decls:24,vars:2,consts:[[1,"d-flex","justify-content-center","w-50","mx-auto"],[1,"row","lr-panel"],[1,"text-center"],[1,"text-warning"],[1,"col-md-12"],["for","email",1,"form-label"],["id","email","name","email",1,"form-control","border-dark",3,"ngModelChange","ngModel"],[1,"col-md-12","pt-2"],["for","password",1,"form-label"],["type","password","id","password","name","email",1,"form-control","border-dark",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center"],["type","submit","value","Bejelentkez\xE9s",1,"btn","btn-warning","mt-2",3,"click"],[1,"mt-2"],["href","/register",1,"text-primary"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"form")(2,"div",1)(3,"h1",2)(4,"span"),_(5,"Rep"),b(),m(6,"span",3),_(7,"Recorder"),b()(),m(8,"h2",2),_(9,"Bejelentkez\xE9s"),b(),m(10,"div",4)(11,"label",5),_(12,"Email:"),b(),m(13,"input",6),li("ngModelChange",function(a){return ci(o.email,a)||(o.email=a),a}),b()(),m(14,"div",7)(15,"label",8),_(16,"Jelsz\xF3:"),b(),m(17,"input",9),li("ngModelChange",function(a){return ci(o.password,a)||(o.password=a),a}),b()(),m(18,"div",10)(19,"input",11),$("click",function(){return o.login()}),b()(),m(20,"p",12),_(21,"Nincs m\xE9g fi\xF3kod? "),m(22,"a",13),_(23,"Hozz l\xE9tre egyet itt!"),b()()()()()),r&2&&(T(13),ai("ngModel",o.email),T(4),ai("ngModel",o.password))},dependencies:[Mi,un,Dt,ln,dn,qr,Gr]});let t=e;return t})();var dd;try{dd=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dd=!1}var je=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?lm(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||dd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(g(Me))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eo;function gE(){if(eo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>eo=!0}))}finally{eo=eo||!1}return eo}function Oi(t){return gE()?t:!!t.capture}var ld;function bE(){if(ld==null){let t=typeof document<"u"?document.head:null;ld=!!(t&&(t.createShadowRoot||t.attachShadow))}return ld}function wp(t){if(bE()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function fn(t){return t.composedPath?t.composedPath()[0]:t.target}function Ep(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Cp(t,...e){return e.length?e.some(i=>t[i]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function ta(t){return t!=null&&`${t}`!="false"}function ud(t){return Array.isArray(t)?t:[t]}function $n(t){return t instanceof ae?t.nativeElement:t}var xp=new Set,Wn,vE=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yE}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&_E(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(g(je),g(cr,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _E(t,e){if(!xp.has(t))try{Wn||(Wn=document.createElement("style"),e&&Wn.setAttribute("nonce",e),Wn.setAttribute("type","text/css"),document.head.appendChild(Wn)),Wn.sheet&&(Wn.sheet.insertRule(`@media ${t} {body{ }}`,0),xp.add(t))}catch(i){console.error(i)}}function yE(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Ap=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Ae}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Ip(ud(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=Ip(ud(n)).map(a=>this._registerQuery(a).observable),s=rr(o);return s=zo(s.pipe(Fe(1)),s.pipe(Ho(1),fc(0))),s.pipe(S(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Be(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(ni(r),S(({matches:a})=>({query:n,matches:a})),ii(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};e.\u0275fac=function(r){return new(r||e)(g(vE),g(U))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ip(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var Rp=" ";function EE(t,e,i){let n=oa(t,e);i=i.trim(),!n.some(r=>r.trim()===i)&&(n.push(i),t.setAttribute(e,n.join(Rp)))}function CE(t,e,i){let n=oa(t,e);i=i.trim();let r=n.filter(o=>o!==i);r.length?t.setAttribute(e,r.join(Rp)):t.removeAttribute(e)}function oa(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var Mp="cdk-describedby-message",na="cdk-describedby-host",fd=0,Np=(()=>{let e=class e{constructor(n,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${fd++}`,this._document=n,this._id=C(ar)+"-"+fd++}describe(n,r,o){if(!this._canBeDescribed(n,r))return;let s=hd(r,o);typeof r!="string"?(Sp(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,o),this._isElementDescribedByMessage(n,s)||this._addMessageReference(n,s)}removeDescription(n,r,o){if(!r||!this._isElementNode(n))return;let s=hd(r,o);if(this._isElementDescribedByMessage(n,s)&&this._removeMessageReference(n,s),typeof r=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${na}="${this._id}"]`);for(let r=0;r<n.length;r++)this._removeCdkDescribedByReferenceIds(n[r]),n[r].removeAttribute(na);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,r){let o=this._document.createElement("div");Sp(o,this._id),o.textContent=n,r&&o.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(hd(n,r),{messageElement:o,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(n),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(n){let r=oa(n,"aria-describedby").filter(o=>o.indexOf(Mp)!=0);n.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(n,r){let o=this._messageRegistry.get(r);EE(n,"aria-describedby",o.messageElement.id),n.setAttribute(na,this._id),o.referenceCount++}_removeMessageReference(n,r){let o=this._messageRegistry.get(r);o.referenceCount--,CE(n,"aria-describedby",o.messageElement.id),n.removeAttribute(na)}_isElementDescribedByMessage(n,r){let o=oa(n,"aria-describedby"),s=this._messageRegistry.get(r),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(n,r){if(!this._isElementNode(n))return!1;if(r&&typeof r=="object")return!0;let o=r==null?"":`${r}`.trim(),s=n.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}};e.\u0275fac=function(r){return new(r||e)(g(H),g(je))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hd(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function Sp(t,e){t.id||(t.id=`${Mp}-${e}-${fd++}`)}var Pp=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return IE(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=xE(NE(n));if(r&&(Tp(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=Tp(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!RE(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return ME(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(r){return new(r||e)(g(je))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xE(t){try{return t.frameElement}catch{return null}}function IE(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function AE(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function SE(t){return DE(t)&&t.type=="hidden"}function TE(t){return kE(t)&&t.hasAttribute("href")}function DE(t){return t.nodeName.toLowerCase()=="input"}function kE(t){return t.nodeName.toLowerCase()=="a"}function Fp(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Tp(t){if(!Fp(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function RE(t){let e=t.nodeName.toLowerCase(),i=e==="input"&&t.type;return i==="text"||i==="password"||e==="select"||e==="textarea"}function ME(t){return SE(t)?!1:AE(t)||TE(t)||t.hasAttribute("contenteditable")||Fp(t)}function NE(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}function pd(t){return t.buttons===0||t.detail===0}function gd(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var PE=new x("cdk-input-modality-detector-options"),FE={ignoreKeys:[18,17,224,91,16]},Op=650,Li=Oi({passive:!0,capture:!0}),OE=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new $e(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Op||(this._modality.next(pd(a)?"keyboard":"mouse"),this._mostRecentTarget=fn(a))},this._onTouchstart=a=>{if(gd(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fn(a)},this._options=y(y({},FE),s),this.modalityDetected=this._modality.pipe(Ho(1)),this.modalityChanged=this.modalityDetected.pipe($o()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Li),o.addEventListener("mousedown",this._onMousedown,Li),o.addEventListener("touchstart",this._onTouchstart,Li)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Li),document.removeEventListener("mousedown",this._onMousedown,Li),document.removeEventListener("touchstart",this._onTouchstart,Li))}};e.\u0275fac=function(r){return new(r||e)(g(je),g(U),g(H),g(PE,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ra=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(ra||{}),LE=new x("cdk-focus-monitor-default-options"),ia=Oi({passive:!0,capture:!0}),ji=(()=>{let e=class e{constructor(n,r,o,s,a){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ae,this._rootNodeFocusAndBlurListener=c=>{let l=fn(c);for(let d=l;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=s,this._detectionMode=a?.detectionMode||ra.IMMEDIATE}monitor(n,r=!1){let o=$n(n);if(!this._platform.isBrowser||o.nodeType!==1)return I();let s=wp(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new Ae,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(n){let r=$n(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=$n(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===ra.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===ra.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Op:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=fn(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ia),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ia)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ii(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ia),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ia),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(g(U),g(je),g(OE),g(H,8),g(LE,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hn=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Hn||{}),Dp="cdk-high-contrast-black-on-white",kp="cdk-high-contrast-white-on-black",md="cdk-high-contrast-active",Lp=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=C(Ap).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Hn.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Hn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Hn.BLACK_ON_WHITE}return Hn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(md,Dp,kp),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Hn.BLACK_ON_WHITE?n.add(md,Dp):r===Hn.WHITE_ON_BLACK&&n.add(md,kp)}}};e.\u0275fac=function(r){return new(r||e)(g(je),g(H))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=K({});let t=e;return t})();var jE=["mat-internal-form-field",""],VE=["*"];function UE(){return!0}var zE=new x("mat-sanity-checks",{providedIn:"root",factory:UE}),ca=(()=>{let e=class e{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Ep()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(g(Lp),g(zE,8),g(H))},e.\u0275mod=Y({type:e}),e.\u0275inj=K({imports:[bd,bd]});let t=e;return t})();var lt=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(lt||{}),yd=class{constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=lt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},jp=Oi({passive:!0,capture:!0}),wd=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=fn(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,jp)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,jp)))}},Vp={enterDuration:225,exitDuration:150},BE=800,Up=Oi({passive:!0,capture:!0}),zp=["mousedown","touchstart"],Bp=["mouseup","mouseleave","touchend","touchcancel"],to=class to{constructor(e,i,n,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$n(n))}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=y(y({},Vp),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||$E(e,i,r),a=e-r.left,c=i-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,p=u.transitionDuration,w=h==="none"||p==="0s"||p==="0s, 0s"||r.width===0&&r.height===0,D=new yd(this,d,n,w);d.style.transform="scale3d(1, 1, 1)",D.state=lt.FADING_IN,n.persistent||(this._mostRecentTransientRipple=D);let A=null;return!w&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let M=()=>this._finishRippleTransition(D),oe=()=>this._destroyRipple(D);d.addEventListener("transitionend",M),d.addEventListener("transitioncancel",oe),A={onTransitionEnd:M,onTransitionCancel:oe}}),this._activeRipples.set(D,A),(w||!l)&&this._finishRippleTransition(D),D}fadeOutRipple(e){if(e.state===lt.FADING_OUT||e.state===lt.HIDDEN)return;let i=e.element,n=y(y({},Vp),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=lt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=$n(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,zp.forEach(n=>{to._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Bp.forEach(i=>{this._triggerElement.addEventListener(i,this,Up)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===lt.FADING_IN?this._startFadeOutTransition(e):e.state===lt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=lt.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=lt.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){let i=pd(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+BE;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===lt.VISIBLE||e.config.terminateOnPointerUp&&e.state===lt.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(zp.forEach(i=>to._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&Bp.forEach(i=>e.removeEventListener(i,this,Up)))}};to._eventManager=new wd;var Ed=to;function $E(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var Gp=new x("mat-ripple-global-options"),Cd=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ed(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:y(y(y({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,y(y({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,y(y({},this.rippleConfig),n))}};e.\u0275fac=function(r){return new(r||e)(f(ae),f(U),f(je),f(Gp,8),f(We,8))},e.\u0275dir=F({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&ce("mat-ripple-unbounded",o.unbounded)},inputs:{color:[k.None,"matRippleColor","color"],unbounded:[k.None,"matRippleUnbounded","unbounded"],centered:[k.None,"matRippleCentered","centered"],radius:[k.None,"matRippleRadius","radius"],animation:[k.None,"matRippleAnimation","animation"],disabled:[k.None,"matRippleDisabled","disabled"],trigger:[k.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})();var $p={capture:!0},Wp=["focus","click","mouseenter","touchstart"],vd="mat-ripple-loader-uninitialized",_d="mat-ripple-loader-class-name",Hp="mat-ripple-loader-centered",aa="mat-ripple-loader-disabled",qp=(()=>{let e=class e{constructor(){this._document=C(H,{optional:!0}),this._animationMode=C(We,{optional:!0}),this._globalRippleOptions=C(Gp,{optional:!0}),this._platform=C(je),this._ngZone=C(U),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${vd}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of Wp)this._document?.addEventListener(n,this._onInteraction,$p)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of Wp)this._document?.removeEventListener(r,this._onInteraction,$p)}configureRipple(n,r){n.setAttribute(vd,""),(r.className||!n.hasAttribute(_d))&&n.setAttribute(_d,r.className||""),r.centered&&n.setAttribute(Hp,""),r.disabled&&n.setAttribute(aa,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(aa,""):n.removeAttribute(aa)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(_d)),n.append(o);let s=new Cd(new ae(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(Hp),s.disabled=n.hasAttribute(aa),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(vd),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=B({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&ce("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[W],attrs:jE,ngContentSelectors:VE,decls:1,vars:0,template:function(r,o){r&1&&(He(),me(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0});let t=e;return t})();var WE=["switch"],HE=["*"];function GE(t,e){t&1&&(m(0,"div",10),Go(),m(1,"svg",12),V(2,"path",13),b(),m(3,"svg",14),V(4,"path",15),b()())}var qE=new x("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),KE={provide:cn,useExisting:ft(()=>Yp),multi:!0},la=class{constructor(e,i){this.source=e,this.checked=i}},YE=0,Yp=(()=>{let e=class e{_createChangeEvent(n){return new la(this,n)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(n){this._checked=n,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,r,o,s,a,c){this._elementRef=n,this._focusMonitor=r,this._changeDetectorRef=o,this.defaults=a,this._onChange=l=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new J,this.toggleChange=new J,this.tabIndex=parseInt(s)||0,this.color=a.color||"accent",this._noopAnimations=c==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++YE}`,this.hideIcon=a.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n==="keyboard"||n==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):n||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(n){n.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorOnChange=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new la(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};e.\u0275fac=function(r){return new(r||e)(f(ae),f(ji),f(Ke),Rn("tabindex"),f(qE),f(We,8))},e.\u0275cmp=B({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(r,o){if(r&1&&Nn(WE,5),r&2){let s;Vt(s=Ut())&&(o._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,o){r&2&&(Ec("id",o.id),De("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),en(o.color?"mat-"+o.color:""),ce("mat-mdc-slide-toggle-focused",o._focused)("mat-mdc-slide-toggle-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[k.None,"aria-label","ariaLabel"],ariaLabelledby:[k.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[k.None,"aria-describedby","ariaDescribedby"],required:[k.HasDecoratorInputTransform,"required","required",ee],color:"color",disabled:[k.HasDecoratorInputTransform,"disabled","disabled",ee],disableRipple:[k.HasDecoratorInputTransform,"disableRipple","disableRipple",ee],tabIndex:[k.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>n==null?0:ur(n)],checked:[k.HasDecoratorInputTransform,"checked","checked",ee],hideIcon:[k.HasDecoratorInputTransform,"hideIcon","hideIcon",ee]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Ee([KE,{provide:Di,useExisting:e,multi:!0}]),Ne,rt,W],ngContentSelectors:HE,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,o){if(r&1){let s=ot();He(),m(0,"div",1)(1,"button",2,0),$("click",function(){return Se(s),Te(o._handleClick())}),V(3,"div",3),m(4,"div",4)(5,"div",5)(6,"div",6),V(7,"div",7),b(),m(8,"div",8),V(9,"div",9),b(),fe(10,GE,5,0,"div",10),b()()(),m(11,"label",11),$("click",function(c){return Se(s),Te(c.stopPropagation())}),me(12),b()()}if(r&2){let s=tm(2);pe("labelPosition",o.labelPosition),T(),ce("mdc-switch--selected",o.checked)("mdc-switch--unselected",!o.checked)("mdc-switch--checked",o.checked)("mdc-switch--disabled",o.disabled),pe("tabIndex",o.disabled?-1:o.tabIndex)("disabled",o.disabled),De("id",o.buttonId)("name",o.name)("aria-label",o.ariaLabel)("aria-labelledby",o._getAriaLabelledBy())("aria-describedby",o.ariaDescribedby)("aria-required",o.required||null)("aria-checked",o.checked),T(8),pe("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),T(),_e(10,o.hideIcon?-1:10),T(),pe("for",o.buttonId),De("id",o._labelId)}},dependencies:[Cd,Kp],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0});let t=e;return t})();var Qp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=K({imports:[Yp,ca,ca]});let t=e;return t})();var QE=["*"];var ZE=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],XE=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],JE=new x("MAT_CARD_CONFIG"),Zp=(()=>{let e=class e{constructor(n){this.appearance=n?.appearance||"raised"}};e.\u0275fac=function(r){return new(r||e)(f(JE,8))},e.\u0275cmp=B({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&ce("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[W],ngContentSelectors:QE,decls:1,vars:0,template:function(r,o){r&1&&(He(),me(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let t=e;return t})(),Xp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let t=e;return t})();var Jp=(()=>{let e=class e{constructor(){this.align="start"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&ce("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let t=e;return t})(),eg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=B({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[W],ngContentSelectors:XE,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(He(ZE),me(0),m(1,"div",0),me(2,1),b(),me(3,2))},encapsulation:2,changeDetection:0});let t=e;return t})();var tg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let t=e;return t})();var eC=["mat-button",""],tC=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],nC=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var iC=new x("MAT_BUTTON_CONFIG");var rC=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],oC=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=C(ji),this._rippleLoader=C(qp),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=C(iC,{optional:!0}),c=n.nativeElement,l=c.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of rC)c.hasAttribute(d)&&l.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){dr()},e.\u0275dir=F({type:e,inputs:{color:"color",disableRipple:[k.HasDecoratorInputTransform,"disableRipple","disableRipple",ee],disabled:[k.HasDecoratorInputTransform,"disabled","disabled",ee],ariaDisabled:[k.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",ee],disabledInteractive:[k.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",ee]},features:[Ne]});let t=e;return t})();var ng=(()=>{let e=class e extends oC{constructor(n,r,o,s){super(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(f(ae),f(je),f(U),f(We,8))},e.\u0275cmp=B({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(De("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),en(o.color?"mat-"+o.color:""),ce("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ve,W],attrs:eC,ngContentSelectors:nC,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(He(tC),V(0,"span",0),me(1),m(2,"span",1),me(3,1),b(),me(4,2),V(5,"span",2)(6,"span",3)),r&2&&ce("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var ig=(()=>{let e=class e{constructor(n,r){this.authService=n,this.router=r,this.email="",this.password="",localStorage.getItem("user")!=""&&r.navigate(["/dashboard"])}ngOnInit(){}register(){if(this.email==""){alert("Please enter a valid email");return}if(this.password==""){alert("Please enter a valid password");return}this.authService.register(this.email,this.password),this.email="",this.password=""}};e.\u0275fac=function(r){return new(r||e)(f(Fi),f(ct))},e.\u0275cmp=B({type:e,selectors:[["app-login"]],standalone:!0,features:[W],decls:24,vars:2,consts:[[1,"d-flex","justify-content-center","w-50","mx-auto"],[1,"row","lr-panel"],[1,"text-center"],[1,"text-warning"],[1,"col-md-12"],["for","email",1,"form-label"],["id","email","name","email",1,"form-control","border-dark",3,"ngModelChange","ngModel"],[1,"col-md-12","pt-2"],["for","password",1,"form-label"],["type","password","id","password","name","email",1,"form-control","border-dark",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center"],["type","submit","value","Regisztr\xE1ci\xF3",1,"btn","btn-warning","mt-2",3,"click"],[1,"mt-2"],["href","/login",1,"text-primary"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"form")(2,"div",1)(3,"h1",2)(4,"span"),_(5,"Rep"),b(),m(6,"span",3),_(7,"Recorder"),b()(),m(8,"h2",2),_(9,"Regisztr\xE1ci\xF3"),b(),m(10,"div",4)(11,"label",5),_(12,"Email:"),b(),m(13,"input",6),li("ngModelChange",function(a){return ci(o.email,a)||(o.email=a),a}),b()(),m(14,"div",7)(15,"label",8),_(16,"Jelsz\xF3:"),b(),m(17,"input",9),li("ngModelChange",function(a){return ci(o.password,a)||(o.password=a),a}),b()(),m(18,"div",10)(19,"input",11),$("click",function(){return o.register()}),b()(),m(20,"p",12),_(21,"Van m\xE1r fi\xF3kod? "),m(22,"a",13),_(23,"Jelentkezz be itt!"),b()()()()()),r&2&&(T(13),ai("ngModel",o.email),T(4),ai("ngModel",o.password))},dependencies:[Mi,un,Dt,ln,dn,qr,Gr,Qp]});let t=e;return t})();var rg="@firebase/database",og="1.0.4";var Fu="";function Ou(t){Fu=t}var Rd=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ge(i))}get(e){let i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:ns(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Md=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return st(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Og=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Rd(e)}}catch{}return new Md},qn=Og("localStorage"),Nd=Og("sessionStorage");var Bi=new pi("@firebase/database"),Lg=function(){let t=1;return function(){return t++}}(),jg=function(t){let e=ym(t),i=new _m;i.update(e);let n=i.digest();return ts.encodeByteArray(n)},Ao=function(...t){let e="";for(let i=0;i<t.length;i++){let n=t[i];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=Ao.apply(null,n):typeof n=="object"?e+=ge(n):e+=n,e+=" "}return e},Kn=null,sg=!0,Vg=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bi.logLevel=wm.VERBOSE,Kn=Bi.log.bind(Bi),e&&Nd.set("logging_enabled",!0)):typeof t=="function"?Kn=t:(Kn=null,Nd.remove("logging_enabled"))},xe=function(...t){if(sg===!0&&(sg=!1,Kn===null&&Nd.get("logging_enabled")===!0&&Vg(!0)),Kn){let e=Ao.apply(null,t);Kn(e)}},So=function(t){return function(...e){xe(t,...e)}},Pd=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ao(...t);Bi.error(e)},Nt=function(...t){let e=`FIREBASE FATAL ERROR: ${Ao(...t)}`;throw Bi.error(e),new Error(e)},Pe=function(...t){let e="FIREBASE WARNING: "+Ao(...t);Bi.warn(e)},sC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},La=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aC=function(t){if(It()||document.readyState==="complete")t();else{let e=!1,i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},vn="[MIN_NAME]",Ht="[MAX_NAME]",Qn=function(t,e){if(t===e)return 0;if(t===vn||e===Ht)return-1;if(e===vn||t===Ht)return 1;{let i=ag(t),n=ag(e);return i!==null?n!==null?i-n===0?t.length-e.length:i-n:-1:n!==null?1:t<e?-1:1}},cC=function(t,e){return t===e?0:t<e?-1:1},no=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ge(e))},Lu=function(t){if(typeof t!="object"||t===null)return ge(t);let e=[];for(let n in t)e.push(n);e.sort();let i="{";for(let n=0;n<e.length;n++)n!==0&&(i+=","),i+=ge(e[n]),i+=":",i+=Lu(t[e[n]]);return i+="}",i},Ug=function(t,e){let i=t.length;if(i<=e)return[t];let n=[];for(let r=0;r<i;r+=e)r+e>i?n.push(t.substring(r,i)):n.push(t.substring(r,r+e));return n};function Ie(t,e){for(let i in t)t.hasOwnProperty(i)&&e(i,t[i])}var zg=function(t){v(!La(t),"Invalid JSON number");let e=11,i=52,n=(1<<e-1)-1,r,o,s,a,c;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),n),o=a+n,s=Math.round(t*Math.pow(2,i-a)-Math.pow(2,i))):(o=0,s=Math.round(t/Math.pow(2,1-n-i))));let l=[];for(c=i;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();let d=l.join(""),u="";for(c=0;c<64;c+=8){let h=parseInt(d.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},lC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uC(t,e){let i="Unknown Error";t==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?i="Client doesn't have permission to access the desired data.":t==="unavailable"&&(i="The service is unavailable");let n=new Error(t+" at "+e._path.toString()+": "+i);return n.code=t.toUpperCase(),n}var hC=new RegExp("^-?(0*)\\d{1,10}$"),mC=-2147483648,fC=2147483647,ag=function(t){if(hC.test(t)){let e=Number(t);if(e>=mC&&e<=fC)return e}return null},Zi=function(t){try{t()}catch(e){setTimeout(()=>{let i=e.stack||"";throw Pe("Exception was thrown by user callback.",i),e},Math.floor(0))}},pC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},so=function(t,e){let i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};var Fd=class{constructor(e,i){this.appName_=e,this.appCheckProvider=i,this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(n=>this.appCheck=n)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((i,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,n):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Pe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Od=class{constructor(e,i,n){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,n):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pe(e)}},ao=(()=>{class t{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),ua="5",Bg="v",$g="s",Wg="r",Hg="f",Gg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qg="ls",Kg="p",Ld="ac",Yg="websocket",Qg="long_polling";var ha=class{constructor(e,i,n,r,o=!1,s="",a=!1,c=!1){this.secure=i,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}};function gC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zg(t,e,i){v(typeof e=="string","typeof type must == string"),v(typeof i=="object","typeof params must == object");let n;if(e===Yg)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Qg)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gC(t)&&(i.ns=t.namespace);let r=[];return Ie(i,(o,s)=>{r.push(o+"="+s)}),n+r.join("&")}var jd=class{constructor(){this.counters_={}}incrementCounter(e,i=1){st(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return um(this.counters_)}};var xd={},Id={};function ju(t){let e=t.toString();return xd[e]||(xd[e]=new jd),xd[e]}function bC(t,e){let i=t.toString();return Id[i]||(Id[i]=e()),Id[i]}var Vd=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){let n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<n.length;++r)n[r]&&Zi(()=>{this.onMessage_(n[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var cg="start",vC="close",_C="pLPCommand",yC="pRTLPCB",Xg="id",Jg="pw",eb="ser",wC="cb",EC="seg",CC="ts",xC="d",IC="dframe",tb=1870,nb=30,AC=tb-nb,SC=25e3,TC=3e4,ho=class t{constructor(e,i,n,r,o,s,a){this.connId=e,this.repoInfo=i,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=So(e),this.stats_=ju(i),this.urlFn=c=>(this.appCheckToken&&(c[Ld]=this.appCheckToken),Zg(i,Qg,c))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Vd(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TC)),aC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ud((...o)=>{let[s,a,c,l,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===cg)this.id=a,this.password=c;else if(s===vC)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let n={};n[cg]="t",n[eb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[wC]=this.scriptTagHolder.uniqueCallbackIdentifier),n[Bg]=ua,this.transportSessionId&&(n[$g]=this.transportSessionId),this.lastSessionId&&(n[qg]=this.lastSessionId),this.applicationId&&(n[Kg]=this.applicationId),this.appCheckToken&&(n[Ld]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gg.test(location.hostname)&&(n[Wg]=Hg);let r=this.urlFn(n);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return It()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lC()&&!dC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let i=ge(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let n=dm(i),r=Ug(n,AC);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,i){if(It())return;this.myDisconnFrame=document.createElement("iframe");let n={};n[IC]="t",n[Xg]=e,n[Jg]=i,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let i=ge(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}},Ud=class t{constructor(e,i,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,It())this.commandCB=e,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=Lg(),window[_C+this.uniqueCallbackIdentifier]=e,window[yC+this.uniqueCallbackIdentifier]=i,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){xe("frame writing exception"),a.stack&&xe(a.stack),xe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xe("No IE domain setting required")}catch{let n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Xg]=this.myID,e[Jg]=this.myPW,e[eb]=this.currentSerial;let i=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nb+n.length<=tb;){let s=this.pendingSegs.shift();n=n+"&"+EC+r+"="+s.seg+"&"+CC+r+"="+s.ts+"&"+xC+r+"="+s.d,r++}return i=i+n,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,n){this.pendingSegs.push({seg:e,ts:i,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);let n=()=>{this.outstandingRequests.delete(i),this.newRequest_()},r=setTimeout(n,Math.floor(SC)),o=()=>{clearTimeout(r),n()};this.addTag(e,o)}addTag(e,i){It()?this.doNodeLongPoll(e,i):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let r=n.readyState;(!r||r==="loaded"||r==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),i())},n.onerror=()=>{xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}};var DC=16384,kC=45e3,ma=null;typeof MozWebSocket<"u"?ma=MozWebSocket:typeof WebSocket<"u"&&(ma=WebSocket);var Ui=(()=>{class t{constructor(i,n,r,o,s,a,c){this.connId=i,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=So(this.connId),this.stats_=ju(n),this.connURL=t.connectionURL_(n,a,c,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(i,n,r,o,s){let a={};return a[Bg]=ua,!It()&&typeof location<"u"&&location.hostname&&Gg.test(location.hostname)&&(a[Wg]=Hg),n&&(a[$g]=n),r&&(a[qg]=r),o&&(a[Ld]=o),s&&(a[Kg]=s),Zg(i,Yg,a)}open(i,n){this.onDisconnect=n,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qn.set("previous_websocket_failure",!0);try{let r;if(It()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${ua}/${Fu}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new ma(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator<"u"&&navigator.userAgent){let n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(i=!0)}return!i&&ma!==null&&!t.forceDisallow_}static previouslyFailed(){return qn.isInMemoryStorage||qn.get("previous_websocket_failure")===!0}markConnectionHealthy(){qn.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){let n=this.frames.join("");this.frames=null;let r=ns(n);this.onMessage(r)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if(v(this.frames===null,"We already have a frame buffer"),i.length<=6){let n=Number(i);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(this.mySock===null)return;let n=i.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{let r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(i){this.resetKeepAlive();let n=ge(i);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Ug(n,DC);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kC))}sendString_(i){try{this.mySock.send(i)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),ib=(()=>{class t{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[ho,Ui]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){let n=Ui&&Ui.isAvailable(),r=n&&!Ui.previouslyFailed();if(i.webSocketOnly&&(n||Pe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ui];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),RC=6e4,MC=5e3,NC=10*1024,PC=100*1024,Ad="t",lg="d",FC="s",dg="r",OC="e",ug="o",hg="a",mg="n",fg="p",LC="h",zd=class{constructor(e,i,n,r,o,s,a,c,l,d){this.id=e,this.repoInfo_=i,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=So("c:"+this.id+":"),this.transportManager_=new ib(i),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let i=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,n)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=so(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>PC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>NC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){let i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ad in e){let i=e[Ad];i===hg?this.upgradeIfSecondaryHealthy_():i===dg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===ug&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let i=no("t",e),n=no("d",e);if(i==="c")this.onSecondaryControl_(n);else if(i==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:mg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let i=no("t",e),n=no("d",e);i==="c"?this.onControl_(n):i==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let i=no(Ad,e);if(lg in e){let n=e[lg];if(i===LC){let r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(i===mg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===FC?this.onConnectionShutdown_(n):i===dg?this.onReset_(n):i===OC?Pd("Server Error: "+n):i===ug?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pd("Unknown control packet command: "+i)}}onHandshake_(e){let i=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),ua!==n&&Pe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let i=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,n),so(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):so(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(MC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fg,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var fa=class{put(e,i,n,r){}merge(e,i,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,n){}onDisconnectMerge(e,i,n){}onDisconnectCancel(e,i){}reportStats(e){}};var pa=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,i)}}on(e,i,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:n});let r=this.getInitialEvent(e);r&&i.apply(n,r)}off(e,i,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===i&&(!n||n===r[o].context)){r.splice(o,1);return}}validateEventType_(e){v(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}};var ga=class t extends pa{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var pg=32,gg=768,q=class{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let n=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}};function G(){return new q("")}function O(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _n(t){return t.pieces_.length-t.pieceNum_}function te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function Vu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jC(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function mo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rb(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new q(e,0)}function de(t,e){let i=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)i.push(t.pieces_[n]);if(e instanceof q)for(let n=e.pieceNum_;n<e.pieces_.length;n++)i.push(e.pieces_[n]);else{let n=e.split("/");for(let r=0;r<n.length;r++)n[r].length>0&&i.push(n[r])}return new q(i,0)}function L(t){return t.pieceNum_>=t.pieces_.length}function Ve(t,e){let i=O(t),n=O(e);if(i===null)return e;if(i===n)return Ve(te(t),te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function VC(t,e){let i=mo(t,0),n=mo(e,0);for(let r=0;r<i.length&&r<n.length;r++){let o=Qn(i[r],n[r]);if(o!==0)return o}return i.length===n.length?0:i.length<n.length?-1:1}function Uu(t,e){if(_n(t)!==_n(e))return!1;for(let i=t.pieceNum_,n=e.pieceNum_;i<=t.pieces_.length;i++,n++)if(t.pieces_[i]!==e.pieces_[n])return!1;return!0}function dt(t,e){let i=t.pieceNum_,n=e.pieceNum_;if(_n(t)>_n(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[n])return!1;++i,++n}return!0}var Bd=class{constructor(e,i){this.errorPrefix_=i,this.parts_=mo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=mr(this.parts_[n]);ob(this)}};function UC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=mr(e),ob(t)}function zC(t){let e=t.parts_.pop();t.byteLength_-=mr(e),t.parts_.length>0&&(t.byteLength_-=1)}function ob(t){if(t.byteLength_>gg)throw new Error(t.errorPrefix_+"has a key path longer than "+gg+" bytes ("+t.byteLength_+").");if(t.parts_.length>pg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pg+") or object contains a cycle "+Gn(t))}function Gn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var $d=class t extends pa{constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{let n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new t}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var io=1e3,BC=60*5*1e3,bg=30*1e3,$C=1.3,WC=3e4,HC="server_kill",vg=3,zu=(()=>{class t extends fa{constructor(i,n,r,o,s,a,c,l){if(super(),this.repoInfo_=i,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=So("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=io,this.maxReconnectDelay_=BC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!It())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$d.getInstance().on("visible",this.onVisible_,this),i.host.indexOf("fblocal")===-1&&ga.getInstance().on("online",this.onOnline_,this)}sendRequest(i,n,r){let o=++this.requestNumber_,s={r:o,a:i,b:n};this.log_(ge(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(i){this.initConnection_();let n=new Ce,o={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(i,n,r,o){this.initConnection_();let s=i._queryIdentifier,a=i._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:n,query:i,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(i){let n=this.outstandingGets_[i];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(i){let n=i.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";i.tag&&(s.q=n._queryObject,s.t=i.tag),s.h=i.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,d=c.s;t.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(o))===i&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(r,o),i.onComplete&&i.onComplete(d,l))})}static warnOnListenWarnings_(i,n){if(i&&typeof i=="object"&&st(i,"w")){let r=tn(i,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Pe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&i.length===40||bm(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bg)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let i=this.authToken_,n=gm(i)?"auth":"gauth",r={cred:i};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===i&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{let n=i.s,r=i.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(i,n){let r=i._path.toString(),o=i._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,i._queryObject,n)}sendUnlisten_(i,n,r,o){this.log_("Unlisten on "+i+" for "+n);let s={p:i},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(i,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,n,r):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:n,onComplete:r})}onDisconnectMerge(i,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,n,r):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:n,onComplete:r})}onDisconnectCancel(i,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,n):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(i,n,r,o){let s={p:n,d:r};this.log_("onDisconnect "+i,s),this.sendRequest(i,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(i,n,r,o){this.putInternal("p",i,n,r,o)}merge(i,n,r,o){this.putInternal("m",i,n,r,o)}putInternal(i,n,r,o,s){this.initConnection_();let a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:i,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(i){let n=this.outstandingPuts_[i].action,r=this.outstandingPuts_[i].request,o=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[i],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(i){if(this.connected_){let n={c:i};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+ge(i));let n=i.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,n){this.log_("handleServerMessage",i,n),i==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):i==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):i==="c"?this.onListenRevoked_(n.p,n.q):i==="ac"?this.onAuthRevoked_(n.s,n.d):i==="apc"?this.onAppCheckRevoked_(n.s,n.d):i==="sd"?this.onSecurityDebugPacket_(n):Pd("Unrecognized action received from server: "+ge(i)+`
Are you using the latest client?`)}onReady_(i,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(i),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=io,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=io,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WC&&(this.reconnectDelay_=io),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let i=new Date().getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-i);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$C)}this.onConnectStatus_(!1)}establishConnection_(){return nt(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let i=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,r())},d=function(h){v(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:d};let u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,p]=yield Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?xe("getToken() completed but was canceled"):(xe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,c=new zd(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,i,n,r,w=>{Pe(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(HC)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Pe(h),l())}}})}interrupt(i){xe("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){xe("Resuming connection for reason: "+i),delete this.interruptReasons_[i],is(this.interruptReasons_)&&(this.reconnectDelay_=io,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){let n=i-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){let n=this.outstandingPuts_[i];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(i,n){let r;n?r=n.map(s=>Lu(s)).join("$"):r="default";let o=this.removeListen_(i,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(i,n){let r=new q(i).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(i,n){xe("Auth token revoked: "+i+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(i==="invalid_token"||i==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vg&&(this.reconnectDelay_=bg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,n){xe("App check token revoked: "+i+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(i==="invalid_token"||i==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let i of this.listens.values())for(let n of i.values())this.sendListen_(n);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){let i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){let i={},n="js";It()&&(this.repoInfo_.nodeAdmin?n="admin_node":n="node"),i["sdk."+n+"."+Fu.replace(/\./g,"-")]=1,Dc()?i["framework.cordova"]=1:mm()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){let i=ga.getInstance().currentlyOnline();return is(this.interruptReasons_)&&i}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),j=class t{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new t(e,i)}};var $i=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){let n=new j(vn,e),r=new j(vn,i);return this.compare(n,r)!==0}minPost(){return j.MIN}};var da,ba=class extends $i{static get __EMPTY_NODE(){return da}static set __EMPTY_NODE(e){da=e}compare(e,i){return Qn(e.name,i.name)}isDefinedOn(e){throw fi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return j.MIN}maxPost(){return new j(Ht,da)}makePost(e,i){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,da)}toString(){return".key"}},Mt=new ba;var zi=class{constructor(e,i,n,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=i?n(e.key,i):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},_t=(()=>{class t{constructor(i,n,r,o,s){this.key=i,this.value=n,this.color=r??t.RED,this.left=o??ut.EMPTY_NODE,this.right=s??ut.EMPTY_NODE}copy(i,n,r,o,s){return new t(i??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,r){let o=this,s=r(i,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(i,n,r),null):s===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(i,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ut.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,n){let r,o;if(r=this,n(i,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(i,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(i,r.key)===0){if(r.right.isEmpty())return ut.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(i,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){let i=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){let i=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){let i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth_(){let i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Wd=class{copy(e,i,n,r,o){return this}insert(e,i,n){return new _t(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ut=class t{constructor(e,i=t.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new t(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,_t.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_t.BLACK,null,null))}get(e){let i,n=this.root_;for(;!n.isEmpty();){if(i=this.comparator_(e,n.key),i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}getPredecessorKey(e){let i,n=this.root_,r=null;for(;!n.isEmpty();)if(i=this.comparator_(e,n.key),i===0){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else i<0?n=n.left:i>0&&(r=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new zi(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new zi(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new zi(this.root_,null,this.comparator_,!0,e)}};ut.EMPTY_NODE=new Wd;function GC(t,e){return Qn(t.name,e.name)}function Bu(t,e){return Qn(t,e)}var Hd;function qC(t){Hd=t}var sb=function(t){return typeof t=="number"?"number:"+zg(t):"string:"+t},ab=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&st(e,".sv"),"Priority must be a string or number.")}else v(t===Hd||t.isEmpty(),"priority of unexpected type.");v(t===Hd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var _g,Wi=(()=>{class t{constructor(i,n=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=n,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ab(this.priorityNode_)}static set __childrenNodeConstructor(i){_g=i}static get __childrenNodeConstructor(){return _g}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new t(this.value_,i)}getImmediateChild(i){return i===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return L(i)?this:O(i)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,n){return null}updateImmediateChild(i,n){return i===".priority"?this.updatePriority(n):n.isEmpty()&&i!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,n).updatePriority(this.priorityNode_)}updateChild(i,n){let r=O(i);return r===null?n:n.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||_n(i)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(te(i),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,n){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+sb(this.priorityNode_.val())+":");let n=typeof this.value_;i+=n+":",n==="number"?i+=zg(this.value_):i+=this.value_,this.lazyHash_=jg(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===t.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof t.__childrenNodeConstructor?-1:(v(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){let n=typeof i.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+n),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(i){if(i===this)return!0;if(i.isLeafNode()){let n=i;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),cb,lb;function KC(t){cb=t}function YC(t){lb=t}var Gd=class extends $i{compare(e,i){let n=e.node.getPriority(),r=i.node.getPriority(),o=n.compareTo(r);return o===0?Qn(e.name,i.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Ht,new Wi("[PRIORITY-POST]",lb))}makePost(e,i){let n=cb(e);return new j(i,new Wi("[PRIORITY-POST]",n))}toString(){return".priority"}},re=new Gd;var QC=Math.log(2),qd=class{constructor(e){let i=o=>parseInt(Math.log(o)/QC,10),n=o=>parseInt(Array(o+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;let r=n(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},va=function(t,e,i,n){t.sort(e);let r=function(c,l){let d=l-c,u,h;if(d===0)return null;if(d===1)return u=t[c],h=i?i(u):u,new _t(h,u.node,_t.BLACK,null,null);{let p=parseInt(d/2,10)+c,w=r(c,p),D=r(p+1,l);return u=t[p],h=i?i(u):u,new _t(h,u.node,_t.BLACK,w,D)}},o=function(c){let l=null,d=null,u=t.length,h=function(w,D){let A=u-w,M=u;u-=w;let oe=r(A+1,M),X=t[A],ne=i?i(X):X;p(new _t(ne,X.node,D,null,oe))},p=function(w){l?(l.left=w,l=w):(d=w,l=w)};for(let w=0;w<c.count;++w){let D=c.nextBitIsOne(),A=Math.pow(2,c.count-(w+1));D?h(A,_t.BLACK):(h(A,_t.BLACK),h(A,_t.RED))}return d},s=new qd(t.length),a=o(s);return new ut(n||e,a)};var Sd,Vi={},Hi=class t{constructor(e,i){this.indexes_=e,this.indexSet_=i}static get Default(){return v(Vi&&re,"ChildrenNode.ts has not been loaded"),Sd=Sd||new t({".priority":Vi},{".priority":re}),Sd}get(e){let i=tn(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof ut?i:null}hasIndex(e){return st(this.indexSet_,e.toString())}addIndex(e,i){v(e!==Mt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let n=[],r=!1,o=i.getIterator(j.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=o.getNext();let a;r?a=va(n,e.getCompare()):a=Vi;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let d=Object.assign({},this.indexes_);return d[c]=a,new t(d,l)}addToIndexes(e,i){let n=hr(this.indexes_,(r,o)=>{let s=tn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===Vi)if(s.isDefinedOn(e.node)){let a=[],c=i.getIterator(j.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),va(a,s.getCompare())}else return Vi;else{let a=i.get(e.name),c=r;return a&&(c=c.remove(new j(e.name,a))),c.insert(e,e.node)}});return new t(n,this.indexSet_)}removeFromIndexes(e,i){let n=hr(this.indexes_,r=>{if(r===Vi)return r;{let o=i.get(e.name);return o?r.remove(new j(e.name,o)):r}});return new t(n,this.indexSet_)}};var ro,N=(()=>{class t{constructor(i,n,r){this.children_=i,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ab(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ro||(ro=new t(new ut(Bu),null,Hi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ro}updatePriority(i){return this.children_.isEmpty()?this:new t(this.children_,i,this.indexMap_)}getImmediateChild(i){if(i===".priority")return this.getPriority();{let n=this.children_.get(i);return n===null?ro:n}}getChild(i){let n=O(i);return n===null?this:this.getImmediateChild(n).getChild(te(i))}hasChild(i){return this.children_.get(i)!==null}updateImmediateChild(i,n){if(v(n,"We should always be passing snapshot nodes"),i===".priority")return this.updatePriority(n);{let r=new j(i,n),o,s;n.isEmpty()?(o=this.children_.remove(i),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(i,n),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?ro:this.priorityNode_;return new t(o,a,s)}}updateChild(i,n){let r=O(i);if(r===null)return n;{v(O(i)!==".priority"||_n(i)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(te(i),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;let n={},r=0,o=0,s=!0;if(this.forEachChild(re,(a,c)=>{n[a]=c.val(i),r++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!i&&s&&o<2*r){let a=[];for(let c in n)a[c]=n[c];return a}else return i&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let i="";this.getPriority().isEmpty()||(i+="priority:"+sb(this.getPriority().val())+":"),this.forEachChild(re,(n,r)=>{let o=r.hash();o!==""&&(i+=":"+n+":"+o)}),this.lazyHash_=i===""?"":jg(i)}return this.lazyHash_}getPredecessorChildName(i,n,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new j(i,n));return s?s.name:null}else return this.children_.getPredecessorKey(i)}getFirstChildName(i){let n=this.resolveIndex_(i);if(n){let r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(i){let n=this.getFirstChildName(i);return n?new j(n,this.children_.get(n)):null}getLastChildName(i){let n=this.resolveIndex_(i);if(n){let r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(i){let n=this.getLastChildName(i);return n?new j(n,this.children_.get(n)):null}forEachChild(i,n){let r=this.resolveIndex_(i);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,n){let r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(i,o=>o);{let o=this.children_.getIteratorFrom(i.name,j.Wrap),s=o.peek();for(;s!=null&&n.compare(s,i)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,n){let r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(i,o=>o);{let o=this.children_.getReverseIteratorFrom(i.name,j.Wrap),s=o.peek();for(;s!=null&&n.compare(s,i)>0;)o.getNext(),s=o.peek();return o}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===To?-1:0}withIndex(i){if(i===Mt||this.indexMap_.hasIndex(i))return this;{let n=this.indexMap_.addIndex(i,this.children_);return new t(this.children_,this.priorityNode_,n)}}isIndexed(i){return i===Mt||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{let n=i;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){let r=this.getIterator(re),o=n.getIterator(re),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(i){return i===Mt?null:this.indexMap_.get(i.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Kd=class extends N{constructor(){super(new ut(Bu),N.EMPTY_NODE,Hi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return N.EMPTY_NODE}isEmpty(){return!1}},To=new Kd;Object.defineProperties(j,{MIN:{value:new j(vn,N.EMPTY_NODE)},MAX:{value:new j(Ht,To)}});ba.__EMPTY_NODE=N.EMPTY_NODE;Wi.__childrenNodeConstructor=N;qC(To);YC(To);var ZC=!0;function ue(t,e=null){if(t===null)return N.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let i=t;return new Wi(i,ue(e))}if(!(t instanceof Array)&&ZC){let i=[],n=!1;if(Ie(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=ue(a);c.isEmpty()||(n=n||!c.getPriority().isEmpty(),i.push(new j(s,c)))}}),i.length===0)return N.EMPTY_NODE;let o=va(i,GC,s=>s.name,Bu);if(n){let s=va(i,re.getCompare());return new N(o,ue(e),new Hi({".priority":s},{".priority":re}))}else return new N(o,ue(e),Hi.Default)}else{let i=N.EMPTY_NODE;return Ie(t,(n,r)=>{if(st(t,n)&&n.substring(0,1)!=="."){let o=ue(r);(o.isLeafNode()||!o.isEmpty())&&(i=i.updateImmediateChild(n,o))}}),i.updatePriority(ue(e))}}KC(ue);var fo=class extends $i{constructor(e){super(),this.indexPath_=e,v(!L(e)&&O(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){let n=this.extractChild(e.node),r=this.extractChild(i.node),o=n.compareTo(r);return o===0?Qn(e.name,i.name):o}makePost(e,i){let n=ue(e),r=N.EMPTY_NODE.updateChild(this.indexPath_,n);return new j(i,r)}maxPost(){let e=N.EMPTY_NODE.updateChild(this.indexPath_,To);return new j(Ht,e)}toString(){return mo(this.indexPath_,0).join("/")}};var Yd=class extends $i{compare(e,i){let n=e.node.compareTo(i.node);return n===0?Qn(e.name,i.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,i){let n=ue(e);return new j(i,n)}toString(){return".value"}},$u=new Yd;function db(t){return{type:"value",snapshotNode:t}}function Gi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function po(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function go(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function XC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var bo=class{constructor(e){this.index_=e}updateChild(e,i,n,r,o,s){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(i);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()||(s!=null&&(n.isEmpty()?e.hasChild(i)?s.trackChildChange(po(i,a)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Gi(i,n)):s.trackChildChange(go(i,n,a))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(i,n).withIndex(this.index_)}updateFullNode(e,i,n){return n!=null&&(e.isLeafNode()||e.forEachChild(re,(r,o)=>{i.hasChild(r)||n.trackChildChange(po(r,o))}),i.isLeafNode()||i.forEachChild(re,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||n.trackChildChange(go(r,o,s))}else n.trackChildChange(Gi(r,o))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?N.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var _a=class t{constructor(e){this.indexedFilter_=new bo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&n}updateChild(e,i,n,r,o,s){return this.matches(new j(i,n))||(n=N.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,n,r,o,s)}updateFullNode(e,i,n){i.isLeafNode()&&(i=N.EMPTY_NODE);let r=i.withIndex(this.index_);r=r.updatePriority(N.EMPTY_NODE);let o=this;return i.forEachChild(re,(s,a)=>{o.matches(new j(s,a))||(r=r.updateImmediateChild(s,N.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}};var Qd=class{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{let n=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=i=>{let n=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new _a(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,n,r,o,s){return this.rangedFilter_.matches(new j(i,n))||(n=N.EMPTY_NODE),e.getImmediateChild(i).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,n,r,o,s):this.fullLimitUpdateChild_(e,i,n,o,s)}updateFullNode(e,i,n){let r;if(i.isLeafNode()||i.isEmpty())r=N.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){r=N.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=i.withIndex(this.index_),r=r.updatePriority(N.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,N.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,n,r,o){let s;if(this.reverse_){let u=this.index_.getCompare();s=(h,p)=>u(p,h)}else s=this.index_.getCompare();let a=e;v(a.numChildren()===this.limit_,"");let c=new j(i,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(a.hasChild(i)){let u=a.getImmediateChild(i),h=r.getChildAfterChild(this.index_,l,this.reverse_);for(;h!=null&&(h.name===i||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let p=h==null?1:s(h,c);if(d&&!n.isEmpty()&&p>=0)return o?.trackChildChange(go(i,n,u)),a.updateImmediateChild(i,n);{o?.trackChildChange(po(i,u));let D=a.updateImmediateChild(i,N.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Gi(h.name,h.node)),D.updateImmediateChild(h.name,h.node)):D}}else return n.isEmpty()?e:d&&s(l,c)>=0?(o!=null&&(o.trackChildChange(po(l.name,l.node)),o.trackChildChange(Gi(i,n))),a.updateImmediateChild(i,n).updateImmediateChild(l.name,N.EMPTY_NODE)):e}};var vo=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vn}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ht}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function JC(t){return t.loadsAllData()?new bo(t.getIndex()):t.hasLimit()?new Qd(t):new _a(t)}function ex(t,e){let i=t.copy();return i.limitSet_=!0,i.limit_=e,i.viewFrom_="l",i}function tx(t,e){let i=t.copy();return i.limitSet_=!0,i.limit_=e,i.viewFrom_="r",i}function Zd(t,e,i){let n=t.copy();return n.startSet_=!0,e===void 0&&(e=null),n.indexStartValue_=e,i!=null?(n.startNameSet_=!0,n.indexStartName_=i):(n.startNameSet_=!1,n.indexStartName_=""),n}function nx(t,e,i){let n;return t.index_===Mt||i?n=Zd(t,e,i):n=Zd(t,e,Ht),n.startAfterSet_=!0,n}function Xd(t,e,i){let n=t.copy();return n.endSet_=!0,e===void 0&&(e=null),n.indexEndValue_=e,i!==void 0?(n.endNameSet_=!0,n.indexEndName_=i):(n.endNameSet_=!1,n.indexEndName_=""),n}function ix(t,e,i){let n;return t.index_===Mt||i?n=Xd(t,e,i):n=Xd(t,e,vn),n.endBeforeSet_=!0,n}function ja(t,e){let i=t.copy();return i.index_=e,i}function yg(t){let e={};if(t.isDefault())return e;let i;if(t.index_===re?i="$priority":t.index_===$u?i="$value":t.index_===Mt?i="$key":(v(t.index_ instanceof fo,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=ge(i),t.startSet_){let n=t.startAfterSet_?"startAfter":"startAt";e[n]=ge(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+ge(t.indexStartName_))}if(t.endSet_){let n=t.endBeforeSet_?"endBefore":"endAt";e[n]=ge(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+ge(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wg(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==re&&(e.i=t.index_.toString()),e}var Jd=class t extends fa{constructor(e,i,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=So("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,i,n,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,n),a={};this.listens_[s]=a;let c=yg(e._queryParams);this.restRequest_(o+".json",c,(l,d)=>{let u=d;if(l===404&&(u=null,l=null),l===null&&this.onDataUpdate_(o,u,!1,n),tn(this.listens_,s)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",r(h,null)}})}unlisten(e,i){let n=t.getListenId_(e,i);delete this.listens_[n]}get(e){let i=yg(e._queryParams),n=e._path.toString(),r=new Ce;return this.restRequest_(n+".json",i,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,i={},n){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(i.auth=r.accessToken),o&&o.token&&(i.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vm(i);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ns(a.responseText)}catch{Pe("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,c)}else a.status!==401&&a.status!==404&&Pe("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}};var eu=class{constructor(){this.rootNode_=N.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}};function ya(){return{value:null,children:new Map}}function Xi(t,e,i){if(L(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{let n=O(e);t.children.has(n)||t.children.set(n,ya());let r=t.children.get(n);e=te(e),Xi(r,e,i)}}function tu(t,e){if(L(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let i=t.value;return t.value=null,i.forEachChild(re,(n,r)=>{Xi(t,new q(n),r)}),tu(t,e)}}else if(t.children.size>0){let i=O(e);return e=te(e),t.children.has(i)&&tu(t.children.get(i),e)&&t.children.delete(i),t.children.size===0}else return!0}function nu(t,e,i){t.value!==null?i(e,t.value):rx(t,(n,r)=>{let o=new q(e.toString()+"/"+n);nu(r,o,i)})}function rx(t,e){t.children.forEach((i,n)=>{e(n,i)})}var iu=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Ie(this.last_,(n,r)=>{i[n]=i[n]-r}),this.last_=e,i}};var Eg=10*1e3,ox=30*1e3,sx=5*60*1e3,ru=class{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new iu(e);let n=Eg+(ox-Eg)*Math.random();so(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),i={},n=!1;Ie(e,(r,o)=>{o>0&&st(this.statsToReport_,r)&&(i[r]=o,n=!0)}),n&&this.server_.reportStats(i),so(this.reportStats_.bind(this),Math.floor(Math.random()*2*sx))}};var Rt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Rt||{});function Wu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var ou=class t{constructor(e,i,n){this.path=e,this.affectedTree=i,this.revert=n,this.type=Rt.ACK_USER_WRITE,this.source=Wu()}operationForChild(e){if(L(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let i=this.affectedTree.subtree(new q(e));return new t(G(),i,this.revert)}}else return v(O(this.path)===e,"operationForChild called for unrelated child."),new t(te(this.path),this.affectedTree,this.revert)}};var wa=class t{constructor(e,i){this.source=e,this.path=i,this.type=Rt.LISTEN_COMPLETE}operationForChild(e){return L(this.path)?new t(this.source,G()):new t(this.source,te(this.path))}};var qi=class t{constructor(e,i,n){this.source=e,this.path=i,this.snap=n,this.type=Rt.OVERWRITE}operationForChild(e){return L(this.path)?new t(this.source,G(),this.snap.getImmediateChild(e)):new t(this.source,te(this.path),this.snap)}};var _o=class t{constructor(e,i,n){this.source=e,this.path=i,this.children=n,this.type=Rt.MERGE}operationForChild(e){if(L(this.path)){let i=this.children.subtree(new q(e));return i.isEmpty()?null:i.value?new qi(this.source,G(),i.value):new t(this.source,G(),i)}else return v(O(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Pt=class{constructor(e,i,n){this.node_=e,this.fullyInitialized_=i,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(L(e))return this.isFullyInitialized()&&!this.filtered_;let i=O(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var su=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function ax(t,e,i,n){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(XC(s.childName,s.snapshotNode))}),oo(t,r,"child_removed",e,n,i),oo(t,r,"child_added",e,n,i),oo(t,r,"child_moved",o,n,i),oo(t,r,"child_changed",e,n,i),oo(t,r,"value",e,n,i),r}function oo(t,e,i,n,r,o){let s=n.filter(a=>a.type===i);s.sort((a,c)=>lx(t,a,c)),s.forEach(a=>{let c=cx(t,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function cx(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lx(t,e,i){if(e.childName==null||i.childName==null)throw fi("Should only compare child_ events.");let n=new j(e.childName,e.snapshotNode),r=new j(i.childName,i.snapshotNode);return t.index_.compare(n,r)}function Va(t,e){return{eventCache:t,serverCache:e}}function co(t,e,i,n){return Va(new Pt(e,i,n),t.serverCache)}function ub(t,e,i,n){return Va(t.eventCache,new Pt(e,i,n))}function Ea(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Td,dx=()=>(Td||(Td=new ut(cC)),Td),Ue=class t{constructor(e,i=dx()){this.value=e,this.children=i}static fromObject(e){let i=new t(null);return Ie(e,(n,r)=>{i=i.set(new q(n),r)}),i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:G(),value:this.value};if(L(e))return null;{let n=O(e),r=this.children.get(n);if(r!==null){let o=r.findRootMostMatchingPathAndValue(te(e),i);return o!=null?{path:de(new q(n),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(L(e))return this;{let i=O(e),n=this.children.get(i);return n!==null?n.subtree(te(e)):new t(null)}}set(e,i){if(L(e))return new t(i,this.children);{let n=O(e),o=(this.children.get(n)||new t(null)).set(te(e),i),s=this.children.insert(n,o);return new t(this.value,s)}}remove(e){if(L(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let i=O(e),n=this.children.get(i);if(n){let r=n.remove(te(e)),o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(L(e))return this.value;{let i=O(e),n=this.children.get(i);return n?n.get(te(e)):null}}setTree(e,i){if(L(e))return i;{let n=O(e),o=(this.children.get(n)||new t(null)).setTree(te(e),i),s;return o.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,o),new t(this.value,s)}}fold(e){return this.fold_(G(),e)}fold_(e,i){let n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(de(e,r),i)}),i(e,this.value,n)}findOnPath(e,i){return this.findOnPath_(e,G(),i)}findOnPath_(e,i,n){let r=this.value?n(i,this.value):!1;if(r)return r;if(L(e))return null;{let o=O(e),s=this.children.get(o);return s?s.findOnPath_(te(e),de(i,o),n):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,G(),i)}foreachOnPath_(e,i,n){if(L(e))return this;{this.value&&n(i,this.value);let r=O(e),o=this.children.get(r);return o?o.foreachOnPath_(te(e),de(i,r),n):new t(null)}}foreach(e){this.foreach_(G(),e)}foreach_(e,i){this.children.inorderTraversal((n,r)=>{r.foreach_(de(e,n),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,n)=>{n.value&&e(i,n.value)})}};var yt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ue(null))}};function lo(t,e,i){if(L(e))return new yt(new Ue(i));{let n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){let r=n.path,o=n.value,s=Ve(r,e);return o=o.updateChild(s,i),new yt(t.writeTree_.set(r,o))}else{let r=new Ue(i),o=t.writeTree_.setTree(e,r);return new yt(o)}}}function au(t,e,i){let n=t;return Ie(i,(r,o)=>{n=lo(n,de(e,r),o)}),n}function Cg(t,e){if(L(e))return yt.empty();{let i=t.writeTree_.setTree(e,new Ue(null));return new yt(i)}}function cu(t,e){return Zn(t,e)!=null}function Zn(t,e){let i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(Ve(i.path,e)):null}function xg(t){let e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(re,(n,r)=>{e.push(new j(n,r))}):t.writeTree_.children.inorderTraversal((n,r)=>{r.value!=null&&e.push(new j(n,r.value))}),e}function gn(t,e){if(L(e))return t;{let i=Zn(t,e);return i!=null?new yt(new Ue(i)):new yt(t.writeTree_.subtree(e))}}function lu(t){return t.writeTree_.isEmpty()}function Ki(t,e){return hb(G(),t.writeTree_,e)}function hb(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),n=o.value):i=hb(de(t,r),o,i)}),!i.getChild(t).isEmpty()&&n!==null&&(i=i.updateChild(de(t,".priority"),n)),i}}function Ua(t,e){return gb(e,t)}function ux(t,e,i,n,r){v(n>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:i,writeId:n,visible:r}),r&&(t.visibleWrites=lo(t.visibleWrites,e,i)),t.lastWriteId=n}function hx(t,e,i,n){v(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:i,writeId:n,visible:!0}),t.visibleWrites=au(t.visibleWrites,e,i),t.lastWriteId=n}function mx(t,e){for(let i=0;i<t.allWrites.length;i++){let n=t.allWrites[i];if(n.writeId===e)return n}return null}function fx(t,e){let i=t.allWrites.findIndex(a=>a.writeId===e);v(i>=0,"removeWrite called with nonexistent writeId.");let n=t.allWrites[i];t.allWrites.splice(i,1);let r=n.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=i&&px(a,n.path)?r=!1:dt(n.path,a.path)&&(o=!0)),s--}if(r){if(o)return gx(t),!0;if(n.snap)t.visibleWrites=Cg(t.visibleWrites,n.path);else{let a=n.children;Ie(a,c=>{t.visibleWrites=Cg(t.visibleWrites,de(n.path,c))})}return!0}else return!1}function px(t,e){if(t.snap)return dt(t.path,e);for(let i in t.children)if(t.children.hasOwnProperty(i)&&dt(de(t.path,i),e))return!0;return!1}function gx(t){t.visibleWrites=mb(t.allWrites,bx,G()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bx(t){return t.visible}function mb(t,e,i){let n=yt.empty();for(let r=0;r<t.length;++r){let o=t[r];if(e(o)){let s=o.path,a;if(o.snap)dt(i,s)?(a=Ve(i,s),n=lo(n,a,o.snap)):dt(s,i)&&(a=Ve(s,i),n=lo(n,G(),o.snap.getChild(a)));else if(o.children){if(dt(i,s))a=Ve(i,s),n=au(n,a,o.children);else if(dt(s,i))if(a=Ve(s,i),L(a))n=au(n,G(),o.children);else{let c=tn(o.children,O(a));if(c){let l=c.getChild(te(a));n=lo(n,G(),l)}}}else throw fi("WriteRecord should have .snap or .children")}}return n}function fb(t,e,i,n,r){if(!n&&!r){let o=Zn(t.visibleWrites,e);if(o!=null)return o;{let s=gn(t.visibleWrites,e);if(lu(s))return i;if(i==null&&!cu(s,G()))return null;{let a=i||N.EMPTY_NODE;return Ki(s,a)}}}else{let o=gn(t.visibleWrites,e);if(!r&&lu(o))return i;if(!r&&i==null&&!cu(o,G()))return null;{let s=function(l){return(l.visible||r)&&(!n||!~n.indexOf(l.writeId))&&(dt(l.path,e)||dt(e,l.path))},a=mb(t.allWrites,s,e),c=i||N.EMPTY_NODE;return Ki(a,c)}}}function vx(t,e,i){let n=N.EMPTY_NODE,r=Zn(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(re,(o,s)=>{n=n.updateImmediateChild(o,s)}),n;if(i){let o=gn(t.visibleWrites,e);return i.forEachChild(re,(s,a)=>{let c=Ki(gn(o,new q(s)),a);n=n.updateImmediateChild(s,c)}),xg(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}else{let o=gn(t.visibleWrites,e);return xg(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}}function _x(t,e,i,n,r){v(n||r,"Either existingEventSnap or existingServerSnap must exist");let o=de(e,i);if(cu(t.visibleWrites,o))return null;{let s=gn(t.visibleWrites,o);return lu(s)?r.getChild(i):Ki(s,r.getChild(i))}}function yx(t,e,i,n){let r=de(e,i),o=Zn(t.visibleWrites,r);if(o!=null)return o;if(n.isCompleteForChild(i)){let s=gn(t.visibleWrites,r);return Ki(s,n.getNode().getImmediateChild(i))}else return null}function wx(t,e){return Zn(t.visibleWrites,e)}function Ex(t,e,i,n,r,o,s){let a,c=gn(t.visibleWrites,e),l=Zn(c,G());if(l!=null)a=l;else if(i!=null)a=Ki(c,i);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let d=[],u=s.getCompare(),h=o?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s),p=h.getNext();for(;p&&d.length<r;)u(p,n)!==0&&d.push(p),p=h.getNext();return d}else return[]}function Cx(){return{visibleWrites:yt.empty(),allWrites:[],lastWriteId:-1}}function Ca(t,e,i,n){return fb(t.writeTree,t.treePath,e,i,n)}function qu(t,e){return vx(t.writeTree,t.treePath,e)}function Ig(t,e,i,n){return _x(t.writeTree,t.treePath,e,i,n)}function xa(t,e){return wx(t.writeTree,de(t.treePath,e))}function xx(t,e,i,n,r,o){return Ex(t.writeTree,t.treePath,e,i,n,r,o)}function Ku(t,e,i){return yx(t.writeTree,t.treePath,e,i)}function pb(t,e){return gb(de(t.treePath,e),t.writeTree)}function gb(t,e){return{treePath:t,writeTree:e}}var du=class{constructor(){this.changeMap=new Map}trackChildChange(e){let i=e.type,n=e.childName;v(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),v(n!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let o=r.type;if(i==="child_added"&&o==="child_removed")this.changeMap.set(n,go(n,e.snapshotNode,r.snapshotNode));else if(i==="child_removed"&&o==="child_added")this.changeMap.delete(n);else if(i==="child_removed"&&o==="child_changed")this.changeMap.set(n,po(n,r.oldSnap));else if(i==="child_changed"&&o==="child_added")this.changeMap.set(n,Gi(n,e.snapshotNode));else if(i==="child_changed"&&o==="child_changed")this.changeMap.set(n,go(n,e.snapshotNode,r.oldSnap));else throw fi("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}};var uu=class{getCompleteChild(e){return null}getChildAfterChild(e,i,n){return null}},bb=new uu,yo=class{constructor(e,i,n=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=n}getCompleteChild(e){let i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{let n=this.optCompleteServerCache_!=null?new Pt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ku(this.writes_,e,n)}}getChildAfterChild(e,i,n){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yn(this.viewCache_),o=xx(this.writes_,r,i,1,n,e);return o.length===0?null:o[0]}};function Ix(t){return{filter:t}}function Ax(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Sx(t,e,i,n,r){let o=new du,s,a;if(i.type===Rt.OVERWRITE){let l=i;l.source.fromUser?s=hu(t,e,l.path,l.snap,n,r,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!L(l.path),s=Ia(t,e,l.path,l.snap,n,r,a,o))}else if(i.type===Rt.MERGE){let l=i;l.source.fromUser?s=Dx(t,e,l.path,l.children,n,r,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=mu(t,e,l.path,l.children,n,r,a,o))}else if(i.type===Rt.ACK_USER_WRITE){let l=i;l.revert?s=Mx(t,e,l.path,n,r,o):s=kx(t,e,l.path,l.affectedTree,n,r,o)}else if(i.type===Rt.LISTEN_COMPLETE)s=Rx(t,e,i.path,n,o);else throw fi("Unknown operation type: "+i.type);let c=o.getChanges();return Tx(e,s,c),{viewCache:s,changes:c}}function Tx(t,e,i){let n=e.eventCache;if(n.isFullyInitialized()){let r=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=Ea(t);(i.length>0||!t.eventCache.isFullyInitialized()||r&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&i.push(db(Ea(e)))}}function vb(t,e,i,n,r,o){let s=e.eventCache;if(xa(n,i)!=null)return e;{let a,c;if(L(i))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Yn(e),d=l instanceof N?l:N.EMPTY_NODE,u=qu(n,d);a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let l=Ca(n,Yn(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=O(i);if(l===".priority"){v(_n(i)===1,"Can't have a priority with additional path components");let d=s.getNode();c=e.serverCache.getNode();let u=Ig(n,i,d,c);u!=null?a=t.filter.updatePriority(d,u):a=s.getNode()}else{let d=te(i),u;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let h=Ig(n,i,s.getNode(),c);h!=null?u=s.getNode().getImmediateChild(l).updateChild(d,h):u=s.getNode().getImmediateChild(l)}else u=Ku(n,l,e.serverCache);u!=null?a=t.filter.updateChild(s.getNode(),l,u,d,r,o):a=s.getNode()}}return co(e,a,s.isFullyInitialized()||L(i),t.filter.filtersNodes())}}function Ia(t,e,i,n,r,o,s,a){let c=e.serverCache,l,d=s?t.filter:t.filter.getIndexedFilter();if(L(i))l=d.updateFullNode(c.getNode(),n,null);else if(d.filtersNodes()&&!c.isFiltered()){let p=c.getNode().updateChild(i,n);l=d.updateFullNode(c.getNode(),p,null)}else{let p=O(i);if(!c.isCompleteForPath(i)&&_n(i)>1)return e;let w=te(i),A=c.getNode().getImmediateChild(p).updateChild(w,n);p===".priority"?l=d.updatePriority(c.getNode(),A):l=d.updateChild(c.getNode(),p,A,w,bb,null)}let u=ub(e,l,c.isFullyInitialized()||L(i),d.filtersNodes()),h=new yo(r,u,o);return vb(t,u,i,r,h,a)}function hu(t,e,i,n,r,o,s){let a=e.eventCache,c,l,d=new yo(r,e,o);if(L(i))l=t.filter.updateFullNode(e.eventCache.getNode(),n,s),c=co(e,l,!0,t.filter.filtersNodes());else{let u=O(i);if(u===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),n),c=co(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=te(i),p=a.getNode().getImmediateChild(u),w;if(L(h))w=n;else{let D=d.getCompleteChild(u);D!=null?Vu(h)===".priority"&&D.getChild(rb(h)).isEmpty()?w=D:w=D.updateChild(h,n):w=N.EMPTY_NODE}if(p.equals(w))c=e;else{let D=t.filter.updateChild(a.getNode(),u,w,h,d,s);c=co(e,D,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Ag(t,e){return t.eventCache.isCompleteForChild(e)}function Dx(t,e,i,n,r,o,s){let a=e;return n.foreach((c,l)=>{let d=de(i,c);Ag(e,O(d))&&(a=hu(t,a,d,l,r,o,s))}),n.foreach((c,l)=>{let d=de(i,c);Ag(e,O(d))||(a=hu(t,a,d,l,r,o,s))}),a}function Sg(t,e,i){return i.foreach((n,r)=>{e=e.updateChild(n,r)}),e}function mu(t,e,i,n,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;L(i)?l=n:l=new Ue(null).setTree(i,n);let d=e.serverCache.getNode();return l.children.inorderTraversal((u,h)=>{if(d.hasChild(u)){let p=e.serverCache.getNode().getImmediateChild(u),w=Sg(t,p,h);c=Ia(t,c,new q(u),w,r,o,s,a)}}),l.children.inorderTraversal((u,h)=>{let p=!e.serverCache.isCompleteForChild(u)&&h.value===null;if(!d.hasChild(u)&&!p){let w=e.serverCache.getNode().getImmediateChild(u),D=Sg(t,w,h);c=Ia(t,c,new q(u),D,r,o,s,a)}}),c}function kx(t,e,i,n,r,o,s){if(xa(r,i)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(n.value!=null){if(L(i)&&c.isFullyInitialized()||c.isCompleteForPath(i))return Ia(t,e,i,c.getNode().getChild(i),r,o,a,s);if(L(i)){let l=new Ue(null);return c.getNode().forEachChild(Mt,(d,u)=>{l=l.set(new q(d),u)}),mu(t,e,i,l,r,o,a,s)}else return e}else{let l=new Ue(null);return n.foreach((d,u)=>{let h=de(i,d);c.isCompleteForPath(h)&&(l=l.set(d,c.getNode().getChild(h)))}),mu(t,e,i,l,r,o,a,s)}}function Rx(t,e,i,n,r){let o=e.serverCache,s=ub(e,o.getNode(),o.isFullyInitialized()||L(i),o.isFiltered());return vb(t,s,i,n,bb,r)}function Mx(t,e,i,n,r,o){let s;if(xa(n,i)!=null)return e;{let a=new yo(n,e,r),c=e.eventCache.getNode(),l;if(L(i)||O(i)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Ca(n,Yn(e));else{let u=e.serverCache.getNode();v(u instanceof N,"serverChildren would be complete if leaf node"),d=qu(n,u)}d=d,l=t.filter.updateFullNode(c,d,o)}else{let d=O(i),u=Ku(n,d,e.serverCache);u==null&&e.serverCache.isCompleteForChild(d)&&(u=c.getImmediateChild(d)),u!=null?l=t.filter.updateChild(c,d,u,te(i),a,o):e.eventCache.getNode().hasChild(d)?l=t.filter.updateChild(c,d,N.EMPTY_NODE,te(i),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ca(n,Yn(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||xa(n,G())!=null,co(e,l,s,t.filter.filtersNodes())}}var fu=class{constructor(e,i){this.query_=e,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new bo(n.getIndex()),o=JC(n);this.processor_=Ix(o);let s=i.serverCache,a=i.eventCache,c=r.updateFullNode(N.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(N.EMPTY_NODE,a.getNode(),null),d=new Pt(c,s.isFullyInitialized(),r.filtersNodes()),u=new Pt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Va(u,d),this.eventGenerator_=new su(this.query_)}get query(){return this.query_}};function Nx(t){return t.viewCache_.serverCache.getNode()}function Px(t){return Ea(t.viewCache_)}function Fx(t,e){let i=Yn(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!L(e)&&!i.getImmediateChild(O(e)).isEmpty())?i.getChild(e):null}function Tg(t){return t.eventRegistrations_.length===0}function Ox(t,e){t.eventRegistrations_.push(e)}function Dg(t,e,i){let n=[];if(i){v(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(i,r);s&&n.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return n}function kg(t,e,i,n){e.type===Rt.MERGE&&e.source.queryId!==null&&(v(Yn(t.viewCache_),"We should always have a full cache before handling merges"),v(Ea(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=Sx(t.processor_,r,e,i,n);return Ax(t.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,_b(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Lx(t,e){let i=t.viewCache_.eventCache,n=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(re,(o,s)=>{n.push(Gi(o,s))}),i.isFullyInitialized()&&n.push(db(i.getNode())),_b(t,n,i.getNode(),e)}function _b(t,e,i,n){let r=n?[n]:t.eventRegistrations_;return ax(t.eventGenerator_,e,i,r)}var Aa,Sa=class{constructor(){this.views=new Map}};function jx(t){v(!Aa,"__referenceConstructor has already been defined"),Aa=t}function Vx(){return v(Aa,"Reference.ts has not been loaded"),Aa}function Ux(t){return t.views.size===0}function Yu(t,e,i,n){let r=e.source.queryId;if(r!==null){let o=t.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),kg(o,e,i,n)}else{let o=[];for(let s of t.views.values())o=o.concat(kg(s,e,i,n));return o}}function yb(t,e,i,n,r){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Ca(i,r?n:null),c=!1;a?c=!0:n instanceof N?(a=qu(i,n),c=!1):(a=N.EMPTY_NODE,c=!1);let l=Va(new Pt(a,c,!1),new Pt(n,r,!1));return new fu(e,l)}return s}function zx(t,e,i,n,r,o){let s=yb(t,e,n,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Ox(s,i),Lx(s,i)}function Bx(t,e,i,n){let r=e._queryIdentifier,o=[],s=[],a=yn(t);if(r==="default")for(let[c,l]of t.views.entries())s=s.concat(Dg(l,i,n)),Tg(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(r);c&&(s=s.concat(Dg(c,i,n)),Tg(c)&&(t.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!yn(t)&&o.push(new(Vx())(e._repo,e._path)),{removed:o,events:s}}function wb(t){let e=[];for(let i of t.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function bn(t,e){let i=null;for(let n of t.views.values())i=i||Fx(n,e);return i}function Eb(t,e){if(e._queryParams.loadsAllData())return za(t);{let n=e._queryIdentifier;return t.views.get(n)}}function Cb(t,e){return Eb(t,e)!=null}function yn(t){return za(t)!=null}function za(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Ta;function $x(t){v(!Ta,"__referenceConstructor has already been defined"),Ta=t}function Wx(){return v(Ta,"Reference.ts has not been loaded"),Ta}var Hx=1,Da=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=Cx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Qu(t,e,i,n,r){return ux(t.pendingWriteTree_,e,i,n,r),r?Ji(t,new qi(Wu(),e,i)):[]}function Gx(t,e,i,n){hx(t.pendingWriteTree_,e,i,n);let r=Ue.fromObject(i);return Ji(t,new _o(Wu(),e,r))}function pn(t,e,i=!1){let n=mx(t.pendingWriteTree_,e);if(fx(t.pendingWriteTree_,e)){let o=new Ue(null);return n.snap!=null?o=o.set(G(),!0):Ie(n.children,s=>{o=o.set(new q(s),!0)}),Ji(t,new ou(n.path,o,i))}else return[]}function Do(t,e,i){return Ji(t,new qi(Hu(),e,i))}function qx(t,e,i){let n=Ue.fromObject(i);return Ji(t,new _o(Hu(),e,n))}function Kx(t,e){return Ji(t,new wa(Hu(),e))}function Yx(t,e,i){let n=Zu(t,i);if(n){let r=Xu(n),o=r.path,s=r.queryId,a=Ve(o,e),c=new wa(Gu(s),a);return Ju(t,o,c)}else return[]}function ka(t,e,i,n,r=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||Cb(s,e))){let c=Bx(s,e,i,n);Ux(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!r){let d=l.findIndex(h=>h._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(o,(h,p)=>yn(p));if(d&&!u){let h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){let p=Xx(h);for(let w=0;w<p.length;++w){let D=p[w],A=D.query,M=Sb(t,D);t.listenProvider_.startListening(uo(A),wo(t,A),M.hashFn,M.onComplete)}}}!u&&l.length>0&&!n&&(d?t.listenProvider_.stopListening(uo(e),null):l.forEach(h=>{let p=t.queryToTagMap.get($a(h));t.listenProvider_.stopListening(uo(h),p)}))}Jx(t,l)}return a}function xb(t,e,i,n){let r=Zu(t,n);if(r!=null){let o=Xu(r),s=o.path,a=o.queryId,c=Ve(s,e),l=new qi(Gu(a),c,i);return Ju(t,s,l)}else return[]}function Qx(t,e,i,n){let r=Zu(t,n);if(r){let o=Xu(r),s=o.path,a=o.queryId,c=Ve(s,e),l=Ue.fromObject(i),d=new _o(Gu(a),c,l);return Ju(t,s,d)}else return[]}function pu(t,e,i,n=!1){let r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(h,p)=>{let w=Ve(h,r);o=o||bn(p,w),s=s||yn(p)});let a=t.syncPointTree_.get(r);a?(s=s||yn(a),o=o||bn(a,G())):(a=new Sa,t.syncPointTree_=t.syncPointTree_.set(r,a));let c;o!=null?c=!0:(c=!1,o=N.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((p,w)=>{let D=bn(w,G());D&&(o=o.updateImmediateChild(p,D))}));let l=Cb(a,e);if(!l&&!e._queryParams.loadsAllData()){let h=$a(e);v(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let p=eI();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}let d=Ua(t.pendingWriteTree_,r),u=zx(a,e,i,d,o,c);if(!l&&!s&&!n){let h=Eb(a,e);u=u.concat(tI(t,e,h))}return u}function Ba(t,e,i){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Ve(s,e),l=bn(a,c);if(l)return l});return fb(r,e,o,i,!0)}function Zx(t,e){let i=e._path,n=null;t.syncPointTree_.foreachOnPath(i,(l,d)=>{let u=Ve(l,i);n=n||bn(d,u)});let r=t.syncPointTree_.get(i);r?n=n||bn(r,G()):(r=new Sa,t.syncPointTree_=t.syncPointTree_.set(i,r));let o=n!=null,s=o?new Pt(n,!0,!1):null,a=Ua(t.pendingWriteTree_,e._path),c=yb(r,e,a,o?s.getNode():N.EMPTY_NODE,o);return Px(c)}function Ji(t,e){return Ib(e,t.syncPointTree_,null,Ua(t.pendingWriteTree_,G()))}function Ib(t,e,i,n){if(L(t.path))return Ab(t,e,i,n);{let r=e.get(G());i==null&&r!=null&&(i=bn(r,G()));let o=[],s=O(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=i?i.getImmediateChild(s):null,d=pb(n,s);o=o.concat(Ib(a,c,l,d))}return r&&(o=o.concat(Yu(r,t,n,i))),o}}function Ab(t,e,i,n){let r=e.get(G());i==null&&r!=null&&(i=bn(r,G()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=i?i.getImmediateChild(s):null,l=pb(n,s),d=t.operationForChild(s);d&&(o=o.concat(Ab(d,a,c,l)))}),r&&(o=o.concat(Yu(r,t,n,i))),o}function Sb(t,e){let i=e.query,n=wo(t,i);return{hashFn:()=>(Nx(e)||N.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return n?Yx(t,i._path,n):Kx(t,i._path);{let o=uC(r,i);return ka(t,i,null,o)}}}}function wo(t,e){let i=$a(e);return t.queryToTagMap.get(i)}function $a(t){return t._path.toString()+"$"+t._queryIdentifier}function Zu(t,e){return t.tagToQueryMap.get(e)}function Xu(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function Ju(t,e,i){let n=t.syncPointTree_.get(e);v(n,"Missing sync point for query tag that we're tracking");let r=Ua(t.pendingWriteTree_,e);return Yu(n,i,r,null)}function Xx(t){return t.fold((e,i,n)=>{if(i&&yn(i))return[za(i)];{let r=[];return i&&(r=wb(i)),Ie(n,(o,s)=>{r=r.concat(s)}),r}})}function uo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Wx())(t._repo,t._path):t}function Jx(t,e){for(let i=0;i<e.length;++i){let n=e[i];if(!n._queryParams.loadsAllData()){let r=$a(n),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function eI(){return Hx++}function tI(t,e,i){let n=e._path,r=wo(t,e),o=Sb(t,i),s=t.listenProvider_.startListening(uo(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(n);if(r)v(!yn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,d,u)=>{if(!L(l)&&d&&yn(d))return[za(d).query];{let h=[];return d&&(h=h.concat(wb(d).map(p=>p.query))),Ie(u,(p,w)=>{h=h.concat(w)}),h}});for(let l=0;l<c.length;++l){let d=c[l];t.listenProvider_.stopListening(uo(d),wo(t,d))}}return s}var gu=class t{constructor(e){this.node_=e}getImmediateChild(e){let i=this.node_.getImmediateChild(e);return new t(i)}node(){return this.node_}},bu=class t{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){let i=de(this.path_,e);return new t(this.syncTree_,i)}node(){return Ba(this.syncTree_,this.path_)}},nI=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Rg=function(t,e,i){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return iI(t[".sv"],e,i);if(typeof t[".sv"]=="object")return rI(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},iI=function(t,e,i){switch(t){case"timestamp":return i.timestamp;default:v(!1,"Unexpected server value: "+t)}},rI=function(t,e,i){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let n=t.increment;typeof n!="number"&&v(!1,"Unexpected increment value: "+n);let r=e.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;let s=r.getValue();return typeof s!="number"?n:s+n},Tb=function(t,e,i,n){return th(e,new bu(i,t),n)},eh=function(t,e,i){return th(t,new gu(e),i)};function th(t,e,i){let n=t.getPriority().val(),r=Rg(n,e.getImmediateChild(".priority"),i),o;if(t.isLeafNode()){let s=t,a=Rg(s.getValue(),e,i);return a!==s.getValue()||r!==s.getPriority().val()?new Wi(a,ue(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Wi(r))),s.forEachChild(re,(a,c)=>{let l=th(c,e.getImmediateChild(a),i);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Eo=class{constructor(e="",i=null,n={children:{},childCount:0}){this.name=e,this.parent=i,this.node=n}};function Wa(t,e){let i=e instanceof q?e:new q(e),n=t,r=O(i);for(;r!==null;){let o=tn(n.node.children,r)||{children:{},childCount:0};n=new Eo(r,n,o),i=te(i),r=O(i)}return n}function Xn(t){return t.node.value}function nh(t,e){t.node.value=e,vu(t)}function Db(t){return t.node.childCount>0}function oI(t){return Xn(t)===void 0&&!Db(t)}function Ha(t,e){Ie(t.node.children,(i,n)=>{e(new Eo(i,t,n))})}function kb(t,e,i,n){i&&!n&&e(t),Ha(t,r=>{kb(r,e,!0,n)}),i&&n&&e(t)}function sI(t,e,i){let n=i?t:t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function ko(t){return new q(t.parent===null?t.name:ko(t.parent)+"/"+t.name)}function vu(t){t.parent!==null&&aI(t.parent,t.name,t)}function aI(t,e,i){let n=oI(i),r=st(t.node.children,e);n&&r?(delete t.node.children[e],t.node.childCount--,vu(t)):!n&&!r&&(t.node.children[e]=i.node,t.node.childCount++,vu(t))}var cI=/[\[\].#$\/\u0000-\u001F\u007F]/,lI=/[\[\].#$\u0000-\u001F\u007F]/,Dd=10*1024*1024,Ga=function(t){return typeof t=="string"&&t.length!==0&&!cI.test(t)},Rb=function(t){return typeof t=="string"&&t.length!==0&&!lI.test(t)},dI=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Rb(t)},Co=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!La(t)||t&&typeof t=="object"&&st(t,".sv")},Ft=function(t,e,i,n){n&&e===void 0||Ro(Ge(t,"value"),e,i)},Ro=function(t,e,i){let n=i instanceof q?new Bd(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+Gn(n));if(typeof e=="function")throw new Error(t+"contains a function "+Gn(n)+" with contents = "+e.toString());if(La(e))throw new Error(t+"contains "+e.toString()+" "+Gn(n));if(typeof e=="string"&&e.length>Dd/3&&mr(e)>Dd)throw new Error(t+"contains a string greater than "+Dd+" utf8 bytes "+Gn(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Ie(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Ga(s)))throw new Error(t+" contains an invalid key ("+s+") "+Gn(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);UC(n,s),Ro(t,a,n),zC(n)}),r&&o)throw new Error(t+' contains ".value" child '+Gn(n)+" in addition to actual children.")}},uI=function(t,e){let i,n;for(i=0;i<e.length;i++){n=e[i];let o=mo(n);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Ga(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(VC);let r=null;for(i=0;i<e.length;i++){if(n=e[i],r!==null&&dt(r,n))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+n.toString());r=n}},Mb=function(t,e,i,n){if(n&&e===void 0)return;let r=Ge(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];Ie(e,(s,a)=>{let c=new q(s);if(Ro(r,a,de(i,c)),Vu(c)===".priority"&&!Co(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),uI(r,o)},ih=function(t,e,i){if(!(i&&e===void 0)){if(La(e))throw new Error(Ge(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Co(e))throw new Error(Ge(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mo=function(t,e,i,n){if(!(n&&i===void 0)&&!Ga(i))throw new Error(Ge(t,e)+'was an invalid key = "'+i+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},er=function(t,e,i,n){if(!(n&&i===void 0)&&!Rb(i))throw new Error(Ge(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hI=function(t,e,i,n){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),er(t,e,i,n)},Xe=function(t,e){if(O(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Nb=function(t,e){let i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ga(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!dI(i))throw new Error(Ge(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var _u=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function qa(t,e){let i=null;for(let n=0;n<e.length;n++){let r=e[n],o=r.getPath();i!==null&&!Uu(o,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:o}),i.events.push(r)}i&&t.eventLists_.push(i)}function Pb(t,e,i){qa(t,i),Fb(t,n=>Uu(n,e))}function Je(t,e,i){qa(t,i),Fb(t,n=>dt(n,e)||dt(e,n))}function Fb(t,e){t.recursionDepth_++;let i=!0;for(let n=0;n<t.eventLists_.length;n++){let r=t.eventLists_[n];if(r){let o=r.path;e(o)?(mI(t.eventLists_[n]),t.eventLists_[n]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function mI(t){for(let e=0;e<t.events.length;e++){let i=t.events[e];if(i!==null){t.events[e]=null;let n=i.getEventRunner();Kn&&xe("event: "+i.toString()),Zi(n)}}}var Ob="repo_interrupt",fI=25,yu=class{constructor(e,i,n,r){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _u,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ya(),this.transactionQueueTree_=new Eo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function pI(t,e,i){if(t.stats_=ju(t.repoInfo_),t.forceRestClient_||pC())t.server_=new Jd(t.repoInfo_,(n,r,o,s)=>{Mg(t,n,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ng(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(i)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new zu(t.repoInfo_,e,(n,r,o,s)=>{Mg(t,n,r,o,s)},n=>{Ng(t,n)},n=>{gI(t,n)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=bC(t.repoInfo_,()=>new ru(t.stats_,t.server_)),t.infoData_=new eu,t.infoSyncTree_=new Da({startListening:(n,r,o,s)=>{let a=[],c=t.infoData_.getNode(n._path);return c.isEmpty()||(a=Do(t.infoSyncTree_,n._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),rh(t,"connected",!1),t.serverSyncTree_=new Da({startListening:(n,r,o,s)=>(t.server_.listen(n,o,r,(a,c)=>{let l=s(a,c);Je(t.eventQueue_,n._path,l)}),[]),stopListening:(n,r)=>{t.server_.unlisten(n,r)}})}function Lb(t){let i=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function No(t){return nI({timestamp:Lb(t)})}function Mg(t,e,i,n,r){t.dataUpdateCount++;let o=new q(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let s=[];if(r)if(n){let c=hr(i,l=>ue(l));s=Qx(t.serverSyncTree_,o,c,r)}else{let c=ue(i);s=xb(t.serverSyncTree_,o,c,r)}else if(n){let c=hr(i,l=>ue(l));s=qx(t.serverSyncTree_,o,c)}else{let c=ue(i);s=Do(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Yi(t,o)),Je(t.eventQueue_,a,s)}function Ng(t,e){rh(t,"connected",e),e===!1&&_I(t)}function gI(t,e){Ie(e,(i,n)=>{rh(t,i,n)})}function rh(t,e,i){let n=new q("/.info/"+e),r=ue(i);t.infoData_.updateSnapshot(n,r);let o=Do(t.infoSyncTree_,n,r);Je(t.eventQueue_,n,o)}function Ka(t){return t.nextWriteId_++}function bI(t,e,i){let n=Zx(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(r=>{let o=ue(r).withIndex(e._queryParams.getIndex());pu(t.serverSyncTree_,e,i,!0);let s;if(e._queryParams.loadsAllData())s=Do(t.serverSyncTree_,e._path,o);else{let a=wo(t.serverSyncTree_,e);s=xb(t.serverSyncTree_,e._path,o,a)}return Je(t.eventQueue_,e._path,s),ka(t.serverSyncTree_,e,i,null,!0),o},r=>(tr(t,"get for query "+ge(e)+" failed: "+r),Promise.reject(new Error(r))))}function oh(t,e,i,n,r){tr(t,"set",{path:e.toString(),value:i,priority:n});let o=No(t),s=ue(i,n),a=Ba(t.serverSyncTree_,e),c=eh(s,a,o),l=Ka(t),d=Qu(t.serverSyncTree_,e,c,l,!0);qa(t.eventQueue_,d),t.server_.put(e.toString(),s.val(!0),(h,p)=>{let w=h==="ok";w||Pe("set at "+e+" failed: "+h);let D=pn(t.serverSyncTree_,l,!w);Je(t.eventQueue_,e,D),wn(t,r,h,p)});let u=ah(t,e);Yi(t,u),Je(t.eventQueue_,u,[])}function vI(t,e,i,n){tr(t,"update",{path:e.toString(),value:i});let r=!0,o=No(t),s={};if(Ie(i,(a,c)=>{r=!1,s[a]=Tb(de(e,a),ue(c),t.serverSyncTree_,o)}),r)xe("update() called with empty data.  Don't do anything."),wn(t,n,"ok",void 0);else{let a=Ka(t),c=Gx(t.serverSyncTree_,e,s,a);qa(t.eventQueue_,c),t.server_.merge(e.toString(),i,(l,d)=>{let u=l==="ok";u||Pe("update at "+e+" failed: "+l);let h=pn(t.serverSyncTree_,a,!u),p=h.length>0?Yi(t,e):e;Je(t.eventQueue_,p,h),wn(t,n,l,d)}),Ie(i,l=>{let d=ah(t,de(e,l));Yi(t,d)}),Je(t.eventQueue_,e,[])}}function _I(t){tr(t,"onDisconnectEvents");let e=No(t),i=ya();nu(t.onDisconnect_,G(),(r,o)=>{let s=Tb(r,o,t.serverSyncTree_,e);Xi(i,r,s)});let n=[];nu(i,G(),(r,o)=>{n=n.concat(Do(t.serverSyncTree_,r,o));let s=ah(t,r);Yi(t,s)}),t.onDisconnect_=ya(),Je(t.eventQueue_,G(),n)}function yI(t,e,i){t.server_.onDisconnectCancel(e.toString(),(n,r)=>{n==="ok"&&tu(t.onDisconnect_,e),wn(t,i,n,r)})}function Pg(t,e,i,n){let r=ue(i);t.server_.onDisconnectPut(e.toString(),r.val(!0),(o,s)=>{o==="ok"&&Xi(t.onDisconnect_,e,r),wn(t,n,o,s)})}function wI(t,e,i,n,r){let o=ue(i,n);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&Xi(t.onDisconnect_,e,o),wn(t,r,s,a)})}function EI(t,e,i,n){if(is(i)){xe("onDisconnect().update() called with empty data.  Don't do anything."),wn(t,n,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),i,(r,o)=>{r==="ok"&&Ie(i,(s,a)=>{let c=ue(a);Xi(t.onDisconnect_,de(e,s),c)}),wn(t,n,r,o)})}function CI(t,e,i){let n;O(e._path)===".info"?n=pu(t.infoSyncTree_,e,i):n=pu(t.serverSyncTree_,e,i),Pb(t.eventQueue_,e._path,n)}function wu(t,e,i){let n;O(e._path)===".info"?n=ka(t.infoSyncTree_,e,i):n=ka(t.serverSyncTree_,e,i),Pb(t.eventQueue_,e._path,n)}function jb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ob)}function xI(t){t.persistentConnection_&&t.persistentConnection_.resume(Ob)}function tr(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),xe(i,...e)}function wn(t,e,i,n){e&&Zi(()=>{if(i==="ok")e(null);else{let r=(i||"error").toUpperCase(),o=r;n&&(o+=": "+n);let s=new Error(o);s.code=r,e(s)}})}function II(t,e,i,n,r,o){tr(t,"transaction on "+e);let s={path:e,update:i,onComplete:n,status:null,order:Lg(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=sh(t,e,void 0);s.currentInputSnapshot=a;let c=s.update(a.val());if(c===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Ro("transaction failed: Data returned ",c,s.path),s.status=0;let l=Wa(t.transactionQueueTree_,e),d=Xn(l)||[];d.push(s),nh(l,d);let u;typeof c=="object"&&c!==null&&st(c,".priority")?(u=tn(c,".priority"),v(Co(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(Ba(t.serverSyncTree_,e)||N.EMPTY_NODE).getPriority().val();let h=No(t),p=ue(c,u),w=eh(p,a,h);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=w,s.currentWriteId=Ka(t);let D=Qu(t.serverSyncTree_,e,w,s.currentWriteId,s.applyLocally);Je(t.eventQueue_,e,D),Ya(t,t.transactionQueueTree_)}}function sh(t,e,i){return Ba(t.serverSyncTree_,e,i)||N.EMPTY_NODE}function Ya(t,e=t.transactionQueueTree_){if(e||Qa(t,e),Xn(e)){let i=Ub(t,e);v(i.length>0,"Sending zero length transaction queue"),i.every(r=>r.status===0)&&AI(t,ko(e),i)}else Db(e)&&Ha(e,i=>{Ya(t,i)})}function AI(t,e,i){let n=i.map(l=>l.currentWriteId),r=sh(t,e,n),o=r,s=r.hash();for(let l=0;l<i.length;l++){let d=i[l];v(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let u=Ve(e,d.path);o=o.updateChild(u,d.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{tr(t,"transaction put response",{path:c.toString(),status:l});let d=[];if(l==="ok"){let u=[];for(let h=0;h<i.length;h++)i[h].status=2,d=d.concat(pn(t.serverSyncTree_,i[h].currentWriteId)),i[h].onComplete&&u.push(()=>i[h].onComplete(null,!0,i[h].currentOutputSnapshotResolved)),i[h].unwatcher();Qa(t,Wa(t.transactionQueueTree_,e)),Ya(t,t.transactionQueueTree_),Je(t.eventQueue_,e,d);for(let h=0;h<u.length;h++)Zi(u[h])}else{if(l==="datastale")for(let u=0;u<i.length;u++)i[u].status===3?i[u].status=4:i[u].status=0;else{Pe("transaction at "+c.toString()+" failed: "+l);for(let u=0;u<i.length;u++)i[u].status=4,i[u].abortReason=l}Yi(t,e)}},s)}function Yi(t,e){let i=Vb(t,e),n=ko(i),r=Ub(t,i);return SI(t,r,n),n}function SI(t,e,i){if(e.length===0)return;let n=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ve(i,c.path),d=!1,u;if(v(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,u=c.abortReason,r=r.concat(pn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=fI)d=!0,u="maxretry",r=r.concat(pn(t.serverSyncTree_,c.currentWriteId,!0));else{let h=sh(t,c.path,s);c.currentInputSnapshot=h;let p=e[a].update(h.val());if(p!==void 0){Ro("transaction failed: Data returned ",p,c.path);let w=ue(p);typeof p=="object"&&p!=null&&st(p,".priority")||(w=w.updatePriority(h.getPriority()));let A=c.currentWriteId,M=No(t),oe=eh(w,h,M);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=oe,c.currentWriteId=Ka(t),s.splice(s.indexOf(A),1),r=r.concat(Qu(t.serverSyncTree_,c.path,oe,c.currentWriteId,c.applyLocally)),r=r.concat(pn(t.serverSyncTree_,A,!0))}else d=!0,u="nodata",r=r.concat(pn(t.serverSyncTree_,c.currentWriteId,!0))}Je(t.eventQueue_,i,r),r=[],d&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?n.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):n.push(()=>e[a].onComplete(new Error(u),!1,null))))}Qa(t,t.transactionQueueTree_);for(let a=0;a<n.length;a++)Zi(n[a]);Ya(t,t.transactionQueueTree_)}function Vb(t,e){let i,n=t.transactionQueueTree_;for(i=O(e);i!==null&&Xn(n)===void 0;)n=Wa(n,i),e=te(e),i=O(e);return n}function Ub(t,e){let i=[];return zb(t,e,i),i.sort((n,r)=>n.order-r.order),i}function zb(t,e,i){let n=Xn(e);if(n)for(let r=0;r<n.length;r++)i.push(n[r]);Ha(e,r=>{zb(t,r,i)})}function Qa(t,e){let i=Xn(e);if(i){let n=0;for(let r=0;r<i.length;r++)i[r].status!==2&&(i[n]=i[r],n++);i.length=n,nh(e,i.length>0?i:void 0)}Ha(e,n=>{Qa(t,n)})}function ah(t,e){let i=ko(Vb(t,e)),n=Wa(t.transactionQueueTree_,e);return sI(n,r=>{kd(t,r)}),kd(t,n),kb(n,r=>{kd(t,r)}),i}function kd(t,e){let i=Xn(e);if(i){let n=[],r=[],o=-1;for(let s=0;s<i.length;s++)i[s].status===3||(i[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,i[s].status=3,i[s].abortReason="set"):(v(i[s].status===0,"Unexpected transaction status in abort"),i[s].unwatcher(),r=r.concat(pn(t.serverSyncTree_,i[s].currentWriteId,!0)),i[s].onComplete&&n.push(i[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?nh(e,void 0):i.length=o+1,Je(t.eventQueue_,ko(e),r);for(let s=0;s<n.length;s++)Zi(n[s])}}function TI(t){let e="",i=t.split("/");for(let n=0;n<i.length;n++)if(i[n].length>0){let r=i[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function DI(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let i of t.split("&")){if(i.length===0)continue;let n=i.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Pe(`Invalid query segment '${i}' in query '${t}'`)}return e}var Eu=function(t,e){let i=kI(t),n=i.namespace;i.domain==="firebase.com"&&Nt(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&i.domain!=="localhost"&&Nt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||sC();let r=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new ha(i.host,i.secure,n,r,e,"",n!==i.subdomain),path:new q(i.pathString)}},kI=function(t){let e="",i="",n="",r="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(d,u)),d<u&&(r=TI(t.substring(d,u)));let h=DI(t.substring(Math.min(t.length,u)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let p=e.slice(0,l);if(p.toLowerCase()==="localhost")i="localhost";else if(p.split(".").length<=2)i=p;else{let w=e.indexOf(".");n=e.substring(0,w).toLowerCase(),i=e.substring(w+1),o=n}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:i,subdomain:n,secure:s,scheme:a,pathString:r,namespace:o}};var Fg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",RI=function(){let t=0,e=[];return function(i){let n=i===t;t=i;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=Fg.charAt(i%64),i=Math.floor(i/64);v(i===0,"Cannot push at time == 0");let s=o.join("");if(n){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=Fg.charAt(e[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var Ra=class{constructor(e,i,n,r){this.eventType=e,this.eventRegistration=i,this.snapshot=n,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}},Ma=class{constructor(e,i,n){this.eventRegistration=e,this.error=i,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var xo=class{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Na=class{constructor(e,i){this._repo=e,this._path=i}cancel(){let e=new Ce;return yI(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Xe("OnDisconnect.remove",this._path);let e=new Ce;return Pg(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Xe("OnDisconnect.set",this._path),Ft("OnDisconnect.set",e,this._path,!1);let i=new Ce;return Pg(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}setWithPriority(e,i){Xe("OnDisconnect.setWithPriority",this._path),Ft("OnDisconnect.setWithPriority",e,this._path,!1),ih("OnDisconnect.setWithPriority",i,!1);let n=new Ce;return wI(this._repo,this._path,e,i,n.wrapCallback(()=>{})),n.promise}update(e){Xe("OnDisconnect.update",this._path),Mb("OnDisconnect.update",e,this._path,!1);let i=new Ce;return EI(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}};var ze=class t{constructor(e,i,n,r){this._repo=e,this._path=i,this._queryParams=n,this._orderByCalled=r}get key(){return L(this._path)?null:Vu(this._path)}get ref(){return new et(this._repo,this._path)}get _queryIdentifier(){let e=wg(this._queryParams),i=Lu(e);return i==="{}"?"default":i}get _queryObject(){return wg(this._queryParams)}isEqual(e){if(e=Oe(e),!(e instanceof t))return!1;let i=this._repo===e._repo,n=Uu(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return i&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+jC(this._path)}};function Za(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Cn(t){let e=null,i=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(i=t.getIndexEndValue()),t.getIndex()===Mt){let n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==vn)throw new Error(n);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Ht)throw new Error(n);if(typeof i!="string")throw new Error(r)}}else if(t.getIndex()===re){if(e!=null&&!Co(e)||i!=null&&!Co(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(t.getIndex()instanceof fo||t.getIndex()===$u,"unknown index type."),e!=null&&typeof e=="object"||i!=null&&typeof i=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xa(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var et=class t extends ze{constructor(e,i){super(e,i,new vo,!1)}get parent(){let e=rb(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Qi=class t{constructor(e,i,n){this._node=e,this.ref=i,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let i=new q(e),n=En(this.ref,e);return new t(this._node.getChild(i),n,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,r)=>e(new t(r,En(this.ref,n),re)))}hasChild(e){let i=new q(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function ch(t,e){return t=Oe(t),t._checkNotDeleted("ref"),e!==void 0?En(t._root,e):t._root}function lh(t,e){t=Oe(t),t._checkNotDeleted("refFromURL");let i=Eu(e,t._repo.repoInfo_.nodeAdmin);Nb("refFromURL",i);let n=i.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&n.host!==t._repo.repoInfo_.host&&Nt("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+t._repo.repoInfo_.host+")"),ch(t,i.path.toString())}function En(t,e){return t=Oe(t),O(t._path)===null?hI("child","path",e,!1):er("child","path",e,!1),new et(t._repo,de(t._path,e))}function Bb(t,e){t=Oe(t),Xe("push",t._path),Ft("push",e,t._path,!0);let i=Lb(t._repo),n=RI(i),r=En(t,n),o=En(t,n),s;return e!=null?s=Ja(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function $b(t){return Xe("remove",t._path),Ja(t,null)}function Ja(t,e){t=Oe(t),Xe("set",t._path),Ft("set",e,t._path,!1);let i=new Ce;return oh(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}function Wb(t,e){t=Oe(t),Xe("setPriority",t._path),ih("setPriority",e,!1);let i=new Ce;return oh(t._repo,de(t._path,".priority"),e,null,i.wrapCallback(()=>{})),i.promise}function Hb(t,e,i){if(Xe("setWithPriority",t._path),Ft("setWithPriority",e,t._path,!1),ih("setWithPriority",i,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let n=new Ce;return oh(t._repo,t._path,e,i,n.wrapCallback(()=>{})),n.promise}function Gb(t,e){Mb("update",e,t._path,!1);let i=new Ce;return vI(t._repo,t._path,e,i.wrapCallback(()=>{})),i.promise}function qb(t){t=Oe(t);let e=new xo(()=>{}),i=new Io(e);return bI(t._repo,t,i).then(n=>new Qi(n,new et(t._repo,t._path),t._queryParams.getIndex()))}var Io=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){let n=i._queryParams.getIndex();return new Ra("value",this,new Qi(e.snapshotNode,new et(i._repo,i._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new Ma(this,e,i):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Pa=class t{constructor(e,i){this.eventType=e,this.callbackContext=i}respondsTo(e){let i=e==="children_added"?"child_added":e;return i=i==="children_removed"?"child_removed":i,this.eventType===i}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new Ma(this,e,i):null}createEvent(e,i){v(e.childName!=null,"Child events should have a childName.");let n=En(new et(i._repo,i._path),e.childName),r=i._queryParams.getIndex();return new Ra(e.type,this,new Qi(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Po(t,e,i,n,r){let o;if(typeof n=="object"&&(o=void 0,r=n),typeof n=="function"&&(o=n),r&&r.onlyOnce){let c=i,l=(d,u)=>{wu(t._repo,t,a),c(d,u)};l.userCallback=i.userCallback,l.context=i.context,i=l}let s=new xo(i,o||void 0),a=e==="value"?new Io(s):new Pa(e,s);return CI(t._repo,t,a),()=>wu(t._repo,t,a)}function ec(t,e,i,n){return Po(t,"value",e,i,n)}function dh(t,e,i,n){return Po(t,"child_added",e,i,n)}function uh(t,e,i,n){return Po(t,"child_changed",e,i,n)}function hh(t,e,i,n){return Po(t,"child_moved",e,i,n)}function mh(t,e,i,n){return Po(t,"child_removed",e,i,n)}function fh(t,e,i){let n=null,r=i?new xo(i):null;e==="value"?n=new Io(r):e&&(n=new Pa(e,r)),wu(t._repo,t,n)}var tt=class{},Fa=class extends tt{constructor(e,i){super(),this._value=e,this._key=i,this.type="endAt"}_apply(e){Ft("endAt",this._value,e._path,!0);let i=Xd(e._queryParams,this._value,this._key);if(Xa(i),Cn(i),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ze(e._repo,e._path,i,e._orderByCalled)}};function Kb(t,e){return Mo("endAt","key",e,!0),new Fa(t,e)}var Cu=class extends tt{constructor(e,i){super(),this._value=e,this._key=i,this.type="endBefore"}_apply(e){Ft("endBefore",this._value,e._path,!1);let i=ix(e._queryParams,this._value,this._key);if(Xa(i),Cn(i),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ze(e._repo,e._path,i,e._orderByCalled)}};function Yb(t,e){return Mo("endBefore","key",e,!0),new Cu(t,e)}var Oa=class extends tt{constructor(e,i){super(),this._value=e,this._key=i,this.type="startAt"}_apply(e){Ft("startAt",this._value,e._path,!0);let i=Zd(e._queryParams,this._value,this._key);if(Xa(i),Cn(i),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ze(e._repo,e._path,i,e._orderByCalled)}};function Qb(t=null,e){return Mo("startAt","key",e,!0),new Oa(t,e)}var xu=class extends tt{constructor(e,i){super(),this._value=e,this._key=i,this.type="startAfter"}_apply(e){Ft("startAfter",this._value,e._path,!1);let i=nx(e._queryParams,this._value,this._key);if(Xa(i),Cn(i),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ze(e._repo,e._path,i,e._orderByCalled)}};function Zb(t,e){return Mo("startAfter","key",e,!0),new xu(t,e)}var Iu=class extends tt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ze(e._repo,e._path,ex(e._queryParams,this._limit),e._orderByCalled)}};function Xb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Iu(t)}var Au=class extends tt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ze(e._repo,e._path,tx(e._queryParams,this._limit),e._orderByCalled)}};function Jb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Au(t)}var Su=class extends tt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Za(e,"orderByChild");let i=new q(this._path);if(L(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let n=new fo(i),r=ja(e._queryParams,n);return Cn(r),new ze(e._repo,e._path,r,!0)}};function ev(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return er("orderByChild","path",t,!1),new Su(t)}var Tu=class extends tt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Za(e,"orderByKey");let i=ja(e._queryParams,Mt);return Cn(i),new ze(e._repo,e._path,i,!0)}};function tv(){return new Tu}var Du=class extends tt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Za(e,"orderByPriority");let i=ja(e._queryParams,re);return Cn(i),new ze(e._repo,e._path,i,!0)}};function nv(){return new Du}var ku=class extends tt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Za(e,"orderByValue");let i=ja(e._queryParams,$u);return Cn(i),new ze(e._repo,e._path,i,!0)}};function iv(){return new ku}var Ru=class extends tt{constructor(e,i){super(),this._value=e,this._key=i,this.type="equalTo"}_apply(e){if(Ft("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fa(this._value,this._key)._apply(new Oa(this._value,this._key)._apply(e))}};function rv(t,e){return Mo("equalTo","key",e,!0),new Ru(t,e)}function ht(t,...e){let i=Oe(t);for(let n of e)i=n._apply(i);return i}jx(et);$x(et);var MI="FIREBASE_DATABASE_EMULATOR_HOST",Mu={},NI=!1;function PI(t,e,i,n){t.repoInfo_=new ha(`${e}:${i}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),n&&(t.authTokenProvider_=n)}function ph(t,e,i,n,r){let o=n||t.options.databaseURL;o===void 0&&(t.options.projectId||Nt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Eu(o,r),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[MI]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Eu(o,r),a=s.repoInfo):c=!s.repoInfo.secure;let d=r&&c?new ao(ao.OWNER):new Od(t.name,t.options,e);Nb("Invalid Firebase Database URL",s),L(s.path)||Nt("Database URL must point to the root of a Firebase Database (not including a child path).");let u=OI(a,t,d,new Fd(t.name,i));return new Nu(u,t)}function FI(t,e){let i=Mu[e];(!i||i[t.key]!==t)&&Nt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),jb(t),delete i[t.key]}function OI(t,e,i,n){let r=Mu[e.name];r||(r={},Mu[e.name]=r);let o=r[t.toURLString()];return o&&Nt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new yu(t,NI,i,n),r[t.toURLString()]=o,o}var Nu=class{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new et(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Nt("Cannot call "+e+" on a deleted database.")}};function ov(){ib.IS_TRANSPORT_INITIALIZED&&Pe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sv(){ov(),ho.forceDisallow()}function av(){ov(),Ui.forceDisallow(),ho.forceAllow()}function cv(t,e,i,n={}){t=Oe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Nt("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,o;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&Nt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ao(ao.OWNER);else if(n.mockUserToken){let s=typeof n.mockUserToken=="string"?n.mockUserToken:hm(n.mockUserToken,t.app.options.projectId);o=new ao(s)}PI(r,e,i,o)}function lv(t){t=Oe(t),t._checkNotDeleted("goOffline"),jb(t._repo)}function dv(t){t=Oe(t),t._checkNotDeleted("goOnline"),xI(t._repo)}function uv(t,e){Vg(t,e)}function LI(t){Ou(Em),fr(new Bt("database",(e,{instanceIdentifier:i})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return ph(n,r,o,i)},"PUBLIC").setMultipleInstances(!0)),Le(rg,og,t),Le(rg,og,"esm2017")}var jI={".sv":"timestamp"};function hv(){return jI}function mv(t){return{".sv":{increment:t}}}var Pu=class{constructor(e,i){this.committed=e,this.snapshot=i}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function fv(t,e,i){var n;if(t=Oe(t),Xe("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let r=(n=i?.applyLocally)!==null&&n!==void 0?n:!0,o=new Ce,s=(c,l,d)=>{let u=null;c?o.reject(c):(u=new Qi(d,new et(t._repo,t._path),re),o.resolve(new Pu(l,u)))},a=ec(t,()=>{});return II(t._repo,t._path,e,s,a,r),o.promise}zu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};LI();var VI="@firebase/database-compat",UI="1.0.4";var zI=new pi("@firebase/database-compat"),pv=function(t){let e="FIREBASE WARNING: "+t;zI.warn(e)};var BI=function(t,e,i,n){if(!(n&&i===void 0)&&typeof i!="boolean")throw new Error(Ge(t,e)+"must be a boolean.")},$I=function(t,e,i){if(!(i&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ge(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var gh=class{constructor(e){this._delegate=e}cancel(e){R("OnDisconnect.cancel",0,1,arguments.length),ye("OnDisconnect.cancel","onComplete",e,!0);let i=this._delegate.cancel();return e&&i.then(()=>e(null),n=>e(n)),i}remove(e){R("OnDisconnect.remove",0,1,arguments.length),ye("OnDisconnect.remove","onComplete",e,!0);let i=this._delegate.remove();return e&&i.then(()=>e(null),n=>e(n)),i}set(e,i){R("OnDisconnect.set",1,2,arguments.length),ye("OnDisconnect.set","onComplete",i,!0);let n=this._delegate.set(e);return i&&n.then(()=>i(null),r=>i(r)),n}setWithPriority(e,i,n){R("OnDisconnect.setWithPriority",2,3,arguments.length),ye("OnDisconnect.setWithPriority","onComplete",n,!0);let r=this._delegate.setWithPriority(e,i);return n&&r.then(()=>n(null),o=>n(o)),r}update(e,i){if(R("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,pv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ye("OnDisconnect.update","onComplete",i,!0);let n=this._delegate.update(e);return i&&n.then(()=>i(null),r=>i(r)),n}};var bh=class{constructor(e,i){this.committed=e,this.snapshot=i}toJSON(){return R("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Jn=class t{constructor(e,i){this._database=e,this._delegate=i}val(){return R("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return R("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return R("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return R("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return R("DataSnapshot.child",0,1,arguments.length),e=String(e),er("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return R("DataSnapshot.hasChild",1,1,arguments.length),er("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return R("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return R("DataSnapshot.forEach",1,1,arguments.length),ye("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(i=>e(new t(this._database,i)))}hasChildren(){return R("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return R("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return R("DataSnapshot.ref",0,0,arguments.length),new Gt(this._database,this._delegate.ref)}get ref(){return this.getRef()}},tc=class t{constructor(e,i){this.database=e,this._delegate=i}on(e,i,n,r){var o;R("Query.on",2,4,arguments.length),ye("Query.on","callback",i,!1);let s=t.getCancelAndContextArgs_("Query.on",n,r),a=(l,d)=>{i.call(s.context,new Jn(this.database,l),d)};a.userCallback=i,a.context=s.context;let c=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return ec(this._delegate,a,c),i;case"child_added":return dh(this._delegate,a,c),i;case"child_removed":return mh(this._delegate,a,c),i;case"child_changed":return uh(this._delegate,a,c),i;case"child_moved":return hh(this._delegate,a,c),i;default:throw new Error(Ge("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,i,n){if(R("Query.off",0,3,arguments.length),$I("Query.off",e,!0),ye("Query.off","callback",i,!0),kc("Query.off","context",n,!0),i){let r=()=>{};r.userCallback=i,r.context=n,fh(this._delegate,e,r)}else fh(this._delegate,e)}get(){return qb(this._delegate).then(e=>new Jn(this.database,e))}once(e,i,n,r){R("Query.once",1,4,arguments.length),ye("Query.once","callback",i,!0);let o=t.getCancelAndContextArgs_("Query.once",n,r),s=new Ce,a=(l,d)=>{let u=new Jn(this.database,l);i&&i.call(o.context,u,d),s.resolve(u)};a.userCallback=i,a.context=o.context;let c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":ec(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":dh(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":mh(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":uh(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":hh(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error(Ge("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return R("Query.limitToFirst",1,1,arguments.length),new t(this.database,ht(this._delegate,Xb(e)))}limitToLast(e){return R("Query.limitToLast",1,1,arguments.length),new t(this.database,ht(this._delegate,Jb(e)))}orderByChild(e){return R("Query.orderByChild",1,1,arguments.length),new t(this.database,ht(this._delegate,ev(e)))}orderByKey(){return R("Query.orderByKey",0,0,arguments.length),new t(this.database,ht(this._delegate,tv()))}orderByPriority(){return R("Query.orderByPriority",0,0,arguments.length),new t(this.database,ht(this._delegate,nv()))}orderByValue(){return R("Query.orderByValue",0,0,arguments.length),new t(this.database,ht(this._delegate,iv()))}startAt(e=null,i){return R("Query.startAt",0,2,arguments.length),new t(this.database,ht(this._delegate,Qb(e,i)))}startAfter(e=null,i){return R("Query.startAfter",0,2,arguments.length),new t(this.database,ht(this._delegate,Zb(e,i)))}endAt(e=null,i){return R("Query.endAt",0,2,arguments.length),new t(this.database,ht(this._delegate,Kb(e,i)))}endBefore(e=null,i){return R("Query.endBefore",0,2,arguments.length),new t(this.database,ht(this._delegate,Yb(e,i)))}equalTo(e,i){return R("Query.equalTo",1,2,arguments.length),new t(this.database,ht(this._delegate,rv(e,i)))}toString(){return R("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return R("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(R("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let i="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(i)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,i,n){let r={cancel:void 0,context:void 0};if(i&&n)r.cancel=i,ye(e,"cancel",r.cancel,!0),r.context=n,kc(e,"context",r.context,!0);else if(i)if(typeof i=="object"&&i!==null)r.context=i;else if(typeof i=="function")r.cancel=i;else throw new Error(Ge(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Gt(this.database,new et(this._delegate._repo,this._delegate._path))}},Gt=class t extends tc{constructor(e,i){super(e,new ze(i._repo,i._path,new vo,!1)),this.database=e,this._delegate=i}getKey(){return R("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return R("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,En(this._delegate,e))}getParent(){R("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return R("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,i){R("Reference.set",1,2,arguments.length),ye("Reference.set","onComplete",i,!0);let n=Ja(this._delegate,e);return i&&n.then(()=>i(null),r=>i(r)),n}update(e,i){if(R("Reference.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,pv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xe("Reference.update",this._delegate._path),ye("Reference.update","onComplete",i,!0);let n=Gb(this._delegate,e);return i&&n.then(()=>i(null),r=>i(r)),n}setWithPriority(e,i,n){R("Reference.setWithPriority",2,3,arguments.length),ye("Reference.setWithPriority","onComplete",n,!0);let r=Hb(this._delegate,e,i);return n&&r.then(()=>n(null),o=>n(o)),r}remove(e){R("Reference.remove",0,1,arguments.length),ye("Reference.remove","onComplete",e,!0);let i=$b(this._delegate);return e&&i.then(()=>e(null),n=>e(n)),i}transaction(e,i,n){R("Reference.transaction",1,3,arguments.length),ye("Reference.transaction","transactionUpdate",e,!1),ye("Reference.transaction","onComplete",i,!0),BI("Reference.transaction","applyLocally",n,!0);let r=fv(this._delegate,e,{applyLocally:n}).then(o=>new bh(o.committed,new Jn(this.database,o.snapshot)));return i&&r.then(o=>i(null,o.committed,o.snapshot),o=>i(o,!1,null)),r}setPriority(e,i){R("Reference.setPriority",1,2,arguments.length),ye("Reference.setPriority","onComplete",i,!0);let n=Wb(this._delegate,e);return i&&n.then(()=>i(null),r=>i(r)),n}push(e,i){R("Reference.push",0,2,arguments.length),ye("Reference.push","onComplete",i,!0);let n=Bb(this._delegate,e),r=n.then(s=>new t(this.database,s));i&&r.then(()=>i(null),s=>i(s));let o=new t(this.database,n);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Xe("Reference.onDisconnect",this._delegate._path),new gh(new Na(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var ei=class{constructor(e,i){this._delegate=e,this.app=i,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sv,forceLongPolling:av}}useEmulator(e,i,n={}){cv(this._delegate,e,i,n)}ref(e){if(R("database.ref",0,1,arguments.length),e instanceof Gt){let i=lh(this._delegate,e.toString());return new Gt(this,i)}else{let i=ch(this._delegate,e);return new Gt(this,i)}}refFromURL(e){R("database.refFromURL",1,1,arguments.length);let n=lh(this._delegate,e);return new Gt(this,n)}goOffline(){return R("database.goOffline",0,0,arguments.length),lv(this._delegate)}goOnline(){return R("database.goOnline",0,0,arguments.length),dv(this._delegate)}};ei.ServerValue={TIMESTAMP:hv(),increment:t=>mv(t)};function WI({app:t,url:e,version:i,customAuthImpl:n,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Ou(i);let a=new Rc("database-standalone"),c=new rs("auth-internal",a);c.setComponent(new Bt("auth-internal",()=>n,"PRIVATE"));let l;return r&&(l=new rs("app-check-internal",a),l.setComponent(new Bt("app-check-internal",()=>r,"PRIVATE"))),{instance:new ei(ph(t,c,l,e,s),t),namespace:o}}var HI=Object.freeze({__proto__:null,initStandalone:WI});var GI=ei.ServerValue;function qI(t){t.INTERNAL.registerComponent(new Bt("database-compat",(e,{instanceIdentifier:i})=>{let n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:i});return new ei(r,n)},"PUBLIC").setServiceProps({Reference:Gt,Query:tc,Database:ei,DataSnapshot:Jn,enableLogging:uv,INTERNAL:HI,ServerValue:GI}).setMultipleInstances(!0)),t.registerVersion(VI,UI)}qI(At);function Fo(t,e,i="on",n=Uo){return new Be(r=>{let o=null;return o=t[i](e,(s,a)=>{n.schedule(()=>{r.next({snapshot:s,prevKey:a})}),i==="once"&&n.schedule(()=>r.complete())},s=>{n.schedule(()=>r.error(s))}),i==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Wo())}function KI(t){return typeof t=="string"}function YI(t){return typeof t.exportVal=="function"}function yv(t){return t==null}function wv(t){return typeof t.set=="function"}function gv(t,e){return wv(e)?e:t.ref(e)}function Ev(t,e){if(KI(t))return e.stringCase();if(wv(t))return e.firebaseCase();if(YI(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function Cv(t){return(yv(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function xv(t,e,i){e=Cv(e);let n=e.map(r=>Fo(t,r,"on",i));return Tn(...n)}function QI(t,e,i){let n=xv(t,e).pipe(or((r,o)=>[...r,o],[]));return XI(t,n,i)}function ZI(t,e){return Fo(t,"value","on",e).pipe(S(i=>{let n;return i.payload.forEach(r=>(n=r.key,!1)),{data:i,lastKeyToLoad:n}}))}function XI(t,e,i){return ZI(t,i).pipe(Fh(e),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Ph(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function bv(t,e){return function(n,r){return Ev(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function JI(t){return function(i){return i?Ev(i,{stringCase:()=>t.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):t.remove()}}function eA(t,e,i){return Fo(t,"value","once",i).pipe(he(n=>{let r=[I(n)];return e.forEach(o=>r.push(Fo(t,o,"on",i))),Tn(...r).pipe(or(nA,[]))}),$o())}function Iv(t,e){let i=t.length;for(let n=0;n<i;n++)if(t[n].payload.key===e)return n;return-1}function tA(t,e){if(yv(e))return 0;{let i=Iv(t,e);return i===-1?t.length:i+1}}function nA(t,e){let{payload:i,prevKey:n,key:r}=e,o=Iv(t,r),s=tA(t,n);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{let l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==n&&(t=t.filter(c=>c.payload.key!==i.key),t.splice(s,0,e));else{if(n==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==i.key);case"child_changed":return t.map(a=>a.payload.key===r?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function vv(t,e,i){return e=Cv(e),eA(t,e,i)}function iA(t,e){let i=e.schedulers.outsideAngular,n=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:bv(n,"update"),set:bv(n,"set"),push:r=>n.push(r),remove:JI(n),snapshotChanges(r){return vv(t,r,i).pipe(kt)},stateChanges(r){return xv(t,r,i).pipe(kt)},auditTrail(r){return QI(t,r,i).pipe(kt)},valueChanges(r,o){return vv(t,r,i).pipe(S(a=>a.map(c=>o&&o.idField?se(y({},c.payload.val()),{[o.idField]:c.key}):c.payload.val())),kt)}}}function _v(t,e){return function(){return Fo(t,"value","on",e)}}function rA(t,e){return{query:t,snapshotChanges(){return _v(t,e.schedulers.outsideAngular)().pipe(kt)},update(i){return t.ref.update(i)},set(i){return t.ref.set(i)},remove(){return t.ref.remove()},valueChanges(){return _v(t,e.schedulers.outsideAngular)().pipe(kt,S(n=>n.payload.exists()?n.payload.val():null))}}}var oA=new x("angularfire2.realtimeDatabaseURL"),sA=new x("angularfire2.database.use-emulator"),xn=(()=>{class t{schedulers;database;constructor(i,n,r,o,s,a,c,l,d,u,h,p,w,D,A){this.schedulers=a;let M=c,oe=Zs(i,s,n);l&&ad(oe,s,d,h,p,w,u,D),this.database=Xs(`${oe.name}.database.${r}`,"AngularFireDatabase",oe.name,()=>{let X=s.runOutsideAngular(()=>oe.database(r||void 0));return M&&X.useEmulator(...M),X},[M])}list(i,n){let r=this.schedulers.ngZone.runOutsideAngular(()=>gv(this.database,i)),o=r;return n&&(o=n(r)),iA(o,this)}object(i){let n=this.schedulers.ngZone.runOutsideAngular(()=>gv(this.database,i));return rA(n,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(n){return new(n||t)(g(Pi),g(Qs,8),g(oA,8),g(Me),g(U),g(hn),g(sA,8),g(Js,8),g(td,8),g(nd,8),g(id,8),g(rd,8),g(od,8),g(sd,8),g(Wt,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var nr=(()=>{let e=class e{constructor(n){this.db=n,this.dbPath="/exercises",this.exercisesRef=n.list(this.dbPath,r=>r.orderByChild("user").equalTo(localStorage.getItem("user")))}getAllExercises(){return this.exercisesRef}getExercise(n){return this.db.object(`${this.dbPath}/${n}`)}addExercise(n){this.exercisesRef.push(n)}updateExercise(n,r){this.exercisesRef.update(n,r)}deleteExercise(n){return this.exercisesRef.remove(n)}};e.\u0275fac=function(r){return new(r||e)(g(xn))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aA=["newExerciseForm"];function cA(t,e){t&1&&(m(0,"div",7),_(1,"Gyakorlat neve k\xF6telez\u0151!"),b())}function lA(t,e){t&1&&(m(0,"div",7),_(1,"Izomcsoport k\xF6telez\u0151!"),b())}function dA(t,e){if(t&1){let i=ot();m(0,"div",21)(1,"mat-card",22)(2,"mat-card-header"),V(3,"div",23),m(4,"mat-card-title"),_(5),V(6,"br"),_(7),b()(),V(8,"img",24),m(9,"mat-card-actions",25)(10,"button",26),$("click",function(){let r=Se(i).$implicit,o=ie();return Te(o.editExercise(r.id))}),_(11,"M\xF3dos\xEDt\xE1s"),b(),m(12,"button",27),$("click",function(){let r=Se(i).$implicit,o=ie();return Te(o.removeExercise(r.id))}),_(13,"T\xF6rl\xE9s"),b()()()()}if(t&2){let i=e.$implicit,n=ie();T(5),bt(i.name),T(2),zt("Izom: ",i.muscleType,""),T(),pe("src","assets/"+n.getImagePath(i.muscleType),Kh)}}var Av=(()=>{let e=class e{ngOnInit(){this.getAllExercises(localStorage.getItem("user"))}constructor(n,r){this.fb=n,this.dataService=r,this.exercises=[],this.exerciseId="",this.localStorage=localStorage,this.exerciseForm=this.fb.group({name:new we("",[Ze.required]),muscleType:new we("",[Ze.required]),user:new we("")})}emptyForm(){this.exerciseForm.reset(),this.exerciseForm.setValue({name:"",muscleType:"",user:localStorage.getItem("user")}),this.exerciseId=""}getAllExercises(n){this.dataService.getAllExercises().snapshotChanges().subscribe({next:r=>{this.exercises=[],r.forEach(o=>{let s=o.payload.toJSON();this.exercises.push({id:o.key||"",name:s.name,muscleType:s.muscleType,user:s.user})})}})}editExercise(n){this.newExerciseForm.nativeElement.scrollIntoView({behavior:"smooth",block:"end",inline:"start"}),this.getExercise(n),this.exerciseId=n}getExercise(n){this.dataService.getExercise(n).snapshotChanges().subscribe({next:r=>{let o=r.payload.toJSON();this.exerciseForm.setValue(o)}})}removeExercise(n){this.dataService.deleteExercise(n)}onSubmit(){this.exerciseForm.valid?(this.exerciseId!=""?this.dataService.updateExercise(this.exerciseId,this.exerciseForm.value):this.dataService.addExercise(this.exerciseForm.value),this.exerciseForm.reset(),this.exerciseForm.setValue({name:"",muscleType:"",user:localStorage.getItem("user")})):this.exerciseForm.markAllAsTouched()}getImagePath(n){switch(console.log(n),n){case"H\xE1t":return"backIcon.png";case"Mell":return"chest.png";case"Bicepsz":return"biceps.png";case"Tricepsz":return"triceps.png";case"L\xE1b":return"leg.png";case"V\xE1ll":return"shoulder.png"}return""}};e.\u0275fac=function(r){return new(r||e)(f(Ri),f(nr))},e.\u0275cmp=B({type:e,selectors:[["app-dashboard"]],viewQuery:function(r,o){if(r&1&&Nn(aA,5),r&2){let s;Vt(s=Ut())&&(o.newExerciseForm=s.first)}},standalone:!0,features:[W],decls:35,vars:4,consts:[["newExerciseForm",""],[1,"container-fluid"],[3,"submit","formGroup"],["id","newExerciseForm",1,"row","mt-4"],[1,"col-md-1"],[1,"col-md-5"],["id","exerciseName","placeholder","Gyakorlat neve...","name","name","formControlName","name",1,"form-control","border-dark"],[1,"from-text","text-danger","fw-bold","mt-2"],["id","muscleType","name","muscleType","formControlName","muscleType",1,"form-select","border-dark"],["value",""],["value","Mell"],["value","H\xE1t"],["value","V\xE1ll"],["value","Bicepsz"],["value","Tricepsz"],["value","L\xE1b"],["type","hidden","name","user","formControlName","user",3,"ngModel"],["type","submit",1,"btn","btn-outline-success","mx-1"],["type","button",1,"btn","btn-outline-danger","mx-1",3,"click"],[2,"color","black","opacity","100%"],[1,"row","d-flex","justify-content-center","mt-3"],[1,"col-auto","my-3"],[1,"border","border-dark","h-100"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","",3,"src"],[2,"margin-top","auto","text-align","center"],["mat-raised-button","","color","primary","type","button",1,"mx-1",3,"click"],["mat-raised-button","","color","warn",1,"mx-1",3,"click"]],template:function(r,o){if(r&1){let s=ot();m(0,"div",1)(1,"form",2),$("submit",function(){return Se(s),Te(o.onSubmit())}),m(2,"div",3,0),V(4,"div",4),m(5,"div",5),V(6,"input",6),fe(7,cA,2,0,"div",7),b(),m(8,"div",5)(9,"select",8)(10,"option",9),_(11,"V\xE1lassz izomcsoportot..."),b(),m(12,"option",10),_(13,"Mell"),b(),m(14,"option",11),_(15,"H\xE1t"),b(),m(16,"option",12),_(17,"V\xE1ll"),b(),m(18,"option",13),_(19,"Bicepsz"),b(),m(20,"option",14),_(21,"Tricepsz"),b(),m(22,"option",15),_(23,"L\xE1b"),b()(),fe(24,lA,2,0,"div",7),b(),V(25,"input",16),m(26,"div",4)(27,"button",17),_(28,"\u2713"),b(),m(29,"button",18),$("click",function(){return Se(s),Te(o.emptyForm())}),_(30,"x"),b()()()(),V(31,"hr",19),m(32,"div",20),Ct(33,dA,14,3,"div",21,jt),b()()}if(r&2){let s,a;T(),pe("formGroup",o.exerciseForm),T(6),_e(7,(s=o.exerciseForm.get("name"))!=null&&s.hasError("required")&&((s=o.exerciseForm.get("name"))!=null&&s.touched)?7:-1),T(17),_e(24,(a=o.exerciseForm.get("muscleType"))!=null&&a.hasError("required")&&((a=o.exerciseForm.get("muscleType"))!=null&&a.touched)?24:-1),T(),pe("ngModel",o.localStorage.getItem("user")),T(8),xt(o.exercises)}},dependencies:[Mi,un,Ws,Hs,Dt,ki,ln,dn,Gs,Kr,Yr,Zp,eg,Jp,tg,ng,Xp]});let t=e;return t})();function Dv(t){return new Be(function(e){var i=as(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:i}})}var kv="auth",ti=class{constructor(e){return e}},_h=class{constructor(){return Gl(kv)}};var yh=new x("angularfire2.auth-instances");function aS(t,e){let i=tp(kv,t,e);return i&&new ti(i)}function cS(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new ti(n)}}var lS={provide:_h,deps:[[new pt,yh]]},dS={provide:ti,useFactory:aS,deps:[[new pt,yh],Bn]},uS=(()=>{class t{constructor(){Le("angularfire",zn.full,"auth")}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=K({providers:[dS,lS]})}return t})();function Rv(t,...e){return{ngModule:uS,providers:[{provide:yh,useFactory:cS(t),multi:!0,deps:[U,Xt,hn,Xr,[new pt,Wt],...e]}]}}var Mv=Zr(Dv,!0);var Nv=Zr(Mc,!0);var Pv=S(t=>!!t),ic=(()=>{class t{router;auth;constructor(i,n){this.router=i,this.auth=n}canActivate=(i,n)=>{let r=i.data.authGuardPipe||(()=>Pv);return Mv(this.auth).pipe(Fe(1),r(i,n),S(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(n){return new(n||t)(g(ct),g(ti))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Fv=t=>Vo(Pv,S(e=>e||t));var In=(()=>{let e=class e{constructor(n){this.db=n,this.dbPath="/execiseloginfos",this.exerciseLogInfoRef=n.list(this.dbPath)}getAllExerciseLogInfo(){return this.exerciseLogInfoRef}getExerciseLogInfo(n){return this.db.object(`${this.dbPath}/${n}`)}addExerciseLogInfo(n){this.exerciseLogInfoRef.push(n)}updateExerciseLogInfo(n,r){this.exerciseLogInfoRef.update(n,r)}deleteExerciseLogInfo(n){return this.exerciseLogInfoRef.remove(n)}getAllExerciseInfoByLogKey(n){return this.db.list(this.dbPath,r=>r.orderByChild("exerciseLogId").equalTo(n))}};e.\u0275fac=function(r){return new(r||e)(g(xn))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oc=(()=>{let e=class e{constructor(n,r){this.db=n,this.exerciseInfoLogService=r,this.dbPath="/execiselogs",this.exerciseLogRef=n.list(this.dbPath)}getAllExerciseLog(n){return this.db.list(this.dbPath,r=>r.orderByChild("sessionNumber").equalTo(n))}getExerciseLog(n){return this.db.object(`${this.dbPath}/${n}`)}addExerciseLog(n){return this.exerciseLogRef.push(n).key}exerciseLogIsAlreadyIn(n){this.db.list(this.dbPath)}updateExerciseLog(n,r){this.exerciseLogRef.update(n,r)}deleteExerciseLog(n){return this.exerciseLogRef.remove(n)}};e.\u0275fac=function(r){return new(r||e)(g(xn),g(In))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ir=(()=>{let e=class e{constructor(n,r){this.db=n,this.exerciseInfoLogService=r,this.dbPath="/gymsession",this.openSessionCounter=0,this.gymSessionRef=n.list(this.dbPath,o=>o.orderByChild("userId").equalTo(localStorage.getItem("user")))}getAllGymSession(){return this.gymSessionRef}getGymSession(n){return this.db.object(`${this.dbPath}/${n}`)}addGymSession(n){return this.gymSessionRef.push(n).key}updateGymSession(n,r){this.gymSessionRef.update(n,r)}haveOpenSessionId(n){return this.db.list(this.dbPath,r=>r.orderByChild("userId").equalTo(n))}deleteGymSession(n){this.gymSessionRef.remove(n)}};e.\u0275fac=function(r){return new(r||e)(g(xn),g(In))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mS(t,e){if(t&1&&(m(0,"option",8),_(1),b()),t&2){let i=e.$implicit;Yo("value",i.id),T(),bt(i.name)}}function fS(t,e){t&1&&(m(0,"div",9),_(1,"Gyakorlat neve k\xF6telez\u0151!"),b())}function pS(t,e){t&1&&(m(0,"div",9),_(1,"S\xFAly megad\xE1sa k\xF6telez\u0151!"),b())}function gS(t,e){t&1&&(m(0,"div",9),_(1,"Ism\xE9tl\xE9ssz\xE1m megad\xE1sa k\xF6telez\u0151!"),b())}function bS(t,e){t&1&&(m(0,"div",9),_(1,"Gyakorlat t\xEDpusa k\xF6telez\u0151!"),b())}function vS(t,e){if(t&1){let i=ot();m(0,"tr")(1,"td",40),_(2,"S\xFAly: "),m(3,"b"),_(4),b()(),m(5,"td",40),_(6,"Ism\xE9tl\xE9s: "),m(7,"b"),_(8),b()(),m(9,"td")(10,"button",41),$("click",function(){Se(i);let r=ie().$implicit,o=ie(2);return Te(o.deleteExerciseLogInfo(r.id))}),_(11,"x"),b()()()}if(t&2){let i=ie().$implicit;en(i.type?"text-danger":"success-success"),T(4),zt("",i.weight," kg"),T(4),zt("",i.rep," db")}}function _S(t,e){if(t&1&&fe(0,vS,12,5,"tr",39),t&2){let i=e.$implicit,n=ie().$implicit;_e(0,i.exerciseLogId==n.id?0:-1)}}function yS(t,e){if(t&1){let i=ot();m(0,"div",25)(1,"div",26)(2,"div",27)(3,"h1",28),_(4),b(),m(5,"h4",29),_(6,"Izomcsoport: "),m(7,"b"),_(8),b()(),m(9,"table",30),Ct(10,_S,1,1,null,null,em),b(),m(12,"form",4),$("submit",function(){let r=Se(i).$implicit,o=ie();return Te(o.onSubmitInfo(r.id))}),m(13,"div",31)(14,"div",32),V(15,"input",33)(16,"input",34),m(17,"select",35)(18,"option",14),_(19,"Rendes"),b(),m(20,"option",13),_(21,"Bemeleg\xEDt\xE9s"),b()(),V(22,"input",36)(23,"input",37),b()()(),m(24,"div",5)(25,"button",38),$("click",function(){let r=Se(i).$implicit,o=ie();return Te(o.deleteExerciseLog(r.id))}),_(26,"T\xF6rl\xE9s"),b()()()()()}if(t&2){let i=e.$index,n=ie();T(4),bt(n.usedExercise[i]?n.usedExercise[i].name:"SZ\xD6VEG"),T(4),bt(n.usedExercise[i]?n.usedExercise[i].muscleType:"SZ\xD6VEG"),T(2),xt(n.usedExerciseInfos),T(2),pe("formGroup",n.exerciseLogInfoForm)}}var Lv=(()=>{let e=class e{ngOnInit(){this.getAllExerciseLog()}constructor(n,r,o,s,a,c){this.fb=n,this.exerciseLogService=r,this.dataService=o,this.exerciseLogInfoService=s,this.gymSessionService=a,this.router=c,this.exerciseLogs=[],this.exercises=[],this.usedExercise=[],this.usedExerciseInfos=[],this.sessionNumber="",this.sumWeight=0,this.sumRep=0,this.localStorage=localStorage,this.exerciseLogForm=this.fb.group({exerciseId:new we("",[Ze.required]),startWeight:new we("",[Ze.required]),rep:new we("",[Ze.required]),warmUp:new we("",[Ze.required]),user:new we("")}),this.exerciseLogInfoForm=this.fb.group({exerciseLogId:new we(""),weight:new we("",[Ze.required]),rep:new we("",[Ze.required]),type:new we("",[Ze.required])})}getAllExerciseLog(){this.gymSessionService.haveOpenSessionId(localStorage.getItem("user")||"").snapshotChanges().subscribe({next:n=>{n.forEach(r=>{r.payload.toJSON().finished||(this.sessionNumber=r.key||"",this.exerciseLogService.getAllExerciseLog(this.sessionNumber).snapshotChanges().subscribe({next:s=>{this.exerciseLogs=[],this.usedExercise=[],this.usedExerciseInfos=[],this.sumWeight=0,this.sumRep=0,s.forEach(a=>{let c=a.payload.toJSON();this.exerciseLogs.push({id:a.key||"",exerciseId:c.exerciseId,sessionNumber:c.sessionNumber}),this.exerciseLogInfoService.getAllExerciseLogInfo().snapshotChanges().subscribe({next:l=>{l.forEach(d=>{let u=d.payload.toJSON();u.exerciseLogId==a.key&&(this.usedExerciseInfos.push({id:d.key||"",exerciseLogId:u.exerciseLogId,weight:u.weight,rep:u.rep,type:u.type}),this.sumWeight+=u.weight*u.rep,this.sumRep+=u.rep)})}}),this.dataService.getExercise(c.exerciseId).snapshotChanges().subscribe({next:l=>{let d=l.payload.toJSON();this.usedExercise.push({id:l.key||"",name:d.name,muscleType:d.muscleType,user:d.user})}})})}}))})}}),this.dataService.getAllExercises().snapshotChanges().subscribe({next:n=>{n.forEach(r=>{let o=r.payload.toJSON();this.exercises.push({id:r.key||"",name:o.name,muscleType:o.muscleType,user:o.user})})}})}deleteExerciseLog(n){this.exerciseLogService.deleteExerciseLog(n),this.usedExerciseInfos=[],this.sumWeight=0,this.sumRep=0}deleteExerciseLogInfo(n){this.exerciseLogInfoService.deleteExerciseLogInfo(n),this.usedExerciseInfos=[],this.sumWeight=0,this.sumRep=0}onSubmit(){if(this.exerciseLogForm.valid){let n=!1,r=new Date,o=r.getFullYear(),s=(r.getMonth()+1).toString().padStart(2,"0"),a=r.getDate().toString().padStart(2,"0");this.sessionNumber==""&&(this.sessionNumber=this.gymSessionService.addGymSession({id:"1",date:`${o}-${s}-${a}`,finished:!1,totalWeight:0,repCounter:0,userId:localStorage.getItem("user")||""}));for(let l=0;l<this.usedExercise.length;l++)this.usedExercise[l].id==this.exerciseLogForm.controls.exerciseId.value&&(n=!0);let c="";n?alert("Ez m\xE1r hozz\xE1 van adva! K\xE9rlek \xFAj sort a k\xE1rty\xE1n adj meg!"):(c=this.exerciseLogService.addExerciseLog({id:"1",exerciseId:this.exerciseLogForm.controls.exerciseId.value,sessionNumber:this.sessionNumber||""}),this.exerciseLogInfoService.addExerciseLogInfo({id:"1",exerciseLogId:c,weight:parseInt(this.exerciseLogForm.controls.startWeight.value),rep:parseInt(this.exerciseLogForm.controls.rep.value),type:this.exerciseLogForm.controls.warmUp.value=="true"})),this.exerciseLogForm.reset(),this.exerciseLogForm.setValue({exerciseId:"",warmUp:"",startWeight:"",rep:"",user:localStorage.getItem("user")}),this.router.navigate(["/exercise-logger"])}else this.exerciseLogForm.markAllAsTouched()}onSubmitInfo(n){this.usedExerciseInfos=[],this.sumWeight=0,this.sumRep=0,this.exerciseLogInfoForm.valid?(this.exerciseLogInfoService.addExerciseLogInfo({id:"1",exerciseLogId:n,weight:+this.exerciseLogInfoForm.controls.weight.value,rep:+this.exerciseLogInfoForm.controls.weight.value,type:this.exerciseLogInfoForm.controls.type.value=="true"}),this.exerciseLogInfoForm.reset()):this.exerciseLogInfoForm.markAllAsTouched()}finishWorkout(n){this.gymSessionService.getGymSession(n).snapshotChanges().subscribe({next:o=>{let s=o.payload.toJSON();s.finished=!0,s.totalWeight=this.sumWeight,s.repCounter=this.sumRep,this.gymSessionService.updateGymSession(n,s),this.router.navigate(["/exercise-info"])}})}};e.\u0275fac=function(r){return new(r||e)(f(Ri),f(oc),f(nr),f(In),f(ir),f(ct))},e.\u0275cmp=B({type:e,selectors:[["app-exercise-logger"]],standalone:!0,features:[W],decls:58,vars:10,consts:[["xmlns","http://www.w3.org/1999/html",1,"container-fluid"],[1,"row","mt-3"],[1,"col-md-4"],[1,"p-3","border","border-2","border-dark","rounded-3"],[3,"submit","formGroup"],[1,"text-center"],["id","exerciseId","name","exerciseId","formControlName","exerciseId",1,"form-select","border-dark","mt-2"],["value",""],[3,"value"],[1,"from-text","text-danger","fw-bold","mt-2"],["type","number","id","startWeight","placeholder","Mozgatott s\xFAly (kg)...","name","startWeight","formControlName","startWeight",1,"form-control","border-dark","mt-2"],["type","number","id","rep","placeholder","Ism\xE9tl\xE9ssz\xE1m (db)...","name","rep","formControlName","rep",1,"form-control","border-dark","mt-2"],["id","warmUp","name","warmUp","formControlName","warmUp",1,"form-select","border-dark","mt-2"],["value","true"],["value","false"],["type","hidden","name","user","formControlName","user",3,"ngModel"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-3"],[1,"border","border-2","border-dark","rounded-3","mt-2"],[1,"row","pt-2"],[1,"col-md-4","text-center"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-md-8"],[1,"row","d-flex","justify-content-center"],[1,"col-auto","mt-3"],[1,"card","text-center","border","border-2","border-dark",2,"width","21rem"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[1,"table","border","border-dark","rounded"],[1,"row","mb-3"],[1,"input-group"],["type","number","name","weight","placeholder","S\xFAly...","formControlName","weight",1,"form-control","form-control-sm","border-dark"],["type","number","name","rep","placeholder","Ism\xE9tl\xE9s...","formControlName","rep",1,"form-control","form-control-sm","border-dark"],["name","type","formControlName","type",1,"form-control","form-control-sm","border-dark"],["type","hidden","formControlName","exerciseLogId"],["type","submit","value","\u2713",1,"btn","btn-outline-success","btn-sm"],[1,"btn","btn-danger","mx-1",3,"click"],[3,"class"],[1,"text-left"],[1,"btn","btn-sm",3,"click"]],template:function(r,o){if(r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),$("submit",function(){return o.onSubmit()}),m(5,"h1",5),_(6,"\xDAj gyakorlat hozz\xE1ad\xE1sa"),b(),m(7,"select",6)(8,"option",7),_(9,"V\xE1lassz gyakorlatot..."),b(),Ct(10,mS,2,2,"option",8,jt),b(),fe(12,fS,2,0,"div",9),V(13,"input",10),fe(14,pS,2,0,"div",9),V(15,"input",11),fe(16,gS,2,0,"div",9),m(17,"select",12)(18,"option",7),_(19,"Bemeleg\xEDt\xE9s?"),b(),m(20,"option",13),_(21,"Igen"),b(),m(22,"option",14),_(23,"Nem"),b()(),fe(24,bS,2,0,"div",9),V(25,"input",15),m(26,"div",16)(27,"button",17),_(28,"Hozz\xE1ad\xE1s"),b()()()(),m(29,"div",18)(30,"h4",5),_(31),b(),m(32,"div",19)(33,"div",20)(34,"h1"),_(35),b(),m(36,"h4")(37,"b"),_(38,"GYAKORLAT"),b()()(),m(39,"div",20)(40,"h1"),_(41),b(),m(42,"h4")(43,"b"),_(44,"KG"),b()()(),m(45,"div",20)(46,"h1"),_(47),b(),m(48,"h4")(49,"b"),_(50,"EMEL\xC9SEK"),b()()()()(),m(51,"div",21)(52,"button",22),$("click",function(){return o.finishWorkout(o.sessionNumber)}),_(53,"Befejez\xE9s"),b()()(),m(54,"div",23)(55,"div",24),Ct(56,yS,27,3,"div",25,jt),b()()()()),r&2){let s,a,c,l;T(4),pe("formGroup",o.exerciseLogForm),T(6),xt(o.exercises),T(2),_e(12,(s=o.exerciseLogForm.get("exerciseId"))!=null&&s.hasError("required")&&((s=o.exerciseLogForm.get("exerciseId"))!=null&&s.touched)?12:-1),T(2),_e(14,(a=o.exerciseLogForm.get("startWeight"))!=null&&a.hasError("required")&&((a=o.exerciseLogForm.get("startWeight"))!=null&&a.touched)?14:-1),T(2),_e(16,(c=o.exerciseLogForm.get("rep"))!=null&&c.hasError("required")&&((c=o.exerciseLogForm.get("rep"))!=null&&c.touched)?16:-1),T(8),_e(24,(l=o.exerciseLogForm.get("warmUp"))!=null&&l.hasError("required")&&((l=o.exerciseLogForm.get("warmUp"))!=null&&l.touched)?24:-1),T(),pe("ngModel",o.localStorage.getItem("user")),T(6),zt("SessionID: ",o.sessionNumber==""?"Nincs":o.sessionNumber,""),T(4),bt(o.usedExercise.length==0?0:o.usedExercise.length),T(6),bt(o.sumWeight),T(6),bt(o.sumRep),T(9),xt(o.exerciseLogs)}},dependencies:[Gs,un,Ws,Hs,Dt,Wl,ki,ln,dn,Kr,Yr]});let t=e;return t})();var sc=(()=>{let e=class e{constructor(){this._listeners=[]}notify(n,r){for(let o of this._listeners)o(n,r)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(r=>n!==r)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vv=new x("CdkAccordion");var wS=0,Uv=(()=>{let e=class e{get expanded(){return this._expanded}set expanded(n){if(this._expanded!==n){if(this._expanded=n,this.expandedChange.emit(n),n){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(n,r,o){this.accordion=n,this._changeDetectorRef=r,this._expansionDispatcher=o,this._openCloseAllSubscription=Ot.EMPTY,this.closed=new J,this.opened=new J,this.destroyed=new J,this.expandedChange=new J,this.id=`cdk-accordion-child-${wS++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((s,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(n=>{this.disabled||(this.expanded=n)})}};e.\u0275fac=function(r){return new(r||e)(f(Vv,12),f(Ke),f(sc))},e.\u0275dir=F({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[k.HasDecoratorInputTransform,"expanded","expanded",ee],disabled:[k.HasDecoratorInputTransform,"disabled","disabled",ee]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Ee([{provide:Vv,useValue:void 0}]),Ne]});let t=e;return t})();var Oo=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Eh=class extends Oo{constructor(e,i,n,r,o){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Lo=class extends Oo{constructor(e,i,n,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Ch=class extends Oo{constructor(e){super(),this.element=e instanceof ae?e.nativeElement:e}},xh=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Eh)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Lo)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Ch)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var zv=(()=>{let e=class e extends xh{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new J,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(r){return new(r||e)(f(Qh),f(si),f(H))},e.\u0275dir=F({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[k.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ve]});let t=e;return t})();var xS=["body"],IS=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],AS=["mat-expansion-panel-header","*","mat-action-row"];function SS(t,e){}var TS=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],DS=["mat-panel-title","mat-panel-description","*"];function kS(t,e){if(t&1&&(m(0,"span",1),Go(),m(1,"svg",2),V(2,"path",3),b()()),t&2){let i=ie();pe("@indicatorRotate",i._getExpandedState())}}var Bv=new x("MAT_ACCORDION"),$v="225ms cubic-bezier(0.4,0.0,0.2,1)",Hv={indicatorRotate:Nc("indicatorRotate",[gr("collapsed, void",pr({transform:"rotate(0deg)"})),gr("expanded",pr({transform:"rotate(180deg)"})),Fc("expanded <=> collapsed, void => collapsed",Pc($v))]),bodyExpansion:Nc("bodyExpansion",[gr("collapsed, void",pr({height:"0px",visibility:"hidden"})),gr("expanded",pr({height:"*",visibility:""})),Fc("expanded <=> collapsed, void => collapsed",Pc($v))])},Gv=new x("MAT_EXPANSION_PANEL"),RS=(()=>{let e=class e{constructor(n,r){this._template=n,this._expansionPanel=r}};e.\u0275fac=function(r){return new(r||e)(f(yc),f(Gv,8))},e.\u0275dir=F({type:e,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let t=e;return t})(),MS=0,qv=new x("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Ih=(()=>{let e=class e extends Uv{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(n){this._hideToggle=n}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(n){this._togglePosition=n}constructor(n,r,o,s,a,c,l){super(n,r,o),this._viewContainerRef=s,this._animationMode=c,this._hideToggle=!1,this.afterExpand=new J,this.afterCollapse=new J,this._inputChanges=new Ae,this._headerId=`mat-expansion-panel-header-${MS++}`,this.accordion=n,this._document=a,this._animationsDisabled=c==="NoopAnimations",l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ni(null),Re(()=>this.expanded&&!this._portal),Fe(1)).subscribe(()=>{this._portal=new Lo(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(n){this._inputChanges.next(n)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let n=this._document.activeElement,r=this._body.nativeElement;return n===r||r.contains(n)}return!1}_animationStarted(n){!Wv(n)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(n){Wv(n)||(n.toState==="expanded"?this.afterExpand.emit():n.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};e.\u0275fac=function(r){return new(r||e)(f(Bv,12),f(Ke),f(sc),f(si),f(H),f(We,8),f(qv,8))},e.\u0275cmp=B({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(r,o,s){if(r&1&&Cc(s,RS,5),r&2){let a;Vt(a=Ut())&&(o._lazyContent=a.first)}},viewQuery:function(r,o){if(r&1&&Nn(xS,5),r&2){let s;Vt(s=Ut())&&(o._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(r,o){r&2&&ce("mat-expanded",o.expanded)("_mat-animation-noopable",o._animationsDisabled)("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{hideToggle:[k.HasDecoratorInputTransform,"hideToggle","hideToggle",ee],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Ee([{provide:Bv,useValue:void 0},{provide:Gv,useExisting:e}]),Ne,ve,rt,W],ngContentSelectors:AS,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,o){if(r&1){let s=ot();He(IS),me(0),m(1,"div",1,0),$("@bodyExpansion.start",function(c){return Se(s),Te(o._animationStarted(c))})("@bodyExpansion.done",function(c){return Se(s),Te(o._animationDone(c))}),m(3,"div",2),me(4,1),fe(5,SS,0,0,"ng-template",3),b(),me(6,2),b()}r&2&&(T(),pe("@bodyExpansion",o._getExpandedState())("id",o.id),De("aria-labelledby",o._headerId),T(4),pe("cdkPortalOutlet",o._portal))},dependencies:[zv],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Hv.bodyExpansion]},changeDetection:0});let t=e;return t})();function Wv(t){return t.fromState==="void"}var Kv=(()=>{let e=class e{constructor(n,r,o,s,a,c,l){this.panel=n,this._element=r,this._focusMonitor=o,this._changeDetectorRef=s,this._animationMode=c,this._parentChangeSubscription=Ot.EMPTY,this.tabIndex=0;let d=n.accordion?n.accordion._stateChanges.pipe(Re(u=>!!(u.hideToggle||u.togglePosition))):wt;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Tn(n.opened,n.closed,d,n._inputChanges.pipe(Re(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),n.closed.pipe(Re(()=>n._containsFocus())).subscribe(()=>o.focusVia(r,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let n=this._isExpanded();return n&&this.expandedHeight?this.expandedHeight:!n&&this.collapsedHeight?this.collapsedHeight:null}_keydown(n){switch(n.keyCode){case 32:case 13:Cp(n)||(n.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(n);return}}focus(n,r){n?this._focusMonitor.focusVia(this._element,n,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(n=>{n&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};e.\u0275fac=function(r){return new(r||e)(f(Ih,1),f(ae),f(ji),f(Ke),f(qv,8),f(We,8),Rn("tabindex"))},e.\u0275cmp=B({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(r,o){r&1&&$("click",function(){return o._toggle()})("keydown",function(a){return o._keydown(a)}),r&2&&(De("id",o.panel._headerId)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),Jh("height",o._getHeaderHeight()),ce("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after",o._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",o._getTogglePosition()==="before")("_mat-animation-noopable",o._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[k.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>n==null?0:ur(n)]},standalone:!0,features:[Ne,W],ngContentSelectors:DS,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(r,o){r&1&&(He(TS),m(0,"span",0),me(1),me(2,1),me(3,2),b(),fe(4,kS,3,1,"span",1)),r&2&&(ce("mat-content-hide-toggle",!o._showToggle()),T(4),_e(4,o._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Hv.indicatorRotate]},changeDetection:0});let t=e;return t})(),Yv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0});let t=e;return t})(),Qv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let t=e;return t})();var Zv=(()=>{let e=class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(n){this._vertical=ta(n)}get inset(){return this._inset}set inset(n){this._inset=ta(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=B({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,o){r&2&&(De("aria-orientation",o.vertical?"vertical":"horizontal"),ce("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[W],decls:0,vars:0,template:function(r,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let t=e;return t})();function NS(t,e){if(t&1&&(_(0),V(1,"br")),t&2){let i=ie().$implicit;nm(" ",i.weight," kg / ",i.rep," db / ",i.type?"Bemeleg\xEDt\xE9s":"Rendes","")}}function PS(t,e){if(t&1&&fe(0,NS,2,3,"br"),t&2){let i=e.$implicit,n=ie(2).$implicit;_e(0,n.id==i.exerciseLogId?0:-1)}}function FS(t,e){if(t&1&&(m(0,"div",6)(1,"b"),_(2),b(),V(3,"br"),Ct(4,PS,1,1,null,null,jt),b()),t&2){let i=ie().$index,n=ie(3);T(2),xc("",n.exerciseList[i]?n.exerciseList[i].name:"SZ\xD6VEG"," (",n.exerciseList[i]?n.exerciseList[i].muscleType:"SZ\xD6VEG","):"),T(2),xt(n.usedExerciseInfos)}}function OS(t,e){if(t&1&&fe(0,FS,6,2,"div",6),t&2){let i=e.$implicit,n=ie().$implicit;_e(0,i.sessionNumber==n.id?0:-1)}}function LS(t,e){if(t&1&&(m(0,"div",2)(1,"mat-expansion-panel",3)(2,"mat-expansion-panel-header",4)(3,"mat-panel-title")(4,"b"),_(5),V(6,"br"),_(7),b()(),m(8,"mat-panel-description"),_(9," Megemelt s\xFAly / \xF6sszes ism\xE9tl\xE9s: "),m(10,"b"),_(11),b()()(),V(12,"mat-divider"),m(13,"div",5),Ct(14,OS,1,1,null,null,jt),b()()()),t&2){let i=e.$implicit,n=ie(2);T(2),pe("collapsedHeight","150px")("expandedHeight","150px"),T(3),zt("SessionId:",i.id,""),T(2),bt(i.date),T(4),xc("",i.totalWeight," kg / ",i.repCounter," db"),T(3),xt(n.exerciseLogs)}}function jS(t,e){if(t&1&&(m(0,"div",1),Ct(1,LS,16,6,"div",2,jt),b()),t&2){let i=ie();T(),xt(i.gymSessions)}}var Xv=(()=>{let e=class e{constructor(n,r,o,s,a){this.fb=n,this.exerciseLogService=r,this.dataService=o,this.exerciseLogInfoService=s,this.gymSessionService=a,this.gymSessions=[],this.exerciseLogs=[],this.exerciseList=[],this.usedExerciseInfos=[],this.sessionNumber="",this.isLoaded=!1}ngOnInit(){this.getAllExerciseInfo()}getAllExerciseInfo(){this.gymSessionService.getAllGymSession().snapshotChanges().subscribe({next:n=>{n.forEach(r=>{let o=r.payload.toJSON();this.gymSessions.push({id:r.key||"",date:o.date,totalWeight:o.totalWeight,repCounter:o.repCounter,userId:o.userId,finished:o.finished}),this.exerciseLogService.getAllExerciseLog(r.key||"").snapshotChanges().subscribe({next:s=>{s.forEach(a=>{let c=a.payload.toJSON();this.exerciseLogs.push({id:a.key||"",exerciseId:c.exerciseId,sessionNumber:c.sessionNumber}),this.dataService.getExercise(c.exerciseId).snapshotChanges().subscribe({next:l=>{let d=l.payload.toJSON();console.log(c.exerciseId),d&&this.exerciseList.push({muscleType:d.muscleType,name:d.name,user:d.user,id:l.key||""})}}),this.exerciseLogInfoService.getAllExerciseInfoByLogKey(a.key||"").snapshotChanges().subscribe({next:l=>{l.forEach(d=>{let u=d.payload.toJSON();this.usedExerciseInfos.push({id:d.key||"",exerciseLogId:u.exerciseLogId,rep:u.rep,type:u.type,weight:u.weight})}),this.isLoaded=!0}})})}})})}})}};e.\u0275fac=function(r){return new(r||e)(f(Ri),f(oc),f(nr),f(In),f(ir))},e.\u0275cmp=B({type:e,selectors:[["app-exercise-info"]],standalone:!0,features:[W],decls:1,vars:1,consts:[["class","row d-flex justify-content-center",4,"ngIf"],[1,"row","d-flex","justify-content-center"],[1,"col-md-12","my-1"],["hideToggle",""],[3,"collapsedHeight","expandedHeight"],[1,"row"],[1,"col-auto","border","border-1","rounded-2","border-dark","p-2","mx-2"]],template:function(r,o){r&1&&fe(0,jS,3,0,"div",0),r&2&&pe("ngIf",o.isLoaded)},dependencies:[Ih,Qv,Yv,Kv,Zv,am]});let t=e;return t})();var Ah=()=>Fv(["/login"]),Jv=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:yp},{path:"register",component:ig},{path:"dashboard",component:Av,canActivate:[ic],data:{authGuardPipe:Ah}},{path:"exercise-logger",component:Lv,canActivate:[ic],data:{authGuardPipe:Ah}},{path:"exercise-info",component:Xv,canActivate:[ic],data:{authGuardPipe:Ah}}];var VS="@",US=(()=>{let e=class e{constructor(n,r,o,s,a){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=C(Yh,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-AC3P6BSV.js")).catch(r=>{throw new Z(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new Sh(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(n,r);s.use(c)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){dr()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Sh=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,n,r){this.delegate.insertBefore(e,i,n,r)}removeChild(e,i,n){this.delegate.removeChild(e,i,n)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,r){this.delegate.setAttribute(e,i,n,r)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,r){this.delegate.setStyle(e,i,n,r)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,n)),this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,n)),this.delegate.listen(e,i,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(VS)}};function ac(t="animations"){return wc("NgAsyncAnimations"),kn([{provide:qo,useFactory:(e,i,n)=>new US(e,i,n,t),deps:[H,ps,U]},{provide:We,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var e_={apiKey:"AIzaSyCeH6_yoxg3IIuopqMSIy-kpoWCRJ5cmsA",authDomain:"rep-recorder-12563.firebaseapp.com",databaseURL:"https://rep-recorder-12563-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rep-recorder-12563",storageBucket:"rep-recorder-12563.appspot.com",messagingSenderId:"917984238897",appId:"1:917984238897:web:ccd913cca08ba448e6a410"},t_={providers:[{provide:Pi,useValue:e_},wf(Jv),Mm(),Lh([ip(()=>rp(e_)),Rv(()=>Nv())]),ac(),ac(),ac()]};var zS=0,n_="mat-badge-content",cc=new Set,BS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=B({type:e,selectors:[["ng-component"]],standalone:!0,features:[W],decls:0,vars:0,template:function(r,o){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0});let t=e;return t})(),i_=(()=>{let e=class e{get color(){return this._color}set color(n){this._setColor(n),this._color=n}get content(){return this._content}set content(n){this._updateRenderedContent(n)}get description(){return this._description}set description(n){this._updateDescription(n)}constructor(n,r,o,s,a){this._ngZone=n,this._elementRef=r,this._ariaDescriber=o,this._renderer=s,this._animationMode=a,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=zS++,this._isInitialized=!1,this._interactivityChecker=C(Pp),this._document=C(H);let c=C(ui);if(!cc.has(c)){cc.add(c);let l=rm(BS,{environmentInjector:C(Zt)});c.onDestroy(()=>{cc.delete(c),cc.size===0&&l.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let n=this._renderer.createElement("span"),r="mat-badge-active";return n.setAttribute("id",`mat-badge-content-${this._id}`),n.setAttribute("aria-hidden","true"),n.classList.add(n_),this._animationMode==="NoopAnimations"&&n.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(n),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{n.classList.add(r)})}):n.classList.add(r),n}_updateRenderedContent(n){let r=`${n??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateDescription(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!n||this._isHostInteractive())&&this._removeInlineDescription(),this._description=n,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,n):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(n){let r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),n&&r.add(`mat-badge-${n}`)}_clearExistingBadges(){let n=this._elementRef.nativeElement.querySelectorAll(`:scope > .${n_}`);for(let r of Array.from(n))r!==this._badgeElement&&r.remove()}};e.\u0275fac=function(r){return new(r||e)(f(U),f(ae),f(Np),f(Jt),f(We,8))},e.\u0275dir=F({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(r,o){r&2&&ce("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small",o.size==="small")("mat-badge-medium",o.size==="medium")("mat-badge-large",o.size==="large")("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[k.None,"matBadgeColor","color"],overlap:[k.HasDecoratorInputTransform,"matBadgeOverlap","overlap",ee],disabled:[k.HasDecoratorInputTransform,"matBadgeDisabled","disabled",ee],position:[k.None,"matBadgePosition","position"],content:[k.None,"matBadge","content"],description:[k.None,"matBadgeDescription","description"],size:[k.None,"matBadgeSize","size"],hidden:[k.HasDecoratorInputTransform,"matBadgeHidden","hidden",ee]},standalone:!0,features:[Ne]});let t=e;return t})();var $S=["*"],lc;function WS(){if(lc===void 0&&(lc=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(lc=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return lc}function jo(t){return WS()?.createHTML(t)||t}function r_(t){return Error(`Unable to find icon with the name "${t}"`)}function HS(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function o_(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function s_(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var qt=class{constructor(e,i,n){this.url=e,this.svgText=i,this.options=n}},Th=(()=>{let e=class e{constructor(n,r,o,s){this._httpClient=n,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,r,o){return this.addSvgIconInNamespace("",n,r,o)}addSvgIconLiteral(n,r,o){return this.addSvgIconLiteralInNamespace("",n,r,o)}addSvgIconInNamespace(n,r,o,s){return this._addSvgIconConfig(n,r,new qt(o,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,o,s){let a=this._sanitizer.sanitize(qe.HTML,o);if(!a)throw s_(o);let c=jo(a);return this._addSvgIconConfig(n,r,new qt("",c,s))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,o){return this._addSvgIconSetConfig(n,new qt(r,null,o))}addSvgIconSetLiteralInNamespace(n,r,o){let s=this._sanitizer.sanitize(qe.HTML,r);if(!s)throw s_(r);let a=jo(s);return this._addSvgIconSetConfig(n,new qt("",a,o))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let r=this._sanitizer.sanitize(qe.RESOURCE_URL,n);if(!r)throw o_(n);let o=this._cachedIconsByUrl.get(r);return o?I(dc(o)):this._loadSvgIconFromConfig(new qt(n,null)).pipe(le(s=>this._cachedIconsByUrl.set(r,s)),S(s=>dc(s)))}getNamedSvgIcon(n,r=""){let o=a_(r,n),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,n),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(n,a):Sn(r_(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?I(dc(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(S(r=>dc(r)))}_getSvgFromIconSetConfigs(n,r){let o=this._extractIconWithNameFromAnySet(n,r);if(o)return I(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Yt(c=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(qe.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),I(null)})));return Bo(s).pipe(S(()=>{let a=this._extractIconWithNameFromAnySet(n,r);if(!a)throw r_(n);return a}))}_extractIconWithNameFromAnySet(n,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(a,n,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(le(r=>n.svgText=r),S(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?I(null):this._fetchIcon(n).pipe(le(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,o){let s=n.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let c=this._svgElementFromString(jo("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,o)}_svgElementFromString(n){let r=this._document.createElement("DIV");r.innerHTML=n;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){let r=this._svgElementFromString(jo("<svg></svg>")),o=n.attributes;for(let s=0;s<o.length;s++){let{name:a,value:c}=o[s];a!=="id"&&r.setAttribute(a,c)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){let{url:r,options:o}=n,s=o?.withCredentials??!1;if(!this._httpClient)throw HS();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(qe.RESOURCE_URL,r);if(!a)throw o_(r);let c=this._inProgressUrlFetches.get(a);if(c)return c;let l=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(S(d=>jo(d)),Qt(()=>this._inProgressUrlFetches.delete(a)),Wo());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(n,r,o){return this._svgIconConfigs.set(a_(n,r),o),this}_addSvgIconSetConfig(n,r){let o=this._iconSetConfigs.get(n);return o?o.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){let r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,n);if(s)return GS(s)?new qt(s.url,null,s.options):new qt(s,null)}}};e.\u0275fac=function(r){return new(r||e)(g(Uc,8),g(Cr),g(H,8),g(Mn))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dc(t){return t.cloneNode(!0)}function a_(t,e){return t+":"+e}function GS(t){return!!(t.url&&t.options)}var qS=new x("MAT_ICON_DEFAULT_OPTIONS"),KS=new x("mat-icon-location",{providedIn:"root",factory:YS});function YS(){let t=C(H),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var c_=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QS=c_.map(t=>`[${t}]`).join(", "),ZS=/^url\(['"]?#(.*?)['"]?\)$/,l_=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,o,s,a,c){this._elementRef=n,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ot.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=n.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let r=n.querySelectorAll(QS),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)c_.forEach(a=>{let c=r[s],l=c.getAttribute(a),d=l?l.match(ZS):null;if(d){let u=o.get(c);u||(u=[],o.set(c,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[r,o]=this._splitIconName(n);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Fe(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(f(ae),f(Th),Rn("aria-hidden"),f(KS),f(Mn),f(qS,8))},e.\u0275cmp=B({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(De("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),en(o.color?"mat-"+o.color:""),ce("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[k.HasDecoratorInputTransform,"inline","inline",ee],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Ne,W],ngContentSelectors:$S,decls:1,vars:0,template:function(r,o){r&1&&(He(),me(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})();function JS(t,e){t&1&&(m(0,"a",9),_(1,"Bejelentkez\xE9s"),b(),m(2,"a",10),_(3,"Regisztr\xE1ci\xF3"),b())}function eT(t,e){if(t&1){let i=ot();m(0,"a",11),_(1,"Gyakorlatok"),b(),m(2,"a",12),_(3,"Edz\xE9s logol\xE1s"),b(),m(4,"a",13),_(5,"Edz\xE9sek list\xE1ja"),b(),m(6,"a",14),$("click",function(){Se(i);let r=ie();return Te(r.logOut())}),_(7,"Kijelentkez\xE9s"),b()}if(t&2){let i=ie();T(4),Yo("matBadge",i.ownGymSessions)}}var d_=(()=>{let e=class e{constructor(n,r,o,s){this.authService=n,this.gymSessionService=r,this.matIconRegistry=o,this.domSanitizer=s,this.title="rep-recorder",this.ownGymSessions=0,this.localStorage=localStorage,this.matIconRegistry.addSvgIcon("dumbbell",this.domSanitizer.bypassSecurityTrustResourceUrl("../assets/dumbbell.svg")),this.countGymSessions()}logOut(){this.authService.logout()}countGymSessions(){this.gymSessionService.getAllGymSession().snapshotChanges().subscribe({next:n=>{this.ownGymSessions=0,n.forEach(r=>{this.ownGymSessions++})}})}};e.\u0275fac=function(r){return new(r||e)(f(Fi),f(ir),f(Th),f(Cr))},e.\u0275cmp=B({type:e,selectors:[["app-root"]],standalone:!0,features:[W],decls:17,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["color","warn","aria-hidden","false",1,"mx-2"],["href","/dashboard",1,"navbar-brand","mt-2"],[1,"text-warning"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["href","/login",1,"text-white","mx-2"],["href","/register",1,"text-white","mx-1"],["href","/dashboard",1,"text-white","mx-2"],["href","/exercise-logger",1,"text-white","mx-2"],["matBadgeOverlap","false","href","/exercise-info",1,"text-white",2,"margin-right","20px",3,"matBadge"],[1,"text-white","mx-2",3,"click"]],template:function(r,o){r&1&&(m(0,"nav",0)(1,"div",1)(2,"mat-icon",2),_(3,"adb"),b(),m(4,"a",3)(5,"p"),_(6,"Rep"),m(7,"span",4),_(8,"Recorder"),b()()(),m(9,"button",5),V(10,"span",6),b(),m(11,"div",7),V(12,"ul",8),fe(13,JS,4,0)(14,eT,8,1),b()()(),m(15,"div",1),V(16,"router-outlet"),b()),r&2&&(T(13),_e(13,o.localStorage.getItem("token")?14:13))},dependencies:[Dl,i_,l_]});let t=e;return t})();Vm(d_,t_).catch(t=>console.error(t));
